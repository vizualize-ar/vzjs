!function(){function m(a){var c=this.constructor;return this.then(function(e){return c.resolve(a()).then(function(){return e})},function(e){return c.resolve(a()).then(function(){return c.reject(e)})})}function g(a){return !(!a||"undefined"==typeof a.length)}function v(){}function d(a){if(!(this instanceof d)){throw new TypeError("Promises must be constructed via new")}if("function"!=typeof a){throw new TypeError("not a function")}this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],p(a,this)}function b(a,c){for(;3===a._state;){a=a._value}0!==a._state?(a._handled=!0,d._immediateFn(function(){var e=1===a._state?c.onFulfilled:c.onRejected;if(null!==e){var i;try{i=e(a._value)}catch(f){return void k(c.promise,f)}j(c.promise,i)}else{(1===a._state?j:k)(c.promise,a._value)}})):a._deferreds.push(c)}function j(f,i){try{if(i===f){throw new TypeError("A promise cannot be resolved with itself.")}if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if(i instanceof d){return f._state=3,f._value=i,void s(f)}if("function"==typeof a){return void p(function(l,o){return function(){l.apply(o,arguments)}}(a,i),f)}}f._state=1,f._value=i,s(f)}catch(c){k(f,c)}}function k(a,c){a._state=2,a._value=c,s(a)}function s(c){2===c._state&&0===c._deferreds.length&&d._immediateFn(function(){c._handled||d._unhandledRejectionFn(c._value)});for(var f=0,a=c._deferreds.length;a>f;f++){b(c,c._deferreds[f])}c._deferreds=null}function p(c,i){var a=!1;try{c(function(l){a||(a=!0,j(i,l))},function(l){a||(a=!0,k(i,l))})}catch(f){if(a){return}a=!0,k(i,f)}}var q=setTimeout;d.prototype["catch"]=function(a){return this.then(null,a)},d.prototype.then=function(a,f){var c=new this.constructor(v);return b(this,new function(l,o,i){this.onFulfilled="function"==typeof l?l:null,this.onRejected="function"==typeof o?o:null,this.promise=i}(a,f,c)),c},d.prototype["finally"]=m,d.all=function(a){return new d(function(l,x){function n(i,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var f=r.then;if("function"==typeof f){return void f.call(r,function(t){n(i,t)},x)}}e[i]=r,0==--w&&l(e)}catch(o){x(o)}}if(!g(a)){return x(new TypeError("Promise.all accepts an array"))}var e=Array.prototype.slice.call(a);if(0===e.length){return l([])}for(var w=e.length,c=0;e.length>c;c++){n(c,e[c])}})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(c){c(a)})},d.reject=function(a){return new d(function(e,c){c(a)})},d.race=function(a){return new d(function(e,l){if(!g(a)){return l(new TypeError("Promise.race accepts an array"))}for(var c=0,n=a.length;n>c;c++){d.resolve(a[c]).then(e,l)}})},d._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){q(a,0)},d._unhandledRejectionFn=function(a){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};var h=function(){if("undefined"!=typeof self){return self}if("undefined"!=typeof window){return window}if("undefined"!=typeof global){return global}throw Error("unable to locate global object")}();"Promise" in h?h.Promise.prototype["finally"]||(h.Promise.prototype["finally"]=m):h.Promise=d}();(function(c,b){function a(f,A){var i=false;var e;var s;var l={};function m(D,F,C){s=p(D);var E=new Promise(function(H){var G=A.getElementById("_bc_cookie_jar");if(!G){G=A.createElement("iframe");G.id="_bc_cookie_jar";G.src=D;G.style.cssText="width:0;height:0;border:none";G.setAttribute("frameborder","0");G.setAttribute("scrolling","no");G.onload=function(){H(G)};A.body.appendChild(G)}else{H(G)}});E.then(function(G){e=G.contentWindow;n(f,"message",F);r().then(function(H){if(!H){if(x()){if(A.cookie.indexOf("_bc_safari_fix")===-1){A.cookie="_bc_safari_fix=1;";f.location.replace(D+(D.indexOf("?")>0?"&redirect=true":"?redirect=true"))}else{t(function(){C(true)})}}else{console.warn("Third party cookies are blocked. Falling back to first-party cookies, cross domain functionality may not work.");C(false)}}else{C(true)}})})}function r(){return d("_bc_tpc_check","OK").then(function(){return y("_bc_tpc_check").then(function(C){return C==="OK"})})}function x(){var C=f.navigator.userAgent.toLowerCase();if(C.indexOf("safari")!==-1){return C.indexOf("chrome")===-1}return false}function p(C){var E=C.split("/");var F=E[0];var D=E[2];return F+"//"+D}function g(C){try{var D=C.data&&JSON.parse(C.data);if(D&&D.eventType==="cookie"){l[D.id](D.cookieValue)}}catch(E){}}function B(){var E=f._bcvma||[];for(var C=0;C<E.length||0;C++){var F=E[C]||[];var D=F[0];if(D==="setParameter"){if(F[1]==="IframeUrl"){return F[2]}}}return null}function q(){var C=B();if(C){return new Promise(function(D){m(C,g,D)}).then(function(D){i=D;return D})}return Promise.resolve(false)}function n(F,G,E){var C="on"+G;var D=F[C];if(F.addEventListener){F.addEventListener(G,E,false)}else{if(F.attachEvent){F.attachEvent(C,E)}else{F[C]=function(H){E(H);return D(H)}}}}function y(C){var D=Math.random();e.postMessage(JSON.stringify({id:D,method:"getCookie",cookieName:C}),s);return new Promise(function(E){l[D]=function(F){delete l[D];E(F)}})}function d(D,E,C){var F=Math.random();e.postMessage(JSON.stringify({id:F,method:"setCookie",cookieName:D,cookieValue:E,cookieExpiry:C}),s);return new Promise(function(G){l[F]=function(H){delete l[F];G(H)}})}function v(){return new f.Date().getTime()}function u(F,D,C){var G,E=F.indexOf(D+"=");if(E!==-1){E+=D.length+1;G=F.indexOf(C,E);return F.substring(E,G===-1?F.length:G)}}function w(C){return u(A.cookie,C,";")}function z(E,I,D,H){var C=D&&new Date(v()+D);if(!H){H=f._bcvm.domain}if(!H){var F=A.location.host;var J=F.indexOf(".");F=J===F.lastIndexOf(".")?"."+F:F.substring(J);var G=F.indexOf(":");if(G!==-1){F=F.substring(0,G)}H=F}A.cookie=E+"="+I+(D?";expires="+C.toUTCString():"")+";domain="+H+";path="+(f._bcvm.path||"/")}function k(C){return h.then(function(D){if(D){return y(C)["catch"](function(){return w(C)})}else{return Promise.resolve(w(C))}})}function j(D,F,C,E){return h.then(function(G){if(G){return d(D,F,C)["catch"](function(){return z(D,F,C,E)})}else{return new Promise(function(H){z(D,F,C,E);H()})}})}function t(C){setTimeout(function(){r().then(function(D){if(D){C()}else{t(C)}})},200)}function o(){return i}var h=q();f._bcvmc={getCookie:w,getCookieAsync:k,setCookie:j,isIframeEnabled:o}}a(c,b)}(window,document));(function(e,d){var b=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var g=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return g>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(h){}return false}());function c(k){k.bc=k.bc||{};k.bc.featureDetection=k.bc.featureDetection||n();return k.bc.featureDetection;function n(){return{hasLocalStorageSupport:h,hasJsonSupport:i,hasCorsXhrSupport:j,hasConsoleSupport:l,features:q()}}function q(){return{localStorage:g(),json:m(),corsXhr:o(),console:p()}}function o(){return !!k.XMLHttpRequest&&(new k.XMLHttpRequest().withCredentials!==undefined)}function m(){return !!k.JSON&&!!k.JSON.parse&&!!k.JSON.stringify}function g(){try{var t=k.localStorage;var r="__storage_test__";t.setItem(r,r);t.getItem(r);t.removeItem(r);return true}catch(s){return false}}function p(){return !!k.console&&!!k.console.error&&!!k.console.log}function h(){return this.features.localStorage}function i(){return this.features.json}function j(){return this.features.corsXhr}function l(){return this.features.console}}function f(n,g){n.bc=n.bc||{};n.bc.visitorTracking=n.bc.visitorTracking||s();return j();function j(){return n.bc.visitorTracking}function s(){return{sync:r,getToken:v,storeToken:k,featureDetection:new c(n),synced:false,isSyncing:false,token:null}}function r(x){x=x||function(){};var z=j().getToken();if(j().synced){x(z)}else{if(j().isSyncing){var y=function(){var A=v();x(A)};u(y)}else{p(z,x)}}}function v(){if(j().token){return j().token}if(j().featureDetection.hasLocalStorageSupport()&&j().featureDetection.hasJsonSupport()){return i(n.localStorage.getItem("bc.visitor_token"))}return null}function k(x){j().token=x;if(j().featureDetection.hasLocalStorageSupport()&&j().featureDetection.hasJsonSupport()){n.localStorage.setItem("bc.visitor_token",o(x))}}function q(A,y,x){A=A||function(){return true};y=y||50;x=x||function(){};var z=function(){if(A()){x()}else{setTimeout(z,y)}};z()}function u(x){var y=function(){return !j().isSyncing};q(y,200,x)}function p(A,x){if(!(j().featureDetection.hasCorsXhrSupport()&&j().featureDetection.hasJsonSupport())){w(v(),x);return}j().isSyncing=true;var y=A?g+"?visitorToken="+A:g;var z=new n.XMLHttpRequest();z.withCredentials=true;z.open("get",y,true);z.timeout=5000;z.ontimeout=function(){m(z,x)};z.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){var B=l(this.responseText);w(B,x)}else{m(z,x)}}};z.send(null)}function w(y,x){j().isSyncing=false;j().synced=true;x(y)}function m(y,x){j().isSyncing=false;j().synced=false;t("visitorToken syncing failed: ",y);x(v())}function t(){if(j().featureDetection.hasConsoleSupport()){console.error.apply(console,arguments)}}function i(y){var x;try{x=n.JSON.parse(y||null)||{}}catch(z){x={}}return x.token||null}function l(y){var x=h(y);k(x);return x}function h(x){return n.JSON.parse(x).visitorToken}function o(x){return n.JSON.stringify({token:x})}}function a(n,L,h,B){var k="_bc-curl";var K="_bc-show-floating-button_";var G=300000;var x=u(h);var F="nanorep";var D="agent";function I(){return o().then(function(M){var N=s()||M;if(n._bcvmw.cancelWidgetStart){return false}if(N){return n._bcvmw.chatWindow(N,N.id).then(function(){return true})}return false})}var t;function s(){var M=n.sessionStorage&&n.sessionStorage.getItem(k);return M?w(M):null}function J(){return !!(s()||A())}function g(){return o().then(function(M){return !!(s()||M)})}function o(){return n._bcvmc.getCookieAsync("_bc-curl").then(w).then(function(M){t=M;return M})}function A(){return w(n._bcvmc.getCookie("_bc-curl"))}function j(M){if(!M){return Promise.resolve(false)}var N=K+M;return n._bcvmc.getCookieAsync(N).then(function(O){return O==="true"})}function C(N,M){if(!M||!n||!n._bcvmc||!n._bcvmc.setCookie){return}n._bcvmc.setCookie(K+M,N,G)}function u(N){var M=N.indexOf("-")===0?N.substring(N.indexOf(".")):N;return new RegExp(M.replace(/\./g,"\\.")+"$")}function v(M){var N=document.createElement("a");N.href=M;return x.test(N.hostname)}var q=(function(){var M=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return M&&parseInt(M[2],10)>=47}());function m(M){n._bcvmw.cancelWidgetStart=M}n._bcvmw={chatWindow:function(N,O,M){if(n._bcvmw.cancelWidgetStart&&!N.bt_override){return Promise.resolve()}return n._bcvmw.hasActiveChatAsync().then(function(U){var W=N.launchType===F?F:D;if(!n._bcvmw.previousChatType){n._bcvmw.previousChatType=W}if(U&&N.bt_override){if(n._bcvmw.previousChatType&&n._bcvmw.previousChatType!==W){if(W===F){n._bcvmw.closeAgent=true}if(W===D){n._bcvmw.closeNanorep=true}}}if(!O&&U&&!N.bt_override){return I().then(function(){return Promise.resolve()})}m(true);var ad=n.pageViewer;var P;var ab=null;var V=n.hideBox||n.bt_hideAnimationImpl;var Z=N.video&&b&&q&&!/^https:/.test(n.location.protocol);var Q=Z||/(android 2|android 3)/i.test(navigator.userAgent)||/iemobile\/9/i.test(navigator.userAgent)||/(msie 7)/i.test(navigator.userAgent)||/(msie 8|msie 9)/i.test(navigator.userAgent)&&document.compatMode!=="CSS1Compat";var ac=/(msie 6|opera mini|opera mobi.*presto)/i.test(navigator.userAgent);var X=ad&&ad.getParameter("OverrideLayer",N)==="true";var R=Q||ac||ad&&ad.getParameter("OverridePopup",N)==="true";if(!M&&!O){M=ad&&ad.getParameter("SecureParameters",N)}if(typeof M==="function"){M=M(function(ae){m(false);n._bcvmw.chatWindow(N,O,ae)},"chat");if(!M){return}}if(n._bcvmw.customChatWindow){var aa={button:N.bdid,queueToken:N.token,url:L.location.href,customUrl:ad&&ad.getWindowParameter("CustomUrl",N),secure:M,visitor:ad&&ad.getVisitorID(),forcePopup:!N.embed&&!X||R,width:(ad.getWindowParameter("ChatWidth",N)||N.width||"640"),height:(ad.getWindowParameter("ChatHeight",N)||N.height||"480"),language:ad&&ad.getWindowParameter("Language",N)};var S={reference:ad&&ad.getWindowParameter("VisitRef",N),information:ad&&ad.getWindowParameter("VisitInfo",N),name:N.name||(ad&&ad.getWindowParameter("VisitName",N)),phone:ad&&ad.getWindowParameter("VisitPhone",N),email:N.email||(ad&&ad.getWindowParameter("VisitEmail",N)),initial_question:N.initialQuestion||(ad&&ad.getWindowParameter("InitialQuestion",N))};var Y=n._bcvmw.customChatWindow(aa,S);if(typeof Y==="undefined"||Y){m(false);return}}function T(){if(!N.invite&&V){V(2)}function ae(){if(N.url&&!N.invite){P=N.url;return Promise.resolve()}else{var ag=ad.getParameter("WebsiteDefID",N)||ad.getParameter("WebsiteID",N);P=N.url||"https://livechat"+n._bcvm.host+"/bc."+N.type+"?resize=true"+(N.bdid?"&cbdid="+N.bdid:(N.cwdid?"&cwdid="+N.cwdid:""))+(ag?"&wdid="+ag:"")+"&url="+(n.encodeURIComponent||n.escape)(L.location.href);P+=(N.token?"&queueToken="+N.token:"");var af=ad.getParameter("PinvitationID",N);if(af){P+="&pinid="+af}var ak={Language:"lc",Difficulty:"Difficulty",Urgency:"Urgency",CustomUrl:"curl",WindowParameters:null};for(var ai in ak){var aj=ak[ai];var ah=ad.getParameter(ai,N);if(ah){P+="&"+(aj?aj+"=":"")+ah}}P+=(N.rdid?"&rdid="+N.rdid:"")+(N.roid?"&roid="+N.roid:"");P+=(N.group?"&group="+N.group:"");if(ad&&ad.link){return ad.link(P,true).then(function(al){P=al})}else{return Promise.resolve()}}}return ae().then(function(){if(M){ab=ab||{localsecured:[],secured:[],hash:[]};ab.secured.push(M)}if(N.secured||N.localsecured){ab=ab||{localsecured:[],secured:[],hash:[]};if(N.secured){ab.secured.push(N.secured)}if(N.hash){ab.hash.push(N.hash)}if(N.localsecured){ab.localsecured.push(N.localsecured)}}ab=ab||{};var ag=P.indexOf("?");var am=ag===-1?[]:P.substring(ag+1).split("&");for(var ak=0;ak<am.length;ak++){var al=am[ak];var ai=al.indexOf("=");var ap=decodeURIComponent(ai===-1?al:al.substring(0,ai));var an=decodeURIComponent(ai===-1?"":al.substring(ai+1));ab[ap]=ab[ap]||[];ab[ap].push(an)}P=ag===-1?P:P.substring(0,ag);var ao=function(aw,aq){P=aw?P.replace(/bc\.chat/,"mobilechat/visitor.jsp")+(ac?"&pt=9":""):P;if(aq){P=aw?P.replace(/bc\.chat/,"mobilechat/visitor.jsp")+(ac?"&pt=9":""):P;if(n.bcConfig&&n.bcConfig.cid&&!(/&cid=/.test(P))){P=P+"&cid="+n.bcConfig.cid}}var at=ab?"about:blank":P;var az="popup_"+(N.type||"unknown")+(N.bdid||"")+"_"+(N.cwdid||"");if(/OS X.*CriOS.*Mobile/i.test(navigator.userAgent)&&N.invite){n.open(at,az)}else{n.open(at,az,(N.open||(ad&&ad.getParameter("OpenParameters",N))||"toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1")+",width="+((ad&&ad.getParameter("ChatWidth",N))||N.width||"640")+",height="+((ad&&ad.getParameter("ChatHeight",N))||N.height||"480"))}if(ab){var ar=L.createElement("form");ar.target=az;ar.method="post";ar.action=P;for(var av in ab){for(var au=0;au<ab[av].length;au++){var ay=L.createElement("input");ay.type="hidden";ay.name=av;ay.value=ab[av][au];ar.appendChild(ay)}}var ax=function(){try{L.body.appendChild(ar)}catch(aB){try{L.body.insertBefore(ar,L.body.firstChild)}catch(aA){setTimeout(ax,1000);return}}ar.submit()};ax()}m(false)};function af(aq){ao(aq,true)}function aj(){var aq=!!N.showFloatingButtonsAfterChatStart;if(aq){C(aq,N.cwdid);return Promise.resolve(aq)}else{return j(N.cwdid)}}var ah=function(){aj().then(function(at){if(N.launchType==="nanorep"){n.bcConfig=n.bcConfig||{};n.bcConfig.showFloatingButtonsAfterChatStart=at;var ar=ad&&(ad.getParameter("WebsiteDefID",N)||ad.getParameter("WebsiteID",N));var av=N.url&&N.invite?N.url.replace(/bc.chat/,"bot/launcher.jsp"):N.url;E(av,O,N.cwdid,ar,N.bdid,ab)}else{if(!N.embed&&!X||R){ao(N.embed||X)}else{var ax=O||(Math.floor(Math.random()*1000000000)+""+Math.floor(Math.random()*1000000000));var aq=P.replace(/bc\.chat.*/,"").replace(/mobilechat.*/,"")+"mobilechat/launcher.jsp?v="+(N.version||"1")+(N.cwdid?"&cwdid="+N.cwdid:"")+"&cid="+ax;var au=N.url&&!N.invite?P:P.replace(/bc.chat/,"mobilechat/visitor.jsp");n.bcConfig=n.bcConfig||{};n.bcConfig.frame=true;n.bcConfig.aid=P.match(/\/aid\/([0-9]+)\//)[1];n.bcConfig.cid=O;n.bcConfig.cwdid=N.cwdid||"";n.bcConfig.obj={url:au,hostUrl:L.location.href,post:ab};n.bcConfig.loader=aq.replace(/launcher.jsp.*/,"loader.jsp");n.bcConfig.launchPopup=ao;n.bcConfig.launchPopupFromLayered=af;n.bcConfig.minimizeOnStart=N.minimizeOnStart;n.bcConfig.showOnNextOperatorMessage=N.showOnNextOperatorMessage;n.bcConfig.autoCloseOnNoOperators=N.autoCloseOnNoOperators;n.bcConfig.showFloatingButtonsAfterChatStart=at;var aw=L.createElement("script");aw.type="text/javascript";aw.src=aq;L.getElementsByTagName("head")[0].appendChild(aw)}}return Promise.resolve()})};B.sync(function(){});ah()})}if(!O){I().then(function(ae){if(!ae){return T()}})}else{return T()}})},closeChat:function(){},hasActiveChatAsync:g,hasActiveChat:J};var r=L.location.href;var i=r.indexOf("#reboot-cid=");if(i!==-1){var z=(n.decodeURIComponent||n.unescape)(r.substring(i+12)).split(":");if(z.length>1){var p=null;if(z.length>7){p=z[7]}n.setTimeout(function(){n._bcvmw.chatWindow({cwdid:z[1],version:1,embed:true,type:"chat",launchType:p},z[0])},1000)}L.location.href=r.replace(/#.*/,"#");return}r=L.location.href;i=r.indexOf("#bc-curl=");if(i!==-1){var y=(n.decodeURIComponent||n.unescape)(r.substring(i+9));var l=w(y);if(l){n.setTimeout(function(){n._bcvmc.setCookie(k,y);L.location.href=r.replace(/#.*/,"#");I()},1000);return}else{console.error("Invalid Chat URL")}}I();function w(O){var P=O?O.split(":"):[];if(P.length>2){var N=P[0];var U=P[1];var M=(n.decodeURIComponent||n.unescape)(P[2]);var R=P[3];var Q=P[4];var T=P[5];var S=P.length>7?P[7]:null;if(v(M)){return{id:N,url:M,cwdid:U,minimized:R,unreadMessageCount:Q,version:T,embed:true,launchType:S}}else{console.error("Invalid Chat URL: "+M)}}return null}function H(){var M=Math.floor(Math.random()*9223372037);return((M===0)?"":M)+""+Math.floor(Math.random()*((M===9223372036)?854775808:1000000000))}function E(M,Q,U,O,R,T){n.bcConfig=n.bcConfig||{};n.bcConfig.post=T;n.bcConfig.cid=Q;var N=H();var S=M||("https://livechat"+n._bcvm.host+"/bot/launcher.jsp?"+(Q?"cid="+Q:"id="+N)+(U?"&cwdid="+U:"")+(O?"&wdid="+O:"")+(R?"&cbdid="+R:"")+"&url="+(n.encodeURIComponent||n.escape)(L.location.href));var P=L.createElement("script");P.type="text/javascript";P.src=S;L.getElementsByTagName("head")[0].appendChild(P)}}a(e,d,".boldchat.com",new f(e,"https://visitor-services.boldchat.com/visitor-token-service/visitor-token"))}(window,document));window._bcvmf={divs:[],windows:{},floatButton:function(d){if(window.pageViewer&&pageViewer.removeButton){pageViewer.removeButton(d.bdid)}if(!d.img){return}if(d.hideUnsupported){var m=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return a>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(x){}return false}());if(!m){return}}var Z=window,j=document,H=j.body,ae=j.documentElement,P=Math.random()+"",ad=function(){return new Date().getTime()},S=d.x,R=d.y,q=d.dl,h=d.dt,o=d.px,l=d.py,M=d.fix,V=1000000000,N=1000000000,ag,I,n,an,s,E,D,i,Y=j.getElementById("bcvml"),Q=1,g=0,B=navigator.userAgent.match(/(iPad|iPhone|iPod)/g),af=/(iphone|ipod|ipad).* os 8_/i.test(navigator.userAgent),t=/Silk/.test(navigator.userAgent),al=/Android/.test(navigator.userAgent)||t,ab=/IEMobile/.test(navigator.userAgent),e=/mobile.*firefox/i.test(navigator.userAgent)||/tablet.*firefox/i.test(navigator.userAgent),U=/Android 4.*WebKit.*Version\/4.0/.test(navigator.userAgent),W=(document.compatMode=="CSS1Compat"&&!B&&!al&&!ab)||e,ac=d.si!=null&&d.si>=0,am=false,ak=function(){return Math.max(n.width,n.offsetWidth||0,n.naturalWidth||0)},K=function(){return Math.max(n.height,n.offsetHeight||0,n.naturalHeight||0)},aa=function(){return aj(((q?o:100-o)/100*(A()-Math.min(V,ak())*Q)+(q?S:-S))+(!M||W?0:window.scrollX||window.pageXOffset))},X=function(){if(b()){return v()}else{return c((h?l:100-l)/100*(O()-Math.min(N,K())*Q)+(h?R:-R)+(!M||W?0:window.scrollY||window.pageYOffset))}},v=function(){return l/100*(O())+R},aj=function(x){var a=x;if(a>document.body.scrollWidth-Math.min(V,ak())*Q){if(a>A()-Math.min(V,ak())*Q){a=document.body.scrollWidth-Math.min(V,ak())*Q}}return a},c=function(x){var a=x;if(a>document.body.scrollHeight-Math.min(N,K())*Q){if(a>O()-Math.min(N,K())*Q){a=document.body.scrollHeight-Math.min(N,K())*Q}}return a};function O(){return((B||al||e)?window.innerHeight:((W^!M)&&ae.clientHeight||H&&H.clientHeight)*Q)}function A(){return((B||al||e)?window.innerWidth:((W^!M)&&ae.clientWidth||H&&H.clientWidth)*Q)}var T=function(){if(B||al){G()}I.style.width=ak()+"px";I.style.height=K()+"px";if(!ac){ag.style.width=ak()+"px";ag.style.height=K()+"px"}E=aa();D=X();ag.style.left=E+"px";if(b()){ag.style.bottom=D+"px"}else{ag.style.top=D+"px"}if(ac){s(true)}};function G(){if(B||al){if(ai()){Q=window.innerWidth/Math.max(screen.width,screen.height)}else{Q=window.innerWidth/Math.min(screen.width,screen.height)}}if(g!==Q){var a="top";if(b()){a="bottom"}ag.style.transform="scale("+Q+")";ag.style.transformOrigin=a+" left";ag.style.webkitTransform="scale("+Q+")";ag.style.webkitTransformOrigin=a+" left";W=(document.compatMode=="CSS1Compat"&&(!B&&!al||window.innerWidth==document.body.scrollWidth)&&!ab)||e;k()}g=Q}function ai(){if(B&&typeof window.orientation!=="undefined"){return(Math.abs(window.orientation)===90)}else{if(document.documentElement&&document.documentElement.clientWidth){return(document.documentElement.clientWidth>document.documentElement.clientHeight)}else{return(window.innerWidth>window.innerHeight)}}}function b(){return W&&M&&!h&&e}function k(){ag.style.position=W&&M?"fixed":"absolute"}ag=j.createElement("div");I=j.createElement("div");n=new Image();an=j.createElement("a");ag.setAttribute("class","bcFloat");ag.style.display="none";I.style.position="absolute";an.setAttribute("href","#");an.onclick=function(){Z._bcvmw.chatWindow(d);return false};if(ac){var w=d.sl,r=d.st,C=0,J=0,L,z=d.si,p=100,u=function(a){return 1-Math.E*Math.exp(-1/(1-a*a))};V=w;N=r;s=function(aq){if(am){return}am=true;var a=V,ao=N,y=Math.min(1,(ad()-J)/z),x=C?ak():w||ak(),ap=C?K():r||K();if(C){y=1-y}y=u(y);V=y*Math.min(ak(),w||ak())+(1-y)*ak();N=y*Math.min(K(),r||K())+(1-y)*K();ag.style.width=V+"px";ag.style.height=N+"px";if(q){I.style.marginLeft=(V-ak())+"px"}if(h){I.style.marginTop=(N-K())+"px"}else{if(b()){I.style.marginBottom=(N-K())+"px"}}if(V!=x||N!=ap){if(L){clearTimeout(L)}L=setTimeout(s,p)}E+=a-V;if(!b()){D+=ao-N}if(V!=a&&!q){ag.style.left=E+"px"}if(N!=ao&&!h){if(b()){ag.style.bottom=D+"px"}else{ag.style.top=D+"px"}}am=false};I.onmouseover=function(){J=ad()-z*(1-Math.min(1,(ad()-J)/z));C=1;if(L){clearTimeout(L)}L=setTimeout(s,p)};I.onmouseout=function(){J=ad()-z*(1-Math.min(1,(ad()-J)/z));C=0;if(L){clearTimeout(L)}L=setTimeout(s,p)}}ag.appendChild(I);I.appendChild(an);an.appendChild(n);_bcvmf.divs.push(ag);n.setAttribute("id",P);n.setAttribute("border",0);n.setAttribute("alt",d.altText);n.onload=function(){ag.style.textAlign="left";ag.style.zIndex=3141591;ag.style.overflow="hidden";k();T();ag.style.display="block";_bcvmf.updateFloatVisibility()};n.src=d.img;if(B||al){ag.style.transition="all 0.2s linear";ag.style.WebkitTransition="all 0.2s linear"}function f(){try{j.body.appendChild(ag)}catch(a){try{j.body.insertBefore(ag,j.body.firstChild)}catch(a){setTimeout(f,1000);return}}H=j.body;T()}f();_bcvm.addEvent(Z,"resize",T);if(B||(al&&!U)){function ah(){var a=!W||!M;if(a){ag.style.position="fixed"}T();setTimeout(function(){if(a){k()}T()},500)}_bcvm.addEvent(Z,"orientationchange",ah)}function F(){setTimeout(function(){T()},500)}_bcvm.addEvent(Z,"touchend",F);_bcvm.addEvent(Z,"scroll",T);if(Z.pageViewer&&pageViewer.addButton){pageViewer.addButton({parents:[ag],id:P,bdid:d.bdid,type:d.type,roid:d.roid,rdid:d.rdid,obj:d},true)}if(window.pageViewer.addExperimentButton){window.pageViewer.addExperimentButton({id:d.id,type:d.type},d.originalButtonId)}},updateFloatVisibility:function(a,d){var c=false;if(a){_bcvmf.windows[a]=d}for(var b in _bcvmf.windows){if(!_bcvmf.windows[b]){c=true;break}}for(var b=0;b<_bcvmf.divs.length;b++){_bcvmf.divs[b].style.display=c?"none":"block"}}};window._bcvmb={button:function(e){if(window.pageViewer&&pageViewer.removeButton){pageViewer.removeButton(e.id||e.bdid)}if(!e.img){return}if(e.hideUnsupported){var n=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return a>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(i){}return false}());if(!n){return}}var g=window,m=document,b,h=!e.id?_bcvm.select(e.element):[m.getElementById(e.id)],c=Math.random()+"",f,l,o=function(){g._bcvmw.chatWindow(e);return false},k=[],j=[];for(var d=0;d<h.length;d++){b=h[d];if(!b){continue}l=m.createElement("a");b.className=(b.className+" "||"")+"bcStatic";l.setAttribute("href","#");l.onclick=o;if(!e.html){f=new Image();f.setAttribute("border",0);f.setAttribute("alt",e.altText);f.src=e.img}else{f=m.createElement("div");f.innerHTML=!e.img?"":e[e.img]}k.push(f);l.appendChild(f);j.push(l);b.appendChild(l)}if(g.pageViewer&&pageViewer.addButton){pageViewer.addButton({parents:j,id:c,eid:e.id,tbid:e.html?e.bdid:null,html:e.html,available:e.available,unavailable:e.unavailable,elements:k,bdid:e.bdid,type:e.type,roid:e.roid,rdid:e.rdid,obj:e},true)}if(window.pageViewer.addExperimentButton){window.pageViewer.addExperimentButton({id:e.id,type:e.type},e.originalButtonId)}}};window._bcvmt={text:function(d){if(window.pageViewer&&pageViewer.removeButton){pageViewer.removeButton(d.id)}if(d.hideUnsupported){var k=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return a>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(l){}return false}());if(!k){return}}if(!d.available){return}var g=window,j=document,b=j.getElementById(d.id),c=Math.random()+"",i,h=j.createElement("div"),f=g._bcvm.textButtons[d.id],e=f&&f[d.available];i=j.createElement("a");b.setAttribute("class","bcText");i.setAttribute("href","#");i.onclick=function(){g._bcvmw.chatWindow(d);return false};h.setAttribute("id",c);h.innerHTML=e;i.appendChild(h);b.appendChild(i);if(g.pageViewer&&pageViewer.addButton){pageViewer.addButton({parents:[i],id:c,available:f&&f.available,unavailable:f&&f.unavailable,tbid:d.id,type:d.type,roid:d.roid,rdid:d.rdid,obj:d},true)}}};(function(){function b(h){if(!doc.getElementsByTagName){return[]}h=h.replace(/\s*([^\w])\s*/g,"$1");var B=[],n=h.split(","),x,J,g,H,m;var n=h.split(",");var w=function(P,o){if(!o){o="*"}x=[];for(var N=0,l=P.length;m=P[N],N<l;N++){var j;if(o=="*"){j=m.all?m.all:m.getElementsByTagName("*")}else{j=m.getElementsByTagName(o)}for(var i=0,O=j.length;i<O;i++){x.push(j[i])}}};COMMA:for(var K=0,t=n.length;J=n[K],K<t;K++){var k=[doc],y=J.split(" ");SPACE:for(var I=0,s=y.length;g=y[I],I<s;I++){var r=g.indexOf("["),p=g.indexOf("]"),q=g.indexOf("#");if(q+1&&!(q>r&&q<p)){var C=g.split("#"),M=C[0],z=C[1],v=doc.getElementById(z);if(!v||(M&&v.nodeName.toLowerCase()!=M)){continue COMMA}k=[v];continue SPACE}q=g.indexOf(".");if(q+1&&!(q>r&&q<p)){var C=g.split("."),M=C[0],G=C[1];w(k,M);k=[];for(var F=0,L=x.length;H=x[F],F<L;F++){if(H.className&&H.className.match(new RegExp("(^|s)"+G+"(s|$)"))){k.push(H)}}continue SPACE}if(g.indexOf("[")+1){if(g.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?['"]?([^\]'"]*)['"]?\]$/)){var M=RegExp.$1,E=RegExp.$2,u=RegExp.$3,D=RegExp.$4}w(k,M);k=[];for(var F=0,L=x.length;H=x[F],F<L;F++){if(u=="="&&H.getAttribute(E)!=D){continue}if(u=="~"&&!H.getAttribute(E).match(new RegExp("(^|\\s)"+D+"(\\s|$)"))){continue}if(u=="|"&&!H.getAttribute(E).match(new RegExp("^"+D+"-?"))){continue}if(u=="^"&&H.getAttribute(E).indexOf(D)!=0){continue}if(u=="$"&&H.getAttribute(E).lastIndexOf(D)!=(H.getAttribute(E).length-D.length)){continue}if(u=="*"&&!(H.getAttribute(E).indexOf(D)+1)){continue}else{if(!H.getAttribute(E)){continue}}k.push(H)}continue SPACE}w(k,g);k=x}for(var A=0,L=k.length;A<L;A++){B.push(k[A])}}return B}function d(){var i={};return{get:g,set:j,getAll:h};function g(k){return i[k]}function j(k,l){i[k]=l}function h(k){if(typeof k!=="function"){k=urlFormatter}return k(i)}}(function(){d.FORMATTERS={URL_ENCODE:g(""),PREFIXED_URL_ENCODE:g};function g(i){return function h(n){var m=[];for(var k in n){if(n.hasOwnProperty(k)){var j=encodeURIComponent(i+k);var l=n[k];if(l){m.push(j+"="+encodeURIComponent(l))}else{m.push(j)}}}return m.join("&")}}}());function e(p,O,W,P,X,A,z,R,C,y,V,F,Q,E,G,v,i,u,K,S){O.bcLoaded=true;var n=W+"/aid/";var U=new d();var h=B();var j="_bc-curl";var M={NoAction:1,InitiateChat:2,InitiateCall:3,InviteChat:4,InviteCall:5,GetCoBrowseData:6,StartCoBrowse:7};var g={NoError:1,VisitorMonitorDisabled:2,InactivePageView:3,DelayedChatInvitation:4,DelayedCallInvitation:5};var T={ChatInvitationTemplateVariants:29,CallInvitationTemplateVariants:51};function w(){return new O.Date().getTime()}function t(ab,Z,Y){var ac,aa=ab.indexOf(Z+"=");if(aa!==-1){aa+=Z.length+1;ac=ab.indexOf(Y,aa);return ab.substring(aa,ac===-1?ab.length:ac)}}function I(Y){return t(p.location.href,Y,"&")}function L(Z){var aa={};for(var Y in Z){aa[Y]=Z[Y]}return aa}function s(ab,ac,aa){var Y="on"+ac;var Z=ab[Y];if(ab.addEventListener){ab.addEventListener(ac,aa,false)}else{if(ab.attachEvent){ab.attachEvent(Y,aa)}else{ab[Y]=function(ad){aa(ad);return Z(ad)}}}}function q(aa){var Y=p.getElementsByTagName("head")[0]||p.body;var Z=p.createElement("script");Z.id="bcvm_script_"+new Date().getTime();Z.async=true;Z.type="text/javascript";Z.src=aa;Y.appendChild(Z);if(/\/(bc.vm|bc.pv|bc.evi|bc.page.view.invitation.result)/i.test(aa)){setTimeout(function(){Y.removeChild(Z)},30000)}}function l(Z){var Y="";N(Z,function(aa,ab){Y+="&"+aa+"="+encodeURIComponent(ab)});return Y.substring(1)}function N(ab,Y){for(var aa in ab){var Z=ab[aa];if(Z&&Z.length){r(aa,Z,Y)}}}function r(aa,Z,Y){for(var ab=0,ac=Z.length;ab<ac;ab++){Y(aa,Z[ab])}}function H(Z,Y,ab,ae){if(ah()){af()}else{ai()}function aa(ak){if(ab&&typeof ab==="function"){ab(ak)}}function ac(ak){if(ae&&typeof ae==="function"){ae(ak)}}function ah(){return O.XMLHttpRequest&&(new O.XMLHttpRequest().withCredentials)!==undefined}function af(){var ak=new O.XMLHttpRequest();ak.open("POST",Z,true);ak.setRequestHeader("Content-type","application/x-www-form-urlencoded");ak.withCredentials=true;ak.onload=function(){if(this.readyState===4&&this.status===200){aa(ak.responseText)}else{ac(ak.responseText)}};ak.onerror=function(){ac()};ak.send(l(Y))}function ai(){var ak=ag();var al=aj(ak.name,Y);ak.onload=function(){aa();p.body.removeChild(al);p.body.removeChild(ak)};ak.onerror=function(){ac()};al.submit()}function ag(){var ak=p.createElement("iframe");var al="bcvm_iframe_"+Math.random()+"_"+new Date().getTime();ak.name=al;ak.style.cssText="width: 0px; height: 0px;";p.body.appendChild(ak);return ak}function aj(al,am){var ak=p.createElement("form");ak.target=al;ak.method="post";ak.action=Z;N(am,function(an,ao){ad(ak,an,ao)});p.body.appendChild(ak);return ak}function ad(am,al,an){var ak=p.createElement("input");ak.type="hidden";ak.name=al;ak.value=an;am.appendChild(ak)}}function m(Y,Z){return new Promise(function(ab,aa){var ac=new O.XMLHttpRequest();ac.withCredentials=true;ac.open("get",Y+"?"+l(Z),true);ac.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){ab(this.responseText)}else{aa()}}};ac.send()})}function D(){return O._bcvmc.isIframeEnabled()}function J(ay){var bI=1000;var aK={VisitRef:"vr",VisitInfo:"vi",VisitName:"vn",VisitPhone:"vp",VisitEmail:"ve"};var bd={WindowParameters:"&",OpenParameters:","};var bm={OpenParameters:"op",InvitationID:"idid",InvitationDefID:"idid",WindowScheme:"cp",CharSet:".cs",CustomUrl:"curl",ChatWidth:"cwidth",ChatHeight:"cheight",CallWidth:"pwidth",CallHeight:"pheight",ChatWindowID:"cwdid",ChatWindowDefID:"cwdid",CallWindowDefID:"pwdid",Language:"lc",Difficulty:"Difficulty",Urgency:"Urgency"};var Y={ConversionCodeID:"ccid",ConversionAmount:"ca",ConversionRef:"cr",ConversionInfo:"ci",ConversionOrder:"co",ConversionPurchased:"cp"};var aD=setTimeout;var aa=clearTimeout;var bC=new Image();if(P){var aw=[]}var aB=0;var bu=function(){return v(aB,bf)};var bg=p.location.protocol;var bk="https://";var a5=(bg==="https:"||bg==="http:")&&X;var aH;var bW;var bf=false;var ag;var a4=false;if(A){var bS={};var bi={};var ax="";var au="";var bb=""}var a9;var a3;var bR;var an;var a0;var bG="";var bc;var bN;var bM="SecureParameters";var aE=!A?{WindowScheme:bk,ChatWidth:640,ChatHeight:480,CallWidth:480,CallHeight:360}:{};var aA={};var bT=[aZ];var aI=true;var Z={id:"pageView"};var bA=null;var ab=null;var bL=new f(O,u);var a2=new a(O);var aN=false;function aq(bX){O._bcvm.domain=bX}function ah(bX){O._bcvm.path=bX}function aY(bY,bX,bZ){ag=bZ;bG=ba("wdid",bQ("WebsiteDefID")||bQ("WebsiteID"))+ba("pvid",ag);bD(bY,bX).then(function(){aI=true;ad()})}function bD(bY,bX){bR=bQ("WebsiteDefID")||bQ("WebsiteID")||ay;an=R+bR;a0=C+bR;if(a5){return Promise.all([O._bcvmc.getCookieAsync(an),O._bcvmc.getCookieAsync(a0)]).then(function(b0){a9=bX||b0[0]||I(an)||a9;a3=bY||b0[1]||I(a0)||a3;var bZ=O._bcvmc.getCookie(a0);if(a9){O._bcvmc.setCookie(an,a9)}if(a3){O._bcvmc.setCookie(a0,a3,y*86400000)}if(!a3&&bZ){O._bcvmc.setCookie(a0,bZ,y*86400000)}})}else{a9=bX||I(an)||a9;a3=bY||I(a0)||a3;return Promise.resolve()}}function aZ(bY,bX){var bZ=bY.indexOf("#");return bY.substring(0,bZ==-1?bY.length:bZ)+(bY.indexOf("?")==-1?"?":"")+(a5?ba(C,"true"):"")+ba(an,(w()+(o.serverTimeOffset||0))+"S"+a9)+ba(a0,(w()+(o.serverTimeOffset||0))+"S"+a3)+(bX?"":ba("curl",aE.CustomUrl)+"&"+bn())+(bZ==-1?"":bY.substring(bZ))}function ak(bY,bX){return bD().then(function(){for(var bZ=0;bZ<bT.length;bZ++){bY=bT[bZ](bY,bX)}return bY})}function bw(bX){bT.push(bX)}function aM(bX){for(var bY=0;bY<bT.length;bY++){if(bT[bY]==bX){bT.splice(bY,1)}}}function a6(){return ag}function ac(bX){ay=bX;O._bcvm.host=n+ay}function bK(bY,b2){if(!bY){return{}}var b1=bY.split(b2),bX,b0,bZ={};for(bX=0;bX<b1.length;bX++){b0=b1[bX].indexOf("=");bZ[b0==-1?b1[bX]:b1[bX].substring(0,b0)]=b0==-1?null:b1[bX].substring(b0+1)}return bZ}function aS(b1,bZ,b3){if(!b3){return bZ||b1}var bX=bK(b1,b3),bY=bK(bZ,b3),b2="";for(var b0 in bY){if(!bX[b0]||bY[b0]){bX[b0]=bY[b0]}}for(var b0 in bX){if(b2!=""){b2+=b3}b2+=b0+(bX[b0]==null?"":"="+bX[b0])}return b2}function bB(bZ,bX,bY){aE[bZ]=bY?bX:aS(aE[bZ],bX,bd[bZ])}function bQ(bZ,bY){var bX=(bY?bY[bZ]:null)||(bY&&bY.id&&aA[bY.id]?aA[bY.id]["parameters"][bZ]:null)||aE[bZ]||"";return bX}function bJ(bX){return U.get(bX)}function a1(bX,bY){U.set(bX,bY);bL.sync(function(){a7()})}function aO(){return U.getAll(d.FORMATTERS.PREFIXED_URL_ENCODE("extendedInfo_"))}function a7(){if(!ab){ab=setTimeout(function(){ab=null;bq()},bI)}}function bq(bY){if(!ag){a7();return}var bX=null;if(!bY){bY=bQ(bM,Z)}if(typeof bY=="function"){bY=bY(function(bZ){bq(bZ)},"visit");if(!bY){return}}O._bcvmc.getCookieAsync("bc_pv_end").then(function(b0){var bZ=ag||(X&&b0);bc=p.location.href;bN=p.referrer;if(bc.indexOf(i)!=-1){bX=true}bG=ae();ak(bk+Q+n+ay+"/bc.evi?script=true&"+ap(bX,bZ,bc,bN,bY,bG)).then(function(b1){o.loadScript(b1)})})}function bx(b3,bZ){var bY={};var b2=bQ("WindowParameters",bZ);if(b2&&b2.length){var b1=b2.split(bd.WindowParameters);for(var bX=0;bX<b1.length;bX++){var b0=b1[bX].split("=");bY[b0[0]&&decodeURIComponent(b0[0])]=b0[1]&&decodeURIComponent(b0[1])}}return bQ(b3,bZ)||bY[b3]||bY[aK[b3]]||bY[bm[b3]]}function be(bX){return encodeURIComponent(decodeURIComponent(bX))}function bn(){var bZ="";var bY=bK(aE.WindowParameters,bd.WindowParameters);for(var bX in bY){bZ+=be(bX)+(bY[bX]?"="+be(bY[bX]):"")+bd.WindowParameters}return bZ.substring(0,bZ.length-1)}function ba(bZ,bX,bY){return bX&&bX!=""?(bY?"?":"&")+bZ+"="+(encodeURIComponent||escape)(typeof bX=="function"?bX():bX):""}function bO(bZ,bY){var bX="";for(var b0 in bZ){bX+=ba(bZ[b0],bQ(b0,bY))}return bX}function bh(){if(X){O._bcvmc.setCookie("bc_pv_end",ag,30000)}}function aJ(){bf=false;var bX=bu()-(w()-bW-aB);if(aH){aa(aH);aH=null;if(bX>0){aH=aD(bt,bX)}else{aP()}}}function ao(){bf=true}if(z){function af(bY,bX){aB=0;o.loadScript("https://"+V+n+ay+"/bc.inv/ci.js?"+(A?"resize=true&":"")+"std="+(p.compatMode=="CSS1Compat")+"&ftid="+bY+"&visit="+bX+bG+bO(bm,Z)+"&"+w())}var bV=false;function at(){if(!bV){bV=true;aB=-99999999;o.loadScript(bk+Q+n+ay+"/bc.cobrowse/setup.js?wait=250"+bG);o.loadScript(bk+Q+n+ay+"/visitor/cobrowse/script.jsp")}else{if(typeof _bccb!="undefined"){_bccb.initialize(ag)}}}function aX(bX){if(bX==M.InviteChat){af(T.ChatInvitationTemplateVariants,"true")}else{if(bX==M.InviteCall){af(T.CallInvitationTemplateVariants,"true")}else{if(bX==M.GetCoBrowseData){_bccb.receive()}else{if(bX==M.StartCoBrowse){at()}}}}}}if(A){function aR(b1,bY,b2,b0){var bX=bS[b1]&&bS[b1].elements||[p.getElementById(b1)],b3,b4=!bY?"":bS[b1]&&bS[b1][bY];if(bS[b1]&&bS[b1].obj){bS[b1].obj.token=b0}for(var bZ=0;bZ<bX.length;bZ++){b3=bX[bZ];if(b2&&b3&&b3.innerHTML!=b4){b3.innerHTML=b4}else{if(!b2&&b3&&b3.src!=bY){b3.src=bY}}}}function bP(b0){var bZ=bi[b0];if(bZ){var bX=bZ.parents;for(var bY=0;bX&&bY<bX.length;bY++){if(bX[bY].parentNode){bX[bY].parentNode.removeChild(bX[bY])}}delete bS[bZ.id];delete bi[b0]}}function aQ(bX){var bY=bX.id;return ba("bdid",bY)+ba(bY+"_html",bX.html)+ba(bY+"_roid",bX.roid)+ba(bY+"_rdid",bX.rdid)+ba(bY+(bX.tbid?"_tbid":bX.type=="call"?"_pbdid":"_cbdid"),bX.tbid||bX.bdid)}function aW(bY,bX){if(bX){bS[bY.id]=bY;bi[bY.eid||bY.bdid||bY.tbid]=bY}else{ax+=aQ(bY)}}function bE(bY){var bX=(bY.type=="call"?"&fpbdid=":"&fcbdid=")+bY.id;bb=aT(bY,bX);bz(bY.id,aE,bX)}function by(bX,bY){if(!aA[bX.id]&&aA[bY]){aA[bX.id]=aA[bY]}}function bp(bY){var bX=(bY.type=="call"?"&spbdid=":"&scbdid=")+bY.bdid+","+bY.id;bb=aT(bY,bX);bz(bY.id,aE,bX)}function aV(bY){var bX=(bY.type=="call"?"&tpwdid=":"&tcwdid=")+bY.id+","+(bY.window||"")+","+(bY.department||"")+","+(bY.operator||"");bb=aT(bY,bX);bz(bY.id,aE,bX);o.textButtons[bY.id]=bY}}function bo(){var bY=bC.width&7;var bX=bC.height;az(bX,bY)}function az(bY,bX){if(bX==g.VisitorMonitorDisabled){aa(aH);aH=null}if(bX==g.InactivePageView){aU(bc,"")}if(z){if(bX==g.DelayedChatInvitation||bX==g.DelayedCallInvitation){if(bA){aa(bA)}bA=aD(function(){bA=null;var bZ=bX==g.DelayedChatInvitation?T.ChatInvitationTemplateVariants:T.CallInvitationTemplateVariants;af(bZ,"false")},(bY-1)*1000+1)}if(bX==1){aX(bY&15)}}}function bt(){aP()}function am(bX){if(!bX){aH=aD(bt,bu())}}function aP(bY){if(!ag){aU();return}aB=w()-bW;if(A){var bX="";for(var bZ in bS){bX+=aQ(bS[bZ])}}ak(a8(F)+ay+"/bc.vm?blur="+bf+"&poll="+(5000+2*bu())+bG+(A?bX+ax:"")+"&"+w()+"&tabIdentifier="+h).then(function(b0){if(A){if(bX||ax){o.loadScript(b0.replace("?","?script=true&"))}else{bC.src=b0}}else{bC.src=b0}am(bY)})}function a8(bX){return G?G+"/aid/":bk+bX+n}function aG(bX,bY){aU(null,null,bX,bY)}function br(){if(A){if(bb!=au){aU(null,null,null,null,true)}}if(P){if(aI){var bY=O._bcct||[];O._bcct=[];for(var bX=0;bX<bY.length;bX++){aj(bY[bX])}}}aF()}function ad(){var b1=O._bcvma||[];var bY=b1.length||0;O._bcvma=[];for(var bZ=0;bZ<b1.length||0;bZ++){var b2=b1[bZ];var b0=(b2||[])[0];if(b0=="pageViewed"&&bZ<bY){aA[Z.id]={parameters:L(aE)};b1.push(b2)}else{var bX=k[b0];if(bX){bX(b2[1],b2[2])}}}br()}if(P){function bv(bX){O._bcct=O._bcct||[];O._bcct.push(bX)}function aj(bZ,b1,bY){if(b1&&bZ[bM]){return true}for(var b0 in Y){bB(b0,null,true)}for(var b0 in bZ){if(bZ[b0]&&bZ[b0]!=""){bB(b0,bZ[b0])}}if(!bY){bY=bQ(bM)}if(typeof bY=="function"){bY=bY(function(b2){aj(bZ,b1,b2)},"conversion");if(!bY){return}}if(!b1){var bX=new Image();ak(bk+Q+n+ay+"/bc.vci?"+(!X?"cookie=false&":"")+w()+(bG||ba("wdid",bQ("WebsiteDefID")||bQ("WebsiteID")))+bO(aK)+bO(Y)+ba("secured",bY)).then(function(b2){bX.src=b2;aw.push(bX)})}}}function bF(){var bZ=screen;var b0=O.devicePixelRatio||(bZ.deviceXDPI||1)/(bZ.logicalXDPI||1);var bX=b0;var b3=p.createElement("div");var bY="height: 1in; left: -100%; position: absolute; top: -100%; width: 10%;";b3.setAttribute("style",bY);try{p.body.appendChild(b3)}catch(b2){try{p.body.insertBefore(b3,p.body.firstChild)}catch(b2){}}if(Math.abs(bZ.width/b3.offsetWidth/10-bX)/bX<0.2){bX=1}var b1=(bZ&&bZ.width&&bZ.height?"&swidth="+(bZ.width*bX)+"&sheight="+(bZ.height*bX):"")+(b3&&b3.offsetWidth?"&sdpi="+(96*b0):"");try{p.body.removeChild(b3)}catch(b2){}return b1}function aU(b1,b2,bY,b0,bX,bZ){if(!ay){am(bX);return}if(!bZ){bZ=bQ(bM,Z)}if(typeof bZ=="function"){bZ=bZ(function(b3){aU(b1,b2,bY,b0,bX,b3)},"visit");if(!bZ){return}}if(A){au=bb}O._bcvmc.getCookieAsync("bc_pv_end").then(function(b7){var b8=[];var b6=ag||(X&&b7);if(!bY&&!bX){aI=false;b8=O._bcct||[];O._bcct=b8}if(X){if(b6){O._bcvmc.setCookie("bc_pv_end","",0)}}bc=b1||p.location.href;bN=b2||p.referrer;if(bc.indexOf(i)!=-1){bX=true}aB=0;bW=w();if(aH&&!bX){aa(aH)}if(P){var b3=b8[0]&&aj(b8[0],true);if(b8[0]&&!b3){O._bcct=b8.splice(1)}}bC.onload=bo;if(!bY&&!bX){ag=null}var b9=bG=ae();var b4=bL.getToken()||"";var b5=function(ca){ak(a8(Q)+ay+"/bc.pv?script=true&securevm=true&"+aC(bX,bY,b0,b6,bc,bN,bZ,b9,b3,ca)).then(function(cb){if(A){o.loadScript(cb+(bY?"":"&hasbutton="+a4+bb))}else{o.loadScript(cb)}})};if(S){bL.sync(b5)}else{b5(b4)}am(bX)})}function ae(){return ba("wdid",bQ("WebsiteDefID",Z)||bQ("WebsiteID",Z))+ba("pvid",ag)}function aC(b2,bZ,b4,b5,bY,bX,b1,b0,b3,b7){var b6="";b6+=!X?"cookie=false":"";b6+="&blur="+bf;b6+="&vm="+!b2;b6+=ba("poll",5000+2*bu());b6+=bF();if(bZ){b6+=ba("reinvite",bZ);b6+=ba("adi",b4)}else{b6+=ba("vpvid",I("vpvid"));b6+=ba("pve",b5);b6+=ba("url",bY);b6+=ba("referrer",bX);b6+=bO(aK,Z)}b6+=ba("secured",b1);b6+=b0;b6+=bO(bm,Z);b6+=P?(b3?"":bO(Y)):"";b6+="&"+w();b6+=ba("visitorToken",b7);b6+="&tabIdentifier="+h;return b6}function ap(bY,b1,bX,b2,bZ,b3){var b0=aC(bY,false,null,b1,bX,b2,bZ,b3,null);b0+="&"+aO();return b0}function ai(bX){if(O._bcvmw){O._bcvmw.customChatWindow=bX}}function aL(){return a3}function aT(bY,bX){var bZ=av(bY.id);return bZ+bX}function av(bY){var bZ=bb;if(aA[bY]){var b0=aA[bY].query;var bX=new RegExp(b0+"(?=&|$)");bZ=bZ.replace(bX,"")}return bZ}function bz(bY,bZ,bX){aA[bY]={parameters:L(bZ),id:bY,query:bX}}function aF(){if(aN){return}if(!ay){return}var bX=bk+Q+n+ay+K;a2.setupExtendedVisitorInfo(bX);aN=true}function bH(bY,bX,bZ){setTimeout(function(){var b0=bk+Q+n+ay+"/bc.page.view.invitation.result?taskId="+bY+"&polls="+bZ;o.loadScript(b0)},bX)}function ar(bX){bU().then(function(bY){if(!bY){throw new Error("Missing ChatID")}ak(bk+E+n+ay+"/bot/visitor.jsp?cid="+bY).then(function(b1){var b0={};for(var bZ in bX){if(bX.hasOwnProperty(bZ)){b0["customField_"+bZ]=[bX[bZ]]}}o.makeCorsPostRequest(b1,b0)})})}function bU(){return bj().then(function(bX){if(!bX){return null}var bY=bX.split(":");return bY.length>1?bY[0]:null})}function bj(){return al(j)}function al(bX){var bY=bs(bX);if(!!bY){return Promise.resolve(bY)}else{return O._bcvmc.getCookieAsync(bX)}}function bs(bX){try{return O.sessionStorage&&O.sessionStorage.getItem(bX)}catch(bY){return null}}function bl(){bb=""}o.addEvent(O,"beforeunload",bh);o.addEvent(O,"focus",aJ);o.addEvent(O,"blur",ao);o.pageViewer={set:aY,setVisitorToken:bL.storeToken,doExperiments:a6,setAccountID:ac,setDomain:aq,setPath:ah,pageViewed:aU,load:ad,reinvite:aG,check:az,getParameter:bQ,setParameter:bB,getWindowParameter:bx,getWindowParameters:bn,getExtendedVisitorInfo:bJ,setExtendedVisitorInfo:a1,setCustomChatWindow:ai,getVisitorID:aL,scheduleInvitationResultCheck:bH,updateParameters:ar,resetStaticQuery:bl};if(A){o.pageViewer.addFloat=bE;o.pageViewer.addStatic=bp;o.pageViewer.addText=aV;o.pageViewer.addButton=aW;o.pageViewer.removeButton=bP;o.pageViewer.update=aR;o.pageViewer.addExperimentButton=by}if(P){o.pageViewer.addConversion=bv;o.pageViewer.conversion=aj;o.pageViewer.link=ak;o.pageViewer.removeLink=aM;o.pageViewer.addLink=bw}return o.pageViewer}function x(Y){o.serverTimeOffset=Y-w()}function B(){var Y=Math.floor(Math.random()*9223372037);return((Y===0)?"":Y)+""+Math.floor(Math.random()*((Y===9223372036)?854775808:1000000000))}var o=O._bcvm||{textButtons:{},setTime:x,getCookie:O._bcvmc.getCookie,getCookieAsync:O._bcvmc.getCookieAsync,setCookie:O._bcvmc.setCookie,addEvent:s,loadScript:q,makeCorsPostRequest:H,makeGetRequest:m,getPageViewer:J,select:b,isIframeEnabled:D};O._bcvm=o;var k=O.pageViewer||O._bcvm.getPageViewer();O.pageViewer=k;O.pageViewer.load();O._bcvm.tabIdentifier=h}function c(k){k.bc=k.bc||{};k.bc.featureDetection=k.bc.featureDetection||n();return k.bc.featureDetection;function n(){return{hasLocalStorageSupport:h,hasJsonSupport:i,hasCorsXhrSupport:j,hasConsoleSupport:l,features:q()}}function q(){return{localStorage:g(),json:m(),corsXhr:o(),console:p()}}function o(){return !!k.XMLHttpRequest&&(new k.XMLHttpRequest().withCredentials!==undefined)}function m(){return !!k.JSON&&!!k.JSON.parse&&!!k.JSON.stringify}function g(){try{var t=k.localStorage;var r="__storage_test__";t.setItem(r,r);t.getItem(r);t.removeItem(r);return true}catch(s){return false}}function p(){return !!k.console&&!!k.console.error&&!!k.console.log}function h(){return this.features.localStorage}function i(){return this.features.json}function j(){return this.features.corsXhr}function l(){return this.features.console}}function f(n,g){n.bc=n.bc||{};n.bc.visitorTracking=n.bc.visitorTracking||s();return j();function j(){return n.bc.visitorTracking}function s(){return{sync:r,getToken:v,storeToken:k,featureDetection:new c(n),synced:false,isSyncing:false,token:null}}function r(x){x=x||function(){};var z=j().getToken();if(j().synced){x(z)}else{if(j().isSyncing){var y=function(){var A=v();x(A)};u(y)}else{p(z,x)}}}function v(){if(j().token){return j().token}if(j().featureDetection.hasLocalStorageSupport()&&j().featureDetection.hasJsonSupport()){return i(n.localStorage.getItem("bc.visitor_token"))}return null}function k(x){j().token=x;if(j().featureDetection.hasLocalStorageSupport()&&j().featureDetection.hasJsonSupport()){n.localStorage.setItem("bc.visitor_token",o(x))}}function q(A,y,x){A=A||function(){return true};y=y||50;x=x||function(){};var z=function(){if(A()){x()}else{setTimeout(z,y)}};z()}function u(x){var y=function(){return !j().isSyncing};q(y,200,x)}function p(A,x){if(!(j().featureDetection.hasCorsXhrSupport()&&j().featureDetection.hasJsonSupport())){w(v(),x);return}j().isSyncing=true;var y=A?g+"?visitorToken="+A:g;var z=new n.XMLHttpRequest();z.withCredentials=true;z.open("get",y,true);z.timeout=5000;z.ontimeout=function(){m(z,x)};z.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){var B=l(this.responseText);w(B,x)}else{m(z,x)}}};z.send(null)}function w(y,x){j().isSyncing=false;j().synced=true;x(y)}function m(y,x){j().isSyncing=false;j().synced=false;t("visitorToken syncing failed: ",y);x(v())}function t(){if(j().featureDetection.hasConsoleSupport()){console.error.apply(console,arguments)}}function i(y){var x;try{x=n.JSON.parse(y||null)||{}}catch(z){x={}}return x.token||null}function l(y){var x=h(y);k(x);return x}function h(x){return n.JSON.parse(x).visitorToken}function o(x){return n.JSON.stringify({token:x})}}function a(s){var l=false;var k=5000;var i="Clicked";var r="Displayed";var C={elementActivities:[],globalActivities:[]};var j={};var t=C;var q=s.MutationObserver||s.WebKitMutationObserver||s.MozMutationObserver;return{setupExtendedVisitorInfo:x,selectElement:v,sendExtendedVisitorInfo:m};function x(H){if(l){return}var G=new c(s);if(!G.hasCorsXhrSupport()){console.log("Could not set up extended visitor info as XML HTTP request is not supported");return}if(!G.hasJsonSupport()){console.log("Could not set up extended visitor info as JSON is not supported")}var I=new s.XMLHttpRequest();I.open("get",H,true);I.onreadystatechange=z;I.send();l=true}function z(){if(this.readyState===4){if(this.status===200){t=s.JSON.parse(this.responseText)||C;F()}else{console.log("Server responded with status "+this.status+" while getting external signals")}}}function F(){if(!t.elementActivities){return}for(var G=0;G<t.elementActivities.length;G++){var H=t.elementActivities[G];var I=o(H);if(!I){y(H,k)}}}function o(H){H.ref=v(H.selector);if(!H.ref){return false}switch(H.event){case"onclick":H.ref.addEventListener("click",function(I){E(H.id,I)});return true;case"value":case"onchange":H.ref.addEventListener("change",function(I){p(H.id,I)});return true;case"text":if(!q){return true}var G=new q(function(I){D(H.id,I)});G.observe(H.ref,g());return true;case"displayed":if(!q){return true}j[H.id]={display:n(H.ref).display,hasOffsetParent:!!H.ref.offsetParent};var G=new q(function(I){u(H.id,I)});A(G,H.ref,B());return true;default:console.log("Could not set up element activity for event "+H.event)}return true}function v(G){if(!s){return null}return s.document.querySelector(G)}function y(I,H){setTimeout(G,H);function G(){var J=o(I);if(!J){y(I,H*2)}}}function E(I,H){if(!H){return}var G=w(I,H.target,false);if(G){m(G.id,i)}}function p(J,H){if(!H){return}var I=H.target;var G=w(J,I,false);if(G){m(G.id,I.value)}}function D(M,H){if(!H||!H.length){return}for(var J=0;J<H.length;J++){var K;var I=H[J];var L=I.target;var G=w(M,L,false);if(!G){continue}switch(I.type){case"characterData":K=L.textContent;break;case"childList":K=L.innerText;break;default:continue}if(K){m(G.id,K)}}}function u(N,I){if(!I||!I.length){return}for(var K=0;K<I.length;K++){var J=I[K];var M=J.target;if(J.type!=="attributes"&&J.type!=="style"){continue}var G=w(N,M,true);if(!G){continue}var L=n(M);var H=j[N];j[N]={display:L.display,hasOffsetParent:!!M.offsetParent};if((L.display!=="none"&&H.display!==L.display)||M.offsetParent&&!H.hasOffsetParent){m(G.id,r)}}}function w(K,J,G){if(!t.elementActivities){return null}for(var H=0;H<t.elementActivities.length;H++){var I=t.elementActivities[H];if(K!==I.id){continue}if(J===I.ref||(G&&h(J,I.ref))){return I}}return null}function h(H,G){if(!G){return false}if(H===G){return true}return h(H,G.parentElement)}function n(G){return s.getComputedStyle?s.getComputedStyle(G):G.style}function m(G,H){if(!s.pageViewer||!s.pageViewer.setExtendedVisitorInfo){return}s.pageViewer.setExtendedVisitorInfo(G,H)}function A(G,I,H){if(!I){return}G.observe(I,H);A(G,I.parentElement,H)}function g(){return{characterData:true,childList:true}}function B(){return{attributes:true,attributeFilter:["style","class"]}}}new e(document,window,".boldchat.com",true,true,true,true,"_bcvm_vid_","_bcvm_vrid_",365,"ci","vmp","vms","livechat","",function(g,h){return(h?2:1)*(g>=60000?(g>=600000?(g>=3600000?(g>=14400000?(g>=43200000?300:180):120):60):30):(g>=10000?(g>=30000?30:30):30))*1000},"bc_ignore_vm","https://visitor-services.boldchat.com/visitor-token-service/visitor-token","/api/v1/extendedvisitorinfo/setup",true)})();