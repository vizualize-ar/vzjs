//tealium universal tag - utag.loader ut4.0.202007092213, Copyright 2020 Tealium.com Inc. All Rights Reserved.
var utag_condload=false;try{(function(){function ul(src,a,b){a=document;b=a.createElement('script');b.language='javascript';b.type='text/javascript';b.src=src;a.getElementsByTagName('head')[0].appendChild(b)};if((""+document.cookie).match("utag_env_lampsplus_main=(\/\/tags\.tiqcdn\.com\/utag\/lampsplus\/[^\S;]*)")){if(RegExp.$1.indexOf("/prod/")===-1){var s=RegExp.$1;while(s.indexOf("%")!=-1){s=decodeURIComponent(s);}s=s.replace(/\.\./g,"");ul(s);utag_condload=true;__tealium_default_path='//tags.tiqcdn.com/utag/lampsplus/main/prod/';}}})();}catch(e){};if(typeof utag=="undefined"&&!utag_condload){var utag={id:"lampsplus.main",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\./.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
utag.handler.RE('view',utag.data,"bwq");if(utag.cfg.load_rules_at_wait){utag.handler.LR();}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_lampsplus.main_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(a,b,c,d,f){try{if(typeof utag.data['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(utag.data['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0}}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}}}}}}catch(e){utag.DB(e)}},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=eval("document."+"referrer");o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=b||utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}
o["_t_visitor_id"]=o["cp.utag_main_v_id"];o["_t_session_id"]=o["cp.utag_main_ses_id"];},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o,a,b){a="";try{a=localStorage.getItem("tealium_va");if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}catch(e){utag.DB("localStorage not supported");}},RDut:function(o,a){o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;o["ut.event"]=a||"view";try{o["ut.account"]=utag.cfg.utid.split("/")[0];o["ut.profile"]=utag.cfg.utid.split("/")[1];o["ut.env"]=utag.cfg.path.split("/")[6];}catch(e){utag.DB(e)}},RD:function(o,a,b,c,d){utag.DB("utag.loader.RD");utag.DB(o);if(!utag.loader.rd_flag){a=(new Date()).getTime();b=utag.loader.RC();c=a+parseInt(utag.cfg.session_timeout);d=a;if(!b.utag_main){b.utag_main={};}else if(b.utag_main.ses_id&&typeof b.utag_main._st!="undefined"&&parseInt(b.utag_main._st)<a){delete b.utag_main.ses_id;}
if(!b.utag_main.v_id){b.utag_main.v_id=utag.ut.vi(a);}
if(!b.utag_main.ses_id){b.utag_main.ses_id=d+'';b.utag_main._ss=b.utag_main._pn=1;b.utag_main._sn=1+parseInt(b.utag_main._sn||0);}else{d=b.utag_main.ses_id;b.utag_main._ss=0;b.utag_main._pn=1+parseInt(b.utag_main._pn);b.utag_main._sn=parseInt(b.utag_main._sn);}
if(isNaN(b.utag_main._sn)||b.utag_main._sn<1){b.utag_main._sn=b.utag_main._pn=1}
b.utag_main._st=c+'';utag.loader.SC("utag_main",{"v_id":b.utag_main.v_id,"_sn":b.utag_main._sn,"_ss":b.utag_main._ss,"_pn":b.utag_main._pn+";exp-session","_st":c,"ses_id":d+";exp-session"});}
utag.loader.rd_flag=1;this.RDqp(o);this.RDmeta(o);this.RDcp(o,b);this.RDdom(o);this.RDva(o);this.RDut(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x;return 1},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();v=".tiqcdn.com";w=utag.cfg.path.indexOf(v);if(w>0&&b["cp.utag_main__ss"]==1)utag.ut.loader({src:utag.cfg.path.substring(0,w)+v+"/ut"+"ag/tiqapp/ut"+"ag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){utag.db_log=[];b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a,cfg:{cb:c,uids:d}})},link:function(a,c){return this.track({event:'link',data:a,cfg:{cb:c}})},track:function(a,b,c,d){if(typeof a=="string")a={event:a,data:b,cfg:{cb:c}};for(d in utag.loader.GV(utag.o)){try{utag.o[d].handler.trigger(a.event||"view",a.data||a,a.cfg)}catch(e){utag.DB(e)};}
if(a.cfg&&a.cfg.cb)try{a.cfg.cb()}catch(e){utag.DB(e)};return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b)}}
},test:function(){return 1},LR:function(){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(utag.data);utag.loader.loadrules();utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c&&!this.cfg_extend){return 0;}
utag.DB('All Tags EXTENSIONS');utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||(typeof c!="undefined"&&f[c]==0)){e=1}else{if(typeof c!="undefined"&&f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a);b=b||{};utag.DB(b);if(!this.iflag){for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:b});return;}
utag.cfg.noview=false;utag.ut.merge(b,this.df,0);utag.loader.RDqp(b);utag.loader.RDcp(b);utag.loader.RDdom(b);utag.loader.RDmeta(b);utag.loader.RDva(b);utag.loader.RDut(b,a);function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2&&utag.loader.cfg[d].s2s!=1){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":b});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(c&&c.uids){this.RE(a,b);for(f=0;f<c.uids.length;f++){d=c.uids[f];sendTag(a,b,d);}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");utag.ut.merge(utag.data,b,1);this.LR();this.RE(a,b);for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){sendTag(a,b,d);}}}else{this.RE(a,b);for(d in utag.loader.GV(utag.sender)){sendTag(a,b,d);}}
utag.loader.SC("utag_main",{"_st":((new Date()).getTime()+parseInt(utag.cfg.session_timeout))});},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l){a=document;if(o.type=="iframe"){b=a.createElement("iframe");o.attrs=o.attrs||{"height":"1","width":"1","style":"display:none"};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";for(l in utag.loader.GV(o.attrs)){b[l]=o.attrs[l]}
b.src=o.src;}
if(o.id){b.id=o.id};if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}};utag.o['lampsplus.main']=utag;utag.cfg={v:"ut4.37.202007092213",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),path:"//tags.tiqcdn.com/utag/lampsplus/main/prod/",utid:"lampsplus/main/202007092212"};utag.cond={18:0,22:0,2:0,52:0,6:0,75:0,85:0};utag.pagevars=function(ud){ud=ud||utag.data;try{ud['js_page.invitationId']=invitationId}catch(e){utag.DB(e)};try{ud['js_page.window.shortSku']=window.shortSku}catch(e){utag.DB(e)};try{ud['js_page.lp.globals.isCanada']=lp.globals.isCanada}catch(e){utag.DB(e)};};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'18':try{c[18]|=(d['page_type'].toString().toLowerCase().indexOf('AddToCart'.toLowerCase())<0&&d['dom.url'].toString().toLowerCase().indexOf('check-store-availability'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'2':try{c[2]|=(typeof d['page_type']!='undefined'&&d['page_type']!=''&&d['page_type'].toString().toLowerCase()=='home'.toLowerCase())||(typeof d['page_type']!='undefined'&&d['page_type']!=''&&d['page_type'].toString().indexOf('sort')>-1)||(typeof d['page_type']!='undefined'&&d['page_type']!=''&&d['page_type'].toString().toLowerCase()=='product'.toLowerCase())||(typeof d['page_type']!='undefined'&&d['page_type']!=''&&d['page_type'].toString().toLowerCase()=='cart'.toLowerCase())||(typeof d['page_type']!='undefined'&&d['page_type']!=''&&d['page_type'].toString().toLowerCase()=='search'.toLowerCase())||(typeof d['page_type']!='undefined'&&d['page_type']!=''&&d['page_type'].toString().toLowerCase()=='confirmation'.toLowerCase())||(typeof d['page_type']!='undefined'&&d['page_type']!=''&&d['page_type'].toString().toLowerCase()=='wishlist'.toLowerCase())}catch(e){utag.DB(e)};break;case'22':try{c[22]|=(d['is_mobile']=='0')}catch(e){utag.DB(e)};break;case'52':try{c[52]|=(d['website_mode'].toString().toLowerCase().indexOf('Store'.toLowerCase())<0&&d['user_type'].toString().toLowerCase().indexOf('Employee'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'6':try{c[6]|=(d['page_type'].toString().toLowerCase().indexOf('confirmation'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'75':try{c[75]|=(d['dom.url'].toString().toLowerCase().indexOf('/about-us'.toLowerCase())>-1&&d['is_kiosk']=='0'&&d['website_mode'].toString().toLowerCase()!='canada'.toLowerCase()&&d['is_employee']=='0')||(d['dom.url'].toString().toLowerCase().indexOf('/careers'.toLowerCase())>-1&&d['is_kiosk']=='0'&&d['website_mode'].toString().toLowerCase()!='canada'.toLowerCase()&&d['is_employee']=='0')||(d['dom.url'].toString().toLowerCase().indexOf('/partners'.toLowerCase())>-1&&d['is_kiosk']=='0'&&d['website_mode'].toString().toLowerCase()!='canada'.toLowerCase()&&d['is_employee']=='0')||(d['dom.url'].toString().toLowerCase().indexOf('/pros/index.aspx'.toLowerCase())>-1&&d['is_kiosk']=='0'&&d['website_mode'].toString().toLowerCase()!='canada'.toLowerCase()&&d['is_employee']=='0')}catch(e){utag.DB(e)};break;case'85':try{c[85]|=(d['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&d['is_kiosk']!='1'&&d['is_employee']!='1'&&d['dom.url'].toString().indexOf('lampsplus.com/partners')>-1)||(d['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&d['is_kiosk']!='1'&&d['is_employee']!='1'&&d['dom.url'].toString().indexOf('lampsplus.com/account/sign-in/?message=AccountCreated')>-1)}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();utag.pagevars();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b){try{if((b['dom.pathname'].toString().toLowerCase().indexOf('/products/'.toLowerCase())>-1&&b['dom.pathname'].toString().toLowerCase().indexOf('.html'.toLowerCase())>-1&&typeof b['page_type']!='undefined'&&b['page_type'].toString().toLowerCase().indexOf('addtocart'.toLowerCase())<0)){b['page_type']='product'}}catch(e){utag.DB(e);}},function(a,b,c,d){b._ccity=(typeof b['customer_city']!='undefined')?b['customer_city']:'';b._ccountry=(typeof b['customer_country']!='undefined')?b['customer_country']:'';b._ccurrency=(typeof b['order_currency_code']!='undefined')?b['order_currency_code']:'';b._ccustid=(typeof b['customer_id']!='undefined')?b['customer_id']:'';b._corder=(typeof b['order_id']!='undefined')?b['order_id']:'';b._cpromo=(typeof b['order_promo_code']!='undefined')?b['order_promo_code']:'';b._cship=(typeof b['order_shipping_amount']!='undefined')?b['order_shipping_amount']:'';b._cstate=(typeof b['customer_state']!='undefined')?b['customer_state']:'';b._cstore=(typeof b['order_store']!='undefined')?b['order_store']:'web';b._csubtotal=(typeof b['order_subtotal']!='undefined')?b['order_subtotal']:'';b._ctax=(typeof b['order_tax_amount']!='undefined')?b['order_tax_amount']:'';b._ctotal=(typeof b['order_grand_total']!='undefined')?b['order_grand_total']:'';b._ctype=(typeof b['order_type']!='undefined')?b['order_type']:'';b._czip=(typeof b['customer_postal_code']!='undefined')?b['customer_postal_code']:'';b._cprod=(typeof b['product_sku']!='undefined'&&b['product_sku'].length>0)?b['product_sku']:[];b._cprodname=(typeof b['product_name']!='undefined'&&b['product_name'].length>0)?b['product_name']:[];b._cbrand=(typeof b['product_brand']!='undefined'&&b['product_brand'].length>0)?b['product_brand']:[];b._ccat=(typeof b['product_category']!='undefined'&&b['product_category'].length>0)?b['product_category']:[];b._ccat2=(typeof b['product_subcategory']!='undefined'&&b['product_subcategory'].length>0)?b['product_subcategory']:[];b._cquan=(typeof b['product_quantity']!='undefined'&&b['product_quantity'].length>0)?b['product_quantity']:[];b._cprice=(typeof b['product_price']!='undefined'&&b['product_price'].length>0)?b['product_price']:[];b._csku=(typeof b['product_sku']!='undefined'&&b['product_sku'].length>0)?b['product_sku']:[];b._cpdisc=(typeof b['product_discount_amount']!='undefined'&&b['product_discount_amount'].length>0)?b['product_discount_amount']:[];if(b._cprod.length==0){b._cprod=b._csku.slice()};if(b._cprodname.length==0){b._cprodname=b._csku.slice()};function tf(a){if(a==''||isNaN(parseFloat(a))){return a}else{return(parseFloat(a)).toFixed(2)}};b._ctotal=tf(b._ctotal);b._csubtotal=tf(b._csubtotal);b._ctax=tf(b._ctax);b._cship=tf(b._cship);for(c=0;c<b._cprice.length;c++){b._cprice[c]=tf(b._cprice[c])};for(c=0;c<b._cpdisc.length;c++){b._cpdisc[c]=tf(b._cpdisc[c])};},function(a,b){try{if(1){b['page_name']=b['dom.title']}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['page_type']!='undefined'&&b['page_type']=='AddToCart')){b['event_type']='cart_add'}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['product_sku']!='undefined'&&b['product_sku']==''||typeof b['_cprod']!='undefined'&&b['_cprod']==''){try{b['product_sku']=undefined;}catch(e){};try{b['_cprod']=undefined;}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(utag.cfg.path.indexOf('/prod/')>0){if(utag.data['qp.utagdb']){if(utag.data['qp.utagdb']=='1'||utag.data['qp.utagdb'].toLowerCase()=='true'){document.cookie='utagdb=true';utag.cfg.utagdb=true;}else{document.cookie='utagdb=false';utag.cfg.utagdb=false;}}}else{document.cookie='utagdb=false';utag.cfg.utagdb=false;}
b._utag_event=a;}catch(e){utag.DB('Tealium Debugging Tools Failed: '+e);}},function(a,b){try{if(b['is_mobile']=='1'){b['channel']='mobile'}}catch(e){utag.DB(e);}},function(a,b){try{if(b['is_mobile']=='0'){b['channel']='desktop'}}catch(e){utag.DB(e);}},function(a,b){try{if(1){try{b['random']=Math.random()}catch(e){}}}catch(e){utag.DB(e);}},function(a,b,c,d,e,f,g){if(1){d=b['page_type'];if(typeof d=='undefined')return;c=[{'shipping':'1'},{'checkout':'2'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['checkout_step']=c[e][f];m=true};};if(m)break};}}];utag.handler.cfg_extend=[{"bwq":0,"blr":1,"id":"50","alr":0,"end":0},{"id":"2","alr":1,"end":0,"bwq":0,"blr":0},{"blr":0,"bwq":0,"end":0,"alr":1,"id":"8"},{"blr":0,"bwq":0,"end":0,"alr":1,"id":"179"},{"blr":0,"bwq":0,"end":0,"alr":1,"id":"41"},{"bwq":0,"blr":0,"id":"58","alr":1,"end":0},{"id":"72","alr":1,"end":0,"bwq":0,"blr":0},{"blr":0,"bwq":0,"end":0,"alr":1,"id":"73"},{"bwq":0,"blr":0,"id":"187","alr":1,"end":0},{"blr":0,"bwq":0,"end":0,"alr":1,"id":"266"}];utag.loader.initcfg=function(){utag.loader.cfg={"8":{load:4,send:(utag.cond[2]&&utag.cond[52]),v:202007092212,wait:0,tid:3108},"16":{load:4,send:(utag.cond[22]&&utag.cond[52]),v:202007092212,wait:0,tid:2018},"28":{load:4,send:utag.cond[52],v:202007092212,wait:0,tid:6026},"29":{load:4,send:(utag.cond[52]&&utag.cond[6]),v:201806261819,wait:0,tid:6026},"32":{load:4,send:utag.cond[52],v:202001291903,wait:0,tid:2045},"33":{load:4,send:utag.cond[52],v:201806261819,wait:0,tid:25016},"36":{load:4,send:1,v:202007092212,wait:0,tid:7110},"43":{load:4,send:(utag.cond[18]&&utag.cond[52]),v:201806261819,wait:1,tid:2027},"57":{load:utag.cond[52],send:1,v:202007092212,wait:1,tid:16044},"78":{load:utag.cond[52],send:1,v:202007092212,wait:1,tid:20085},"147":{load:utag.cond[52],send:1,v:202007092212,wait:1,tid:20011},"152":{load:utag.cond[75],send:1,v:201806261819,wait:1,tid:12047},"164":{load:utag.cond[52],send:1,v:202001291903,wait:1,tid:19087},"167":{load:1,send:1,v:202001291903,wait:1,tid:12038},"168":{load:utag.cond[52],send:1,v:202007092212,wait:1,tid:14030},"195":{load:utag.cond[85],send:1,v:202001291903,wait:1,tid:20067}};utag.loader.cfgsort=["8","16","28","29","32","33","36","43","57","78","147","152","164","167","168","195"];}
utag.loader.initcfg();}
if(typeof utag_cfg_ovrd!='undefined'){for(var i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[i]=utag_cfg_ovrd[i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR();}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;utag.handler.RE('view',utag.data);utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1&&b.s2s!=1){if(utag.loader.bk[b.id]||(utag.cfg.readywait&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)
}else if(b.wait==1&&utag.loader.rf==0&&!(b.load==4&&utag.cfg.noview)){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};utag.loader.EV('','ready',function(a){if(utag.loader.efr!=1){utag.loader.efr=1;try{if(typeof utag.runonce=='undefined')utag.runonce={};utag.jdh=function(h,i,j,k){h=utag.jdhc.length;if(h==0)window.clearInterval(utag.jdhi);else{for(i=0;i<h;i++){j=utag.jdhc[i];k=jQuery(j.i).is(":visible")?1:0;if(k!=j.s){if(j.e==(j.s=k))jQuery(j.i).trigger(j.e?"afterShow":"afterHide")}}}};utag.jdhi=window.setInterval(utag.jdh,250);utag.jdhc=[];if(utag.data['dom.url'].toString().indexOf('shipping')>-1){if(typeof utag.runonce[106]=='undefined'){utag.runonce[106]=1;jQuery(document.body).on('click','#shippingAutoComplete',function(e){utag.link({"event_category":'Checkout',"event_action":'Google-Autocomplete',"event_label":'Shipping',"event_type":'event'})})}}}catch(e){utag.DB(e)};try{if(utag.data['dom.url'].toString().indexOf('billing')>-1){if(typeof utag.runonce[107]=='undefined'){utag.runonce[107]=1;jQuery(document.body).on('click','#billingAutoComplete',function(e){utag.link({"event_category":'Checkout',"event_action":'Google-Autocomplete',"event_label":'Billing'})})}}}catch(e){utag.DB(e)};try{if(utag.data['dom.url'].toString().indexOf('shipping')>-1){if(typeof utag.runonce[108]=='undefined'){utag.runonce[108]=1;utag.jdhc.push({i:'.fedExAddressValidation',e:1});jQuery(document.body).on('afterShow','.fedExAddressValidation',function(e){if(jQuery('.fedExAddressValidation').is(':visible')){utag.view({"event_category":'Checkout',"event_action":'Fed-Ex-Validation',"event_label":'Shipping-Modal'})}})}}}catch(e){utag.DB(e)};try{if(utag.data['dom.url'].toString().indexOf('shipping')>-1){if(typeof utag.runonce[109]=='undefined'){utag.runonce[109]=1;jQuery(document.body).on('click','#shippingValidationApply',function(e){utag.link({"event_category":'Checkout',"event_action":'Fed-Ex-Validation',"event_label":'Shipping-Address Selection'})})}}}catch(e){utag.DB(e)};try{if(1){if(typeof utag.runonce[228]=='undefined'){utag.runonce[228]=1;jQuery(document.body).on('mouseup','.needItToday#pdCheckStoreAvailabilityWrapper',function(e){utag.link({"event_category":'Check-Store',"event_action":'Click-Need-it-Today',"event_label":window.shortSku})});}}}catch(e){utag.DB(e)};try{try{if(1){var sortResultContainer=document.querySelectorAll('.sortResultContainer');if(sortResultContainer.length>0){sortResultContainer.forEach(function(el){el.addEventListener('click',getSkuAndName);});}
function getSkuAndName(e){if(e.target.classList.contains('sortMoreLikeThisBtn')){return;}
var productContainer=e.target.closest('.sortResultContainer');var sku=productContainer.querySelector('[itemprop="sku"]').getAttribute('content');var name=productContainer.querySelector('[itemprop="name"]').innerText;var price=productContainer.querySelector('[itemprop="price"]')?productContainer.querySelector('[itemprop="price"]'):productContainer.querySelector('[itemprop="lowPrice"]').getAttribute('content');utag_data.sort_page_product_sku=[sku];utag_data.sort_page_product_name=[name];utag_data.sort_page_product_price=[price];}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type']=='product'&&utag.data['is_employee']=='0'&&utag.data['is_kiosk']=='0')){function initChatInv(){var pageViewer=window._bcvm.getPageViewer('138297143032113151');pageViewer.setParameter('WebsiteID','1753861438288170235');pageViewer.setParameter('InvitationID','138318736329945041');if(parseInt(window.utag_data.product_price[0],10)>350){pageViewer.setParameter('VisitInfo','priceOver350');pageViewer.pageViewed();}
document.addEventListener('click',function(e){if(e.target.classList.contains('TT4instAnswNext')){pageViewer.setParameter('VisitInfo','submitNewQuestion');pageViewer.pageViewed();}});}
window.addEventListener('load',initChatInv);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){var button=document.getElementById('callForAppointmentInStore');var storeName=document.querySelector('#divStoreInfo h1')?document.querySelector('#divStoreInfo h1 span').innerHTML.trim():'';var isMobile=window.utag_data['is_mobile']==='1';var desktopOrMobileCategory=isMobile?'Store-Details-Mobile':'Store-Details-Desktop';var desktopOrMobileAction=isMobile?'click-Appointment-Bottom':'click-Appointment';if(button){button.addEventListener('click',makeAppointmentClickTracking);}
function makeAppointmentClickTracking(){window.utag.link({'event_label':storeName,'event_category':desktopOrMobileCategory,'event_action':desktopOrMobileAction});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{if(1){if(typeof utag.runonce[385]=='undefined'){utag.runonce[385]=1;jQuery('#ftrBar').on('click','#footer_email_settings',function(e){utag.link({"event_category":'Nav-Footer',"event_action":'Click-Email Settings'})})}}}catch(e){utag.DB(e)};try{try{if(1){var boldChatButtons=document.querySelectorAll('.boldChatButtonContainer');var trackBoldChatClicks=function(e){e.preventDefault();e.stopPropagation();var label=e.currentTarget.dataset.gaLabel?e.currentTarget.dataset.gaLabel:e.currentTarget.parentNode.dataset.gaLabel;window.utag.link({event_category:'Live-Chat',event_action:'Request-Chat',event_label:label});}
boldChatButtons.length&&boldChatButtons.forEach(function(button){button.addEventListener('click',trackBoldChatClicks);});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='sort'.toLowerCase()||(utag.data['page_type'].toString().toLowerCase()=='product_quick_view'.toLowerCase()&&utag.data['dom.url'].toString().toLowerCase().indexOf('quicklook.aspx'.toLowerCase())<0)||utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()){var productSku;var query=window.location.search;var pathName=window.location.pathname;var isSort=window.utag_data.page_type.toLowerCase()==='sort';var isProduct=window.utag_data.page_type.toLowerCase()==='product';var isPLA=pathName.indexOf('/sfp/')>-1;var isSortQuickLook=query.indexOf('sfp=')>-1||query.indexOf('sfp3=')>-1;var PRODUCT_UNAVAILABLE='PRODUCT_UNAVAILABLE';var NO_PRODUCT_PANEL='NO_PRODUCT_PANEL';var DEFAULT='DEFAULT';function initProductAvailability(words,callbackFunc){try{var sfpQuickLook=document.getElementById('sfpQuicklook');var sfpQuickLookIframe;var sfpQuickLookContent;var pdPleaseCall=document.querySelector('.pdPleaseCall');var isProductUnavailable;if(!sfpQuickLook){if((isPLA||isProduct||isSort)&&!isSortQuickLook){if(isProduct){var availContent=[];if(pdPleaseCall){availContent.push(pdPleaseCall.innerHTML);}
if(availContent.length!==0){isProductUnavailable=words.filter(function(word){return availContent.join('').toLowerCase().indexOf(word)>-1;}).length;}}else{isProductUnavailable=words.filter(function(word){return document.body.innerHTML.toLowerCase().indexOf(word)>-1;}).length;}
return isProductUnavailable?callbackFunc({status:PRODUCT_UNAVAILABLE}):callbackFunc({status:DEFAULT});}
return callbackFunc({status:NO_PRODUCT_PANEL});}
sfpQuickLookIframe=sfpQuickLook.querySelector('iframe');if(sfpQuickLookIframe){return sfpQuickLookIframe.addEventListener('load',function(){sfpQuickLookContent=sfpQuickLookIframe.contentWindow.document.body.innerHTML;isProductUnavailable=words.filter(function(word){return sfpQuickLookContent.toLowerCase().indexOf(word)>-1;}).length;isProductUnavailable?callbackFunc({status:PRODUCT_UNAVAILABLE}):callbackFunc({status:DEFAULT});});}
return callbackFunc({status:DEFAULT});}catch(e){callbackFunc({status:DEFAULT});}}
var is404Page=(function(){return document.querySelector('h1')
.innerText
.trim()
.replace(',','')
.toLowerCase()==="we're sorry"&&pathName.indexOf('/products/')>-1&&pathName.indexOf('.html')>-1;}());initProductAvailability(['please call','for availability'],function(result){var status=result.status||DEFAULT;if(isSort&&isSortQuickLook){var sfpRegex=/sfp3?=/g;productSku=query.split(sfpRegex)[1].split('&')[0];if(status===PRODUCT_UNAVAILABLE){window.utag.link({'event_category':'PLA','event_action':'Product Unavailable - Call For Availability','event_label':productSku});}else if(status===NO_PRODUCT_PANEL){window.utag.link({'event_category':'PLA','event_action':'Product Unavailable - No Product Panel','event_label':productSku});}}
if(isPLA){if(status===PRODUCT_UNAVAILABLE){productSku=pathName.split('/sfp/')[1].replace('/','');window.utag.link({'event_category':'PLA','event_action':'Product Unavailable - Call For Availability','event_label':productSku});}}
if(isProduct){var productSku=pathName.split('__')[1].replace('.html','');if(status===PRODUCT_UNAVAILABLE){window.utag.link({'event_category':'PDP','event_action':'Product Unavailable - Call For Availability','event_label':productSku});}else if(is404Page){window.utag.link({'event_category':'PDP','event_action':'Product Unavailable - Page Not Found','event_label':productSku});}}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['is_mobile'].toString().toLowerCase()=='0'.toLowerCase())||(utag.data['page_type'].toString().toLowerCase()=='all'.toLowerCase()&&utag.data['is_mobile'].toString().toLowerCase()=='0'.toLowerCase())){(function(){function fireDyEvent(product_price,product_name){window.utag.link({'event_type':'qv_wishlist_add','product_price':product_price||window.utag_data.product_price,'product_name':product_name||window.utag_data.product_name,'order_currency_code':window.utag_data.order_currency_code||'USD',});}
function runProdInfo(){var standardSaveButtons=document.querySelectorAll('#pdProdInfoCol .addToWishList');if(!standardSaveButtons.length){return;}
standardSaveButtons.forEach(function(btn){btn.addEventListener('click',function(){fireDyEvent();});});}
function runMultiProduct(){var multiProductSaveButton=document.querySelector('.addSelectedToWishList');function collectDataAndFireEvent(){var productPrice;var productName;var productContainers=document.querySelectorAll('.sortResultContainer');var firstSelectedProduct=[].slice.call(productContainers).find(function(container){var selectCheckbox=container.querySelector('input.inputCheckbox');return selectCheckbox&&selectCheckbox.checked;});if(!firstSelectedProduct){return;}
productPrice=firstSelectedProduct.querySelector('.sortResultProdPrice');productName=firstSelectedProduct.querySelector('.sortResultProdName span');if(!(productPrice&&productName)){return;}
productPrice=productPrice.textContent.trim().slice(1);productName=productName.textContent;fireDyEvent(productPrice,productName);}
if(!multiProductSaveButton){return;}
if(multiProductSaveButton){multiProductSaveButton.addEventListener('click',collectDataAndFireEvent);}}
function runBuildSystem(){var systemOptionsSaveButton=document.getElementById('pdAddToPortfolioSystemOptions');function collectDataAndFireEvent(){var name;var price;var firstRowWithQuantity;var firstRowWithQuantityCells;var tableRows=document.querySelectorAll('#pdFullSystemOptions tr');if(!tableRows.length){return;}
tableRows=[].slice.call(tableRows).slice(1);firstRowWithQuantity=tableRows.find(function(row){var quantityInput;var cells=row.querySelectorAll('td');if(cells.length<3){return;}
quantityInput=cells[3].querySelector('input')||-1;return parseInt(quantityInput.value)>0;});if(!firstRowWithQuantity){return;}
firstRowWithQuantityCells=firstRowWithQuantity.querySelectorAll('td');if(!firstRowWithQuantityCells.length){return;}
name=firstRowWithQuantityCells[1].textContent;price=firstRowWithQuantityCells[4].textContent.slice(1);fireDyEvent(price,name);}
if(!systemOptionsSaveButton){return;}
systemOptionsSaveButton.addEventListener('click',collectDataAndFireEvent);}
function runHousingOptions(){var productContainers=document.querySelectorAll('#pnlHousingOptions .pdHousingOptionsProdContainer');if(!productContainers.length){return;}
productContainers.forEach(function(container){var saveButton=container.querySelector('.addToWishList');var productName=container.querySelector('.pdHousingOptionsProdDescription > strong');var productPrice=container.querySelector('.pdHousingOptionsProdPricing .price');if(!saveButton||!productName||!productPrice){console.error('Tealium Error: extension #407 -- required FB event info not found!');return;}
saveButton.addEventListener('click',function(){fireDyEvent(productPrice.textContent.trim().slice(1),productName.textContent.trim());});});}
if(!(window.utag&&window.utag.link&&window.utag_data)){console.error('Tealium Error - extension #407: a required utag global was not found!');return;}
runProdInfo();runBuildSystem();runMultiProduct();runHousingOptions();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type']=='confirmation'){function getVisitorName(){var isMobile=window.utag_data.is_mobile==='1';if(isMobile){var visitorNameElement=document.querySelectorAll('.paymentAddress p')[0];if(!visitorNameElement){return false;}
var visitorName=visitorNameElement.textContent.replace(/\s+/g,' ').trim();return visitorName;}
var paymentInfoContainer=document.querySelector('.paymentAddress');if(!paymentInfoContainer){return false;}
var paymentInfoArray=paymentInfoContainer
.innerHTML
.trim()
.split(/<br(\/)?>/gi)
.filter(function(c){return Boolean(c);});var visitorName=paymentInfoArray[1].trim();return visitorName;}
window._bcvma=window._bcvma||[];_bcvma.push(["setAccountID","138297143032113151"]);_bcvma.push(["addConversion",{VisitName:getVisitorName()||'',VisitPhone:window.utag_data['customer_phone']||'',VisitEmail:window.utag_data['customer_email']||'',VisitRef:"",VisitInfo:"",CustomUrl:"",ConversionAmount:window.utag_data['order_grand_total']||'',ConversionRef:window.utag_data['order_id']||'',ConversionInfo:"",WebsiteID:"1753861438288170235",ConversionCodeID:"658563145232026031"}]);var bcLoad=function(){if(window.bcLoaded)return;window.bcLoaded=true;var vms=document.createElement("script");vms.type="text/javascript";vms.async=true;vms.src=('https:'==document.location.protocol?'https://':'http://')+"vmss.boldchat.com/aid/138297143032113151/bc.vms4/vms.js";var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(vms,s);};if(window.pageViewer&&pageViewer.load){pageViewer.load()}else{bcLoad()};}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile']!='1'&&utag.data['dom.url'].toString().indexOf('check-store-availability.aspx')>-1&&utag.data['dom.url'].toString().indexOf('Step=2')>-1)){var searchCheckStoreAvailabilityButton=document.getElementById('searchCheckStoreAvailability');var zipCodeTxtField=document.querySelector('.zipCodeTxtBox');if(searchCheckStoreAvailabilityButton&&zipCodeTxtField){searchCheckStoreAvailabilityButton.addEventListener('click',function(){var zipCode=zipCodeTxtField.value;if(window.utag&&zipCode!==''){window.utag.link({'event_category':'Check-Store','event_action':'Click-Change-Zip','event_label':zipCode});}});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){var sendAnalyticsData=function(e){var eventData=e.detail;var analyticsData={'event_category':eventData['event_category'],'event_label':eventData['event_label'],'event_action':eventData['event_action']};if(eventData['event_value']){analyticsData['event_value']=eventData['event_value'];}
window.utag&&window.utag.link(analyticsData);};document.addEventListener('autoComplete:PopularThumbnail',sendAnalyticsData);document.addEventListener('autoComplete:SearchClick',sendAnalyticsData);document.addEventListener('autoComplete:Redirect',sendAnalyticsData);document.addEventListener('searchBox:focus',sendAnalyticsData);document.addEventListener('searchBox:SubmitClick',sendAnalyticsData);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['is_mobile']=='1')||(utag.data['dom.url'].toString().toLowerCase().indexOf('/shadeBrowser'.toLowerCase())>-1&&utag.data['is_mobile']=='1')){try{var EVENT_CATEGORY='ViewOnYourLamp';function sendAnalyticsData(data){if(data&&window.utag&&window.utag.link){window.utag.link(data);}}
function extractProductSkuFromUrl(){var queryMatch=parent.window.location.search.match(/sku=(.)+/gi);if(!queryMatch){return null;}
return queryMatch[0]?queryMatch[0].split('=')[1]:null;}
function shadeBrowserEventHandler(action){var productSku=extractProductSkuFromUrl();if(productSku){sendAnalyticsData({event_category:EVENT_CATEGORY,event_action:action,event_label:productSku});}}
var viewOnLampBtn=document.getElementById('viewOnLampBtn');var getStartedBtn=document.getElementById('startBtn');var browseBtn=document.getElementById('browse');var uploadBtn=document.getElementById('uploadBtn');var nextBtn=document.getElementById('nextBtn');var previewBtn=document.getElementById('previewBtn');viewOnLampBtn&&viewOnLampBtn.addEventListener('click',function(){sendAnalyticsData({event_category:EVENT_CATEGORY,event_action:'Click-View-On-Your-Lamp',event_label:window.utag_data.product_sku});});getStartedBtn&&getStartedBtn.addEventListener('click',function(){shadeBrowserEventHandler('Click-Get-Started');});browseBtn&&browseBtn.addEventListener('click',function(){shadeBrowserEventHandler('Click-Upload-Photo');});uploadBtn&&uploadBtn.addEventListener('click',function(){shadeBrowserEventHandler('Click-Proceed-After-Upload');});nextBtn&&nextBtn.addEventListener('click',function(){shadeBrowserEventHandler('Click-Next-Height-Entry');});previewBtn&&previewBtn.addEventListener('click',function(){shadeBrowserEventHandler('Click-Preview-Sku');});}catch(err){console.error(err);}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile']!='1'&&utag.data['page_type']=='product')){var storeAvailabilityLinkId='pdCheckStoreAvailability';var storeAvailElem=document.getElementById(storeAvailabilityLinkId);storeAvailElem.addEventListener('click',function(){var checkForIframe=setInterval(function(){var iFrameId='modalIframe';var iFrameWindow=frames[iFrameId];var addDetailsLinkListeners=function(){var list=iFrameWindow.contentDocument.querySelector('.storeList');if(list){var detailsLinks=list.getElementsByClassName('showDetails');for(var i=0;i<detailsLinks.length;i++){detailsLinks[i].addEventListener('click',fireDetailsDataLink)}}}
var checkNoStoresError=function(){var errElement=iFrameWindow.contentDocument.getElementsByClassName("noStores");if(errElement.length>0){var zipElemId="PopupContent_ctlStep2_txtZipCode";var storeZip=iFrameWindow.contentDocument.getElementById(zipElemId).value;fireNoStoresDataLink(storeZip);}};if(iFrameWindow){clearInterval(checkForIframe);var searchBtn=iFrameWindow.contentDocument.getElementById('searchCheckStoreAvailability');if(searchBtn){searchBtn.addEventListener('click',function(){addDetailsLinkListeners();})}
iFrameWindow.onload=function(){addDetailsLinkListeners();checkNoStoresError();}}},100);})
function fireDetailsDataLink(e){var target=e.target;if(e.target.classList.length<1){target=e.target.parentElement;}
if(!target.dataset.fired){var storeListItem=target.parentElement;var storeNumber=storeListItem.dataset.storenumber||"n/a";var storeName=storeListItem.getElementsByClassName('storeTitle')[0].textContent||"";if(window.utag&&window.utag.link){window.utag.link({event_category:"Check-Store",event_label:storeName.trim()+" #"+storeNumber.toString().trim(),event_action:'Open-Store-Details'});}
target.dataset.fired="true";}else{target.removeAttribute('data-fired');}}
function fireNoStoresDataLink(zip){if(window.utag&&window.utag.link){window.utag.link({event_category:"Check-Store",event_label:zip.toString().trim(),event_action:'No-Nearby-Store'})}}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['is_mobile']=='1'){(function(){var toggleMenu=document.querySelector(".toggleMenu");if(toggleMenu){toggleMenu.addEventListener("click",function(e){window.utag.link({"event_category":"Nav-Top","event_action":"click-Hamburger","event_label":document.body.classList.contains('lpmmMenuOpen')?'Open':'Close',});});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile']=='0'&&utag.data['page_type'].toString().toLowerCase()=='sort'.toLowerCase())){var filterDropdownLinks=document.querySelectorAll('#divAttMenu .sortAttMenuDD a');if(filterDropdownLinks.length){filterDropdownLinks.forEach(function(link){link.addEventListener('click',function(e){var target=e.currentTarget;var attBtn=target.closest('div').previousElementSibling;if(attBtn){window.utag.link({'event_category':'Sort-Filter-Menu','event_action':'click-'+attBtn.textContent.trim(),'event_label':target.textContent.trim()});}});});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['is_mobile']!='1'){(function(){var footerTrackingDesktop=(function(){var EVENT_CATEGORY='Nav-Footer';var common={sendAnalyticsData:function(trackObj){if(window.utag&&window.utag.link){window.utag.link(trackObj);}},};var ui={emailUs:document.querySelector('#ftrEmail a'),backToTop:document.querySelector('.backToTop'),emailSubscribeInput:document.querySelector('#txtEmailUpdatesRequest'),emailSubscribeBtn:document.querySelector('#ftrSubscribeBtn'),proLogo:document.querySelector('a[name=footer_lp_pros_logo]'),hospitalityLogo:document.querySelector('a[name=footer_lp_hospitality_logo]'),standardFooterLinks:document.querySelectorAll('.standardLinksLayout .ftrLinkList-col--item > a'),proFooterLinks:document.querySelectorAll('.proLinksLayout .ftrLinkList-col--item > a'),hospitalityFooterLinks:document.querySelectorAll('.hospitalityLinksLayout .ftrLinkList-col--item > a'),};var methods={handleEmailUsClick:function(){common.sendAnalyticsData({'event_category':EVENT_CATEGORY,'event_action':'Click-Email-Us',});},handleBackToTopClick:function(){common.sendAnalyticsData({'event_category':EVENT_CATEGORY,'event_action':'Click-Back-to-Top',});},handleEmailSubscribeClick:function(){if(ui.emailSubscribeInput){common.sendAnalyticsData({'event_category':EVENT_CATEGORY,'event_action':''!==ui.emailSubscribeInput.value?'Click-Subscribe-Email':'Click-Subscribe-Email-Not-Submitted',});}},handleProLogoClick:function(){common.sendAnalyticsData({'event_category':EVENT_CATEGORY,'event_action':'Click-LPPro',});},handleHospitalityLogoClick:function(){common.sendAnalyticsData({'event_category':EVENT_CATEGORY,'event_action':'Click-Hospitality',});},handleFooterLinkClick:function(e){common.sendAnalyticsData({'event_category':EVENT_CATEGORY,'event_action':'Click-'+e.currentTarget.textContent.trim(),});},addFooterLinkHandler:function(link){link.addEventListener('click',methods.handleFooterLinkClick);},};function init(){if(ui.emailUs){ui.emailUs.addEventListener('click',methods.handleEmailUsClick);}
if(ui.backToTop){ui.backToTop.addEventListener('click',methods.handleBackToTopClick);}
if(ui.emailSubscribeBtn){ui.emailSubscribeBtn.addEventListener('click',methods.handleEmailSubscribeClick);}
if(ui.proLogo){ui.proLogo.addEventListener('click',methods.handleProLogoClick);}
if(ui.hospitalityLogo){ui.hospitalityLogo.addEventListener('click',methods.handleHospitalityLogoClick);}
if(ui.standardFooterLinks.length){ui.standardFooterLinks.forEach(methods.addFooterLinkHandler);}
if(ui.hospitalityFooterLinks.length){ui.hospitalityFooterLinks.forEach(methods.addFooterLinkHandler);}
if(ui.proFooterLinks){ui.proFooterLinks.forEach(methods.addFooterLinkHandler);}}
return{init:init,};}());footerTrackingDesktop.init();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['is_mobile']=='1'){var appointmentIcon=document.getElementById('appointmentsIcon');if(appointmentIcon){appointmentIcon.addEventListener('click',function(){var storeTitleElement=document.querySelector('#divStoreInfo h1');var storeTitle=storeTitleElement?storeTitleElement.textContent.trim():null;if(window.utag&&window.utag.link&&storeTitle){window.utag.link({'event_category':'Store-Details-Mobile','event_action':'click-Appointment-Top','event_label':storeTitle});}});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['dom.url'].toString().toLowerCase().indexOf('account/create'.toLowerCase())>-1){var accountCreateTracking=(function(){var EVENT_CATEGORY='Account';var common={sendAnalyticsData:function(trackingObj){if(window.utag&&window.utag.link){window.utag.link(trackingObj);}},isFormValid:function(formElement){var errorElements=formElement.querySelectorAll('.error');if(!errorElements.length){return true;}
var arrErrorElements=[].slice.call(errorElements);var errors=arrErrorElements.filter(function(el){var cl=el.classList;return!cl.contains('valid');});return errors.length===0;}};var ui={accFacebookConnectBtn:document.getElementById('accountFacebookConnectBtn'),accCreateAccountForm:document.querySelector('form[action*="account/create"]'),accCreateAccountSubmitBtn:document.querySelector('#accountCreateAccount button[type=submit]')};var methods={handleAccFacebookConnectBtn:function(){common.sendAnalyticsData({'event_category':EVENT_CATEGORY,'event_action':'Click-Facebook-Create'});},handleAccCreateAccountSubmitBtn:function(){var validForm=common.isFormValid(ui.accCreateAccountForm);if(validForm){common.sendAnalyticsData({'event_category':EVENT_CATEGORY,'event_action':'Click-Create-Account'});}}};function init(){if(ui.accFacebookConnectBtn){ui.accFacebookConnectBtn.addEventListener('click',methods.handleAccFacebookConnectBtn);}
if(ui.accCreateAccountForm&&ui.accCreateAccountSubmitBtn){ui.accCreateAccountSubmitBtn.addEventListener('click',methods.handleAccCreateAccountSubmitBtn);}}
return{init:init};}());accountCreateTracking.init();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile']=='0'&&utag.data['dom.url'].toString().indexOf('check-store-availability.aspx')>-1)){(function(){var reserveItemButton=document.querySelector('#btnCheckAvailability');var EVENT_CATEGORY='Check-Store';var eventAction='';var storeName;var storeNumber;var shortSku;function fireTracking(event_action,event_category,event_label){if(window.utag&&window.utag.link){window.utag.link({event_action:event_action,event_category:event_category,event_label:event_label,});}}
function radioButtonValueIsSelected(radioBtnValue){var radioButtons=document.querySelectorAll('#PopupContent_ctlStep3Bopus_rbContactMeBackBy input');var selectedPhoneCallRadioButtons;if(radioButtons.length){selectedPhoneCallRadioButtons=[].slice.call(radioButtons).filter(function(btn){return btn.checked&&btn.value===radioBtnValue;});if(selectedPhoneCallRadioButtons.length){return true;}}
return false;}
if(reserveItemButton){storeName=reserveItemButton.dataset.storeName;storeNumber=reserveItemButton.dataset.storeNum;shortSku=reserveItemButton.dataset.shortSku;reserveItemButton.addEventListener('click',function(){if(radioButtonValueIsSelected('phone')){eventAction='Request-Callback-'+storeName+' #'+storeNumber;}else if(radioButtonValueIsSelected('text')){eventAction='Request-SMS-'+storeName+' #'+storeNumber;}
if(eventAction){fireTracking(eventAction,EVENT_CATEGORY,shortSku);}});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var directionsBtnUtagLink=function(directionsBtn){var storeTitle=document.querySelector("#divStoreInfo > h1").textContent.trim()||"";if(directionsBtn){directionsBtn.addEventListener("click",function(){window.utag.link({"event_category":"Store-Details-Desktop","event_action":"click-Directions","event_label":storeTitle})})
observer.disconnect();}}
var observer=new MutationObserver(function(mutationList){Array.from(mutationList).some(function(mutation){if(mutation.type=="childList"){var dirBtn=document.querySelector('#getDirectionsBtn');if(dirBtn&&dirBtn.firstChild){directionsBtnUtagLink(dirBtn.firstChild);return true;}}})})
var dirBtn=document.querySelector('#getDirectionsBtn')
if(dirBtn&&dirBtn.firstChild){directionsBtnUtagLink(dirBtn);return;}else{var targetNode=document.querySelector('#mapCanvas');observer.observe(targetNode,{attributes:false,childList:true,subtree:true})}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var directionsIconUtagLink=function(icon){var storeTitle=document.querySelector("#divStoreInfo > h1").textContent.trim()||"";if(icon){icon.addEventListener("click",function(){window.utag.link({"event_category":"Store-Details-Mobile","event_action":"click-Directions-Top","event_label":storeTitle})})}}
var icon=document.querySelector('#directionsIcon');if(icon){directionsIconUtagLink(icon);}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var common={sendAnalyticsData:function(category,action,label){if(window.utag&&window.utag.link){window.utag.link({"event_category":category,"event_action":action,"event_label":label});}}}
var getUi=function(saleMenu,shopMenu){return{saleMenu:{saleItem:{el:saleMenu.querySelector("a[href*='/products/onsale']"),handleClick:function(salesEl,category,action){salesEl.addEventListener('click',function(){common.sendAnalyticsData(category,action,"Sale")})},},dailyItem:{el:saleMenu.querySelector("a[href*='/daily-sales']"),handleClick:function(dailyEl,category,action){dailyEl.addEventListener('click',function(){common.sendAnalyticsData(category,action,"Daily Sales")})},},clearanceItem:{el:saleMenu.querySelector("a[href*='/clearance']"),handleClick:function(clearanceEl,category,action){clearanceEl.addEventListener('click',function(){common.sendAnalyticsData(category,action,"Clearance")})},},openBoxItem:{el:saleMenu.querySelector("a[href*='lampsplusopenbox']"),handleClick:function(openBoxEl,category,action){openBoxEl.addEventListener('click',function(){common.sendAnalyticsData(category,action,"Open Box")})},},},shopByMenu:{inspirationItem:{el:shopMenu.querySelector("a[href*='/shop-by-room/'"),handleClick:function(inspEl,category,action){inspEl.addEventListener('click',function(){common.sendAnalyticsData(category,action,"Room")})},},trendItem:{el:shopMenu.querySelector("a[href*='/shop-by-trend/'"),handleClick:function(trendEl,category,action){trendEl.addEventListener('click',function(){common.sendAnalyticsData(category,action,"Trend")})},},ideasAndAdviceItem:{el:shopMenu.querySelector("a[href*='/ideas-and-advice'"),handleClick:function(advEl,category,action){advEl.addEventListener('click',function(){common.sendAnalyticsData(category,action,"Advice")})},}},}}
function init(){var EVENT_CATEGORY="Nav-Top";var SALE_ACTION="click-Sale";var SHOP_ACTION="click-Shop-by";var siteMenuBar=document.querySelector('#siteShortcuts');var saleMenu=siteMenuBar?siteMenuBar.querySelectorAll('.submenu.boxStyle > ul')[0]:null;var shopMenu=siteMenuBar?siteMenuBar.querySelectorAll('.submenu.boxStyle > ul')[1]:null;if(shopMenu&&saleMenu){var ui=getUi(saleMenu,shopMenu);for(item in ui.saleMenu){if(ui.saleMenu[item].el){ui.saleMenu[item].handleClick(ui.saleMenu[item].el,EVENT_CATEGORY,SALE_ACTION);}}
for(item in ui.shopByMenu){if(ui.shopByMenu[item].el){ui.shopByMenu[item].handleClick(ui.shopByMenu[item].el,EVENT_CATEGORY,SHOP_ACTION);}}}}
init();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var navBtn=document.querySelector('#navigate');var eventLabel=document.querySelector('#divStoreInfo h1');if(navBtn&&eventLabel){if(window.utag&&window.utag.link){navBtn.addEventListener('click',function(){window.utag.link({"event_category":"Store-Details-Mobile","event_action":"click-Directions-Bottom","event_label":eventLabel.textContent.trim()});});}}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile'].toString().toLowerCase()=='1'.toLowerCase()&&/.+lampsplus.com\/stores\/.+\/.+/i.test(utag.data['dom.url'])&&utag.data['website_mode'].toString().toLowerCase()!='professional'.toLowerCase())){(function(){var storeDetailTrackingMobile=(function(){var storeNameH1=document.querySelector('#divStoreInfo h1');var makeStoreLink=document.querySelector('.makeThisMyStore');var storeName=storeNameH1?storeNameH1.textContent.trim():'';var storeNumber=makeStoreLink?makeStoreLink.dataset.store:'';var callStoreButton=document.getElementById('callStoreIcon');var textStoreButton=document.getElementById('textStoreIcon');function sendAnalytics(params){var defaults={'event_category':'Store-Details-Mobile',};window.utag.link(Object.assign({},defaults,params));}
function handleContactClick(action){var label=storeName.trim().toUpperCase()+' #'+storeNumber.trim();sendAnalytics({'event_action':action,'event_label':label,});}
return function(){if(!storeName||!storeNumber){return console.error('Tracking error','Store name and/or number is required for tracking');}
if(callStoreButton){callStoreButton.addEventListener('click',function(){handleContactClick('click-Call-Store');});}
if(textStoreButton){textStoreButton.addEventListener('click',function(){handleContactClick('click-SMS-Top');});}};}());storeDetailTrackingMobile();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile']=='1'&&utag.data['dom.url'].toString().toLowerCase().indexOf('storeavailability/?sku'.toLowerCase())>-1)){(function(){var SKU=window.utag_data['qp.sku'];var hasQuestionModal=window.location.search.indexOf('hasquestion=1')>-1;if(!SKU){return;}
function handleAvailabilityButtonClick(e){var location=e.currentTarget.dataset.storeLocation;var isCall=e.currentTarget.href.indexOf('tel:')>-1;var isText=e.currentTarget.href.indexOf('sms:')>-1;var eventActionType='';if(isCall){eventActionType=hasQuestionModal?'Call-Ask-Associate':'Call-Check-Availability';}else if(isText){eventActionType=hasQuestionModal?'SMS-Ask-Associate':'SMS-Check-Availability';}
if(!eventActionType){return;}
if(window.utag&&window.utag.link&&location){window.utag_data['is_mobile_search_result']='true';window.utag.link({'event_category':hasQuestionModal?'PDP':'Check-Store','event_label':SKU,'event_action':eventActionType+'-'+location,});}}
function handleSearchResultsRender(searchResultsContent){var observerOptions={childList:true,attributes:true,subtree:true,};var observer=new MutationObserver(function(){var availabilityButtons=searchResultsContent.querySelectorAll('.searchResultsList .storeCalloutBtns .calloutBtn');if(availabilityButtons.length){availabilityButtons.forEach(function(btn){btn.removeEventListener('click',handleAvailabilityButtonClick);btn.addEventListener('click',handleAvailabilityButtonClick);});}});observer.observe(searchResultsContent,observerOptions);}
function handlePageRender(){var observer=new MutationObserver(function(mutations,observer){var searchResultsContent=document.querySelector('.storeAvailabilityLocatorContent');if(document.contains(searchResultsContent)){handleSearchResultsRender(searchResultsContent);observer.disconnect();}});observer.observe(document.body,{childList:true,attributes:false,subtree:false,});}
handlePageRender();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var common={sendAnalyticsData:function(trackingObj){if(window.utag&&window.utag.link&&typeof trackingObj==="object"){window.utag.link(trackingObj);}},};var ui={needItTodayEl:document.querySelector('a.needItToday#pdCheckStoreAvailabilityWrapper'),checkAvailabilityEl:document.querySelector('li#pdCheckStoreAvailabilityWrapper:not(.needItToday)'),shortSku:window.shortSku||"",};var methods={handleNeedItTodayClick:function(){if(!window.shortSku){return;}
common.sendAnalyticsData({"event_category":"Check-Store","event_action":"Click-Need-it-Today","event_label":window.shortSku,});},handleCheckStoreAvailabilityClick:function(){if(!window.shortSku){return;}
common.sendAnalyticsData({"event_category":"Check-Store","event_action":"Click-Check-Store","event_label":window.shortSku,});},};function init(){if(window.utag&&window.utag_data){if(ui.needItTodayEl){ui.needItTodayEl.addEventListener('click',methods.handleNeedItTodayClick);}
if(ui.checkAvailabilityEl){ui.checkAvailabilityEl.addEventListener('click',methods.handleCheckStoreAvailabilityClick);}}}
init();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var common={sendTrackingData:function(trackingObj){if(window.utag&&window.utag.link&&typeof trackingObj==='object'){window.utag.link(trackingObj);}},};var methods={addTrackingListener:function(el,trackingObj){el.addEventListener('click',function(){common.sendTrackingData(trackingObj);});},getSkuFromParent:function traverse(el){var parent=el.parentElement;if(!parent){return'';}
var sku=parent.dataset.sku||parent.dataset.certonasku||'';if(!sku){return traverse(parent);}
return sku;},getIframe:function(){if(window.utag_data.is_mobile>0){return document.querySelector('.mltDrawerContainer > iframe');}else{return document.querySelector('#jsMltFrame');}}};function init(){var observerConfig={attributes:true,childList:true,subtree:true};var iFrameObserver=new MutationObserver(function(mutations,observer){var iFrame=methods.getIframe();var targetEls=iFrame.contentDocument.querySelectorAll('.sortResultImgContainer');if(targetEls&&targetEls.length>0){targetEls.forEach(function(el){var elProductSku=methods.getSkuFromParent(el);methods.addTrackingListener(el,{'event_action':'Click-More-Like-This-Product','event_category':'Sort','event_label':elProductSku});});observer.disconnect();}});if(window.utag&&window.utag_data){var buttonsHandled=false;var myObserver=new MutationObserver(function(){if(!buttonsHandled){var selector='.jsViewSimilarBtn';var btns=document.querySelectorAll(selector);if(btns&&btns.length>0){btns.forEach(function(btn){var btnProductSku=methods.getSkuFromParent(btn);methods.addTrackingListener(btn,{'event_category':'Sort','event_action':'Click-More-Like-This','event_label':btnProductSku});});buttonsHandled=true;}}
var iFrame=methods.getIframe();if(iFrame&&iFrame.contentDocument){iFrameObserver.observe(iFrame.contentDocument,observerConfig);}});myObserver.observe(document,observerConfig);}}
init();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){var sendAnalyticsData=function(e){var eventData=e.detail;var analyticsData={'event_category':eventData['event_category'],'event_label':eventData['event_label'],'event_action':eventData['event_action']};if(eventData['event_value']){analyticsData['event_value']=eventData['event_value'];}
window.utag&&window.utag.link(analyticsData);};document.addEventListener('fedex:validation:checkout',sendAnalyticsData);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){function setCookie(cookieName,cookieValue,expiresDays,domain){var path=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'/';var isSecure=arguments[5]||true;var isSessionCookie=arguments[6];var cookieDomain=window.lp.globals.cookieDomain;var expires='';if(expiresDays){var now=new Date();now.setTime(now.getTime()+expiresDays*86400000);expires='; expires='+now.toUTCString();}
if(isSessionCookie){expires='';}
document.cookie=encodeURIComponent(cookieName)+'='
+encodeURIComponent(cookieValue)+';'
+(expires+'; domain='+(domain||cookieDomain)+'; path='+path+(isSecure?'; secure':''));return getCookie(cookieName);}
function deleteCookie(cookieName,domain){var cookieDomain=domain||'.lampsplus.com'||window.lp.globals.cookieDomain;setCookie(cookieName,'',-10,cookieDomain);}
function getCookie(cookieName){var result=new RegExp('(?:^|; )'+encodeURIComponent(cookieName)+'=([^;]*)').exec(document.cookie);return result?result[1]:null;}
function getEmailFromCookie(cookieValue){if(new RegExp('\\?|=').exec(cookieValue)){return cookieValue.split('?')[0].split('=')[1];}else{return cookieValue;}}
function sendTrackingInfo(email,callback){if(window.utag&&window.utag.view){window.utag.view({customer_email:email},callback);}}
var trackingSent=false;var cookieName='mdem';var cookie=getCookie(cookieName);if(cookie&&!trackingSent){var email=getEmailFromCookie(cookie);sendTrackingInfo(email,function(){trackingSent=true;});deleteCookie(cookieName);}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='shipping'.toLowerCase()){var CATEGORY='Checkout';var LABEL='Shipping';var LABEL_MODAL='Shipping-Modal';var IS_MOBILE=window.utag_data.is_mobile==='1';function multipleShippingLinkClick(e){sendTracking(getTrackingObject(CATEGORY,LABEL,'ShipTo-Click-Ship-to-multiple'));e.target.removeEventListener('click',multipleShippingLinkClick);}
function singleShippingLinkClick(e){sendTracking(getTrackingObject(CATEGORY,LABEL,'ShipTo-Click-Ship-to-single'));e.target.removeEventListener('click',singleShippingLinkClick);}
function handleEnterAddressLinkClick(e){trackEnterAddressLinkClick(IS_MOBILE);}
function handleNewAddressLinkClick(e){trackNewAddressLinkClick(IS_MOBILE);}
function handleEditAddressLinkClick(e){trackEditAddressLinkClick(IS_MOBILE);}
function trackEnterAddressLinkClick(isMobile){sendTracking(getTrackingObject(CATEGORY,LABEL,'ShipTo-Enter-Address'));if(isMobile){observeShippingForm(document.getElementById('singleAddressFormOverlay'));}else{observeShippingForm(document.body);}}
function trackNewAddressLinkClick(isMobile){sendTracking(getTrackingObject(CATEGORY,LABEL,'ShipTo-New-Address'));if(isMobile){observeShippingForm(document.getElementById('singleAddressFormOverlay'));}else{observeShippingForm(document.body);}}
function trackEditAddressLinkClick(isMobile){sendTracking(getTrackingObject(CATEGORY,LABEL,'ShipTo-Edit-Address'));if(isMobile){observeShippingForm(document.getElementById('singleAddressFormOverlay'));}else{observeShippingForm(document.body);}}
function trackShipOptionsUpdate(e){switch(e.currentTarget.value){case'ship':sendTracking(getTrackingObject(CATEGORY,LABEL,'ShipTo-Select-Ship'));break;case'storePickup':sendTracking(getTrackingObject(CATEGORY,LABEL,'ShipTo-Select-Store-Pickup'));break;case'storeInventory':sendTracking(getTrackingObject(CATEGORY,LABEL,'ShipTo-Select-Store-Inventory'));break;default:break;}}
function trackMultipleShippingFormOnRender(targetNode){if(!targetNode){return;}
var singleShippingLink=targetNode.querySelector('.jsShipSingleAddress');var newAddressLinks=targetNode.querySelectorAll('.jsNewAddress');var editAddressLinks=targetNode.querySelectorAll('.jsEditAddress');var shipTypeRadios=targetNode.querySelectorAll('.jsShipType');if(singleShippingLink){singleShippingLink.addEventListener('click',singleShippingLinkClick);}
if(newAddressLinks.length){newAddressLinks.forEach(function(link){if(link.classList.contains('jsEnterAddress')){link.addEventListener('click',handleEnterAddressLinkClick);}else{link.addEventListener('click',handleNewAddressLinkClick);}});}
if(editAddressLinks.length){editAddressLinks.forEach(function(link){link.addEventListener('click',handleEditAddressLinkClick);});}
if(shipTypeRadios.length){shipTypeRadios.forEach(function(shipTypeRadio){shipTypeRadio.addEventListener('change',trackShipOptionsUpdate);});}}
function trackShippingFormSubmissions(mutations,observer){if(window.$){try{var formSelectorString=IS_MOBILE?'.jsEditAddressOverlayContent.multipleShippingMode':'.lpForm.multipleShippingMode';var $form=$(formSelectorString);var saveButton=document.getElementById('saveAddressFromModal');if(saveButton){saveButton.addEventListener('click',function(){if($form.valid()){sendTracking(getTrackingObject(CATEGORY,LABEL_MODAL,'ShipTo-Save-Address'));}});}}catch(err){console.error('Gift card tracking error',err.message);}}
observer.disconnect();}
function sendTracking(trackingParams){if(typeof trackingParams!=='object'){return;}
if(window.utag&&window.utag.link){window.utag.link(trackingParams);}}
function getTrackingObject(category,label,action){return{event_category:category,event_label:label,event_action:action};}
function addObserver(targetNode,options,fn){if(!targetNode){return;}
var observer=new MutationObserver(fn);observer.observe(targetNode,options);}
function observeShippingForm(node){if(!node){return;}
addObserver(node,{childList:true},trackShippingFormSubmissions);}
function setupGiftcardTrackerShipping(){var cartShippingContainer=document.getElementById('cartShippingAddress');if(cartShippingContainer){addObserver(cartShippingContainer,{childList:true,attributes:true,subtree:true},function(mutations){mutations.forEach(function(mutation){var target=mutation.target;if(target.classList.contains('jsShipMultipleLink')){target.addEventListener('click',multipleShippingLinkClick);}
if(target.id==='multipleAddressesContainer'&&!target.classList.contains('hidden')){trackMultipleShippingFormOnRender(target);}});});}}
setupGiftcardTrackerShipping();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['dom.url'].toString().toLowerCase().indexOf('/account/email/'.toLowerCase())>-1){function sendData(category,action,label){if(window.utag&&window.utag.link){window.utag.link({'event_category':category,'event_action':action,'event_label':label});}}
var subscribeBtn,changePrefsBtn;if(window.utag_data&&window.utag_data.is_mobile){if(window.utag_data.is_mobile>0){subscribeBtn=document.querySelector('#subscribeNow .calloutBtn[type="Submit"]');changePrefsBtn=document.querySelector('#subscribeOptOut .calloutBtn[type="Submit"]');}else{subscribeBtn=document.querySelector('#SubscribeNow .calloutBtn[type="Submit"]');changePrefsBtn=document.querySelector('#UnSubscribe .calloutBtn[type="Submit"]');}}
if(subscribeBtn){subscribeBtn.addEventListener('click',function(){sendData('Email','Click-Subscribe-Email','');});}
if(changePrefsBtn){changePrefsBtn.addEventListener('click',function(){sendData('Email','Click-Change-Preferences-Email','');});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile']=='1'&&utag.data['page_type'].toString().toLowerCase()=='sort'.toLowerCase())){(function(){var filterLinks=document.querySelectorAll('#sortFilterWrapper .lpmmAccordion__submenu li a');if(filterLinks.length){filterLinks.forEach(function(link){link.addEventListener('click',function(e){var target=e.currentTarget;var topFilterDiv=target.closest('.lpmmAccordion__submenu');var topFilterLabel=topFilterDiv?topFilterDiv.dataset.unbxdFacetType.trim():null;if(topFilterLabel){window.utag.link({'event_category':'Sort-Filter-Menu','event_action':'click-'+topFilterLabel,'event_label':target.textContent.trim()});}else{console.error('Tealium Error: UID 488\n\nFilter label was not found.');}});});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['is_mobile']=='0')){var productSKU=window.utag_data.product_sku[0];var IMAGE_NAME_REGEX=/^(cropped|views|scenes)\//gi;var heroImageContainer=document.getElementById('pdImgContainer');var heroThumbnails=Array.from(document.querySelectorAll('#pdAddlImgs .thumbnailWrapper'))
.filter(function(th){var img=th.querySelector('img');if(img&&!img.dataset.videoid){return th;}});var showInRoomBtn=document.getElementById('showInRoomBtn');var pdPrintBtn=document.getElementById('pdPrint');var pdEmailBtn=document.getElementById('pdEmailItem');function track(trackingObj){trackingObj.event_category=trackingObj.event_category||'PDP';if(window.utag&&window.utag.link){window.utag.link(trackingObj);}}
function handleHeroThumbnailEvents(e){var trackingObj={};var imgPath=(e.currentTarget.classList.contains('thumbnailWrapper'))?e.currentTarget.querySelector('img').dataset.imgpath:e.currentTarget.dataset.imgpath;if(e.type==='mouseenter'){trackingObj.event_action='Hover-Thumbnail-Image';}else if(e.type==='click'){trackingObj.event_action='Click-Thumbnail-Image';}
if(productSKU&&imgPath&&trackingObj.event_action){trackingObj.event_label=productSKU+'-'+imgPath.replace(IMAGE_NAME_REGEX,'');track(trackingObj);}}
if(heroImageContainer){heroImageContainer.addEventListener('click',function(e){var img=e.currentTarget.querySelector('img');var imgPath=img?img.dataset.imgpath:'';if(productSKU&&imgPath){track({'event_action':'Click-Hero-Image','event_label':productSKU+'-'+imgPath.replace(IMAGE_NAME_REGEX,'')});}});}
if(heroThumbnails.length){heroThumbnails.forEach(function(thumbnailWrapper){thumbnailWrapper.addEventListener('click',handleHeroThumbnailEvents);thumbnailWrapper.addEventListener('mouseenter',handleHeroThumbnailEvents);});}
if(showInRoomBtn){showInRoomBtn.addEventListener('click',function(){if(productSKU){track({'event_action':'Click-View-in-Your-Room','event_label':productSKU});}});}
if(pdPrintBtn){pdPrintBtn.addEventListener('click',function(){if(productSKU){track({'event_action':'Click-Print','event_label':productSKU});}});}
if(pdEmailBtn){pdEmailBtn.addEventListener('click',function(){if(productSKU){track({'event_action':'Click-Email-Page','event_label':productSKU});}});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['is_mobile']=='1')){var productSKU=window.utag_data.product_sku[0];var IMAGE_NAME_REGEX=/^(cropped|views|scenes)\//gi;var heroThumbnails=Array.from(document.querySelectorAll('#pdImageCarousel .js-pd-carousel-image'))
.filter(function(th){var img=th.querySelector('img');var videoid=th.dataset.videoid;if(img&&!videoid){return th;}});var showInRoomBtn=document.getElementById('showInRoomBtn');var viewOnLampBtn=document.getElementById('viewOnLampBtn');function track(trackingObj){trackingObj.event_category=trackingObj.event_category||'PDP';if(window.utag&&window.utag.link){window.utag.link(trackingObj);}}
function handleHeroThumbnailEvents(e){var imgPath=(e.currentTarget.classList.contains('js-pd-carousel-image'))?e.currentTarget.querySelector('img').dataset.imgpath:e.currentTarget.dataset.imgpath;if(productSKU&&imgPath){track({event_action:'Click-Thumbnail-Image',event_label:productSKU+'-'+imgPath.replace(IMAGE_NAME_REGEX,'')});}}
if(heroThumbnails.length){heroThumbnails.forEach(function(thumbnail){thumbnail.addEventListener('click',handleHeroThumbnailEvents);});}
if(showInRoomBtn){showInRoomBtn.addEventListener('click',function(){if(productSKU){track({event_action:'Click-View-in-Your-Room',event_label:productSKU});}});}
if(viewOnLampBtn){viewOnLampBtn.addEventListener('click',function(){if(productSKU){track({event_action:'Click-View-On-Your-Lamp',event_label:productSKU});}});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['is_mobile']=='0')){var sendAnalyticsData=function(e){var eventData=e.detail;var analyticsData={'event_category':eventData['event_category'],'event_label':eventData['event_label'],'event_action':eventData['event_action']};if(eventData['event_value']){analyticsData['event_value']=eventData['event_value'];}
window.utag&&window.utag.link(analyticsData);};document.addEventListener('product:fullscreen:image',sendAnalyticsData);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='sort'.toLowerCase()){var pseudoSkus=document.querySelectorAll('.jsResultContainer.pseudoSku');var EVENT_CATEGORY=window.location.search.indexOf('s=1')>-1?'Search-Results':'Sort';if(pseudoSkus.length){pseudoSkus.forEach(function(psSku){psSku.addEventListener('click',function(e){var sku=e.currentTarget.dataset.sku;if(sku){window.utag.link({event_category:EVENT_CATEGORY,event_action:'Click-PseudoSku',event_label:sku});}});});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase().indexOf('product'.toLowerCase())>-1){var sku;if(window.utag_data&&window.utag_data.product_sku){sku=window.utag_data.product_sku.join(', ');}
var selector='#pdNotAvailable';var gaData={event_category:'PDP',event_action:'Product Unavailable - Not Available on PDP',event_label:sku||'Error: Not Found'};if(document.querySelector(selector)){window.utag.link(gaData);}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){var DEFAULT_EVENT_ACTION='Phone-Tap';var fireTracking=function(_a){var _b=_a.event_action,event_action=_b===void 0?DEFAULT_EVENT_ACTION:_b,event_category=_a.event_category,event_label=_a.event_label;if(window.utag&&window.utag.link){window.utag.link({event_action:event_action,event_category:event_category,event_label:event_label,});}};var addTrackingListener=function(element,trackingInfo){element.addEventListener('click',function(){fireTracking(trackingInfo);});};var runGeneric=function(selector,eventCategory){var el=document.querySelector(selector);if(el){var phoneNum=el.textContent.trim();var trackingInfo={event_category:eventCategory,event_label:phoneNum,};addTrackingListener(el,trackingInfo);}};var runContactUs=function(){return runGeneric('.contactPanes .phoneBtn','Contact Us');};var runMoreToExplore=function(){return runGeneric('.contentWrap a.blueLink','More to Explore');};var runHelpPage=function(){return runGeneric('.phoneNumber span.phoneNumberText','Help');};var runCart=function(){runGeneric('#cartEmpty a.blueLink.number','Cart');runGeneric('.forAssistance a.blueLink.number','Cart');};var runPdpPage=function(){var availabilityEl=document.querySelector('#divProductDetail .contentWrap a');var qaEl=document.querySelector('#pdQandA .orCall a');if(availabilityEl){var availabilityPhoneNum=availabilityEl.textContent.trim();var availTrackingInfo={event_action:'Phone-Tap-for-availability',event_category:'PDP',event_label:availabilityPhoneNum,};addTrackingListener(availabilityEl,availTrackingInfo);}
if(qaEl){var qaPhoneNum=qaEl.textContent.trim();var qaTrackingInfo={event_action:'Phone-Tap-q&a',event_category:'PDP',event_label:qaPhoneNum,};addTrackingListener(qaEl,qaTrackingInfo);}};var isMobile=function(){return window.utag_data.is_mobile==='1';};var isCartPage=function(){var url=window.location.href;return new RegExp('(http|https)://www.lampsplus.(com|ca)/cart/$').test(url);};var isHelpPage=function(){var url=window.location.href;return new RegExp('(http|https)://www.lampsplus.(com|ca)/help-and-policies/$').test(url);};var isPdpPage=function(){return window.utag_data.page_type==='product';};var isContactUsPage=function(){return window.utag_data.page_type==='contactus';};var isMoreToExplore=function(){var url=window.location.href;var isGeneralProductsPage=new RegExp('.*www.lampsplus.(com|ca)/products/$').test(url);var isMissingSkuProductPage=new RegExp('.*www.lampsplus.(com|ca)/products.*').test(url);var mteElement=document.querySelector('.contentWrap .pageTitle');return(isGeneralProductsPage||isMissingSkuProductPage)&&mteElement.textContent.trim().toLowerCase()==='more to explore';};if(isMobile()){if(isPdpPage()){runPdpPage();}
if(isCartPage()){runCart();}
if(isHelpPage()){runHelpPage();}
if(isContactUsPage()){runContactUs();}
if(isMoreToExplore()){runMoreToExplore();}}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='confirmation'.toLowerCase()){function triggerDyEvent(dataObj){if(window.DY&&window.DY.API){window.DY.API('event',dataObj)}}
if(window.utag_data){var cartItemSkus=window.utag_data.product_sku;var cartItemPrices=window.utag_data.product_price;var cartItemQuantities=window.utag_data.product_quantity;var eventObjCartItems=[];for(var i=0;i<cartItemSkus.length;i++){eventObjCartItems.push({productId:cartItemSkus[i],quantity:Number(cartItemQuantities[i]),itemPrice:Number(cartItemPrices[i])})}
var eventObj={name:'Purchase',properties:{uniqueTransactionId:window.utag_data.order_id,value:window.utag_data.order_item_total,currency:window.utag_data.order_currency_code,dyType:'purchase-v1',cart:eventObjCartItems}}
triggerDyEvent(eventObj);}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()||utag.data['page_type'].toString().toLowerCase()=='product_quick_view'.toLowerCase()){(function(){var dyAddToCart;if(!window.utag_data||!window.DY||!window.DY.API){return;}
dyAddToCart=(function(){var PAGE_TYPE=window.utag_data.page_type.trim().toLowerCase();function insideIframe(){try{return window.self!==window.top;}catch(e){return true;}}
function fireDYEvent(props){var targetWindow=insideIframe()?window.parent:window;targetWindow.DY.API('event',{name:'Add to Cart',properties:props});}
function fireAddToCartDY(sku,price,qty){fireDYEvent({productId:sku,value:price,currency:window.utag_data.order_currency_code,quantity:qty,dyType:'add-to-cart-v1'});}
function initPDP(){var quantityElement=document.getElementById('QtyNormal');var addToCartButtons=['#pdAddToCart','#pdAddToCartSticky'];addToCartButtons.forEach(function(selector){var btn=document.querySelector(selector);if(!btn){return;}
btn.addEventListener('click',function(){var sku=window.utag_data.product_sku[0];var price=window.utag_data.product_price[0];var qty=quantityElement?Number(quantityElement.value):1;fireAddToCartDY(sku,price,qty);});});}
function initPLA(){var quantityElement=document.getElementById('QtyNormal');var addToCartButton=document.getElementById('pdAddToCart');if(!addToCartButton){return;}
addToCartButton.addEventListener('click',function(){var sku=window.utag_data.product_sku[0];var qty=quantityElement?Number(quantityElement.value):1;var price=window.utag_data.product_price[0];fireAddToCartDY(sku,price,qty);});}
function init(){if(PAGE_TYPE==='product'){return initPDP();}else if(PAGE_TYPE==='product_quick_view'){return initPLA();}}
return Object.freeze({init:init});}());dyAddToCart.init();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['dom.url'].toString().toLowerCase().indexOf('account/email/'.toLowerCase())>-1){function observerCallback(mutationsList,observer){if(window.DY&&window.DY.API){window.DY.API('event',{name:'Newsletter Subscription',properties:{dyType:'newsletter-subscription-v1',hashedEmail:window.utag_data.customer_he,}})
observer.disconnect();}}
var isCorrectPage=document.getElementById('subscribeNowThankYou');if(isCorrectPage&&window.utag_data){var config={attributes:true,childList:true,subtree:true}
var dyApiObserver=new MutationObserver(observerCallback);dyApiObserver.observe(document,config);}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){function fireApiCall(sku){if(sku&&window.DY&&window.DY.API){window.DY.API('event',{name:'Add to Wishlist',properties:{dyType:'add-to-wishlist-v1',productId:sku,}});}}
function addClickHandlerForApiCall(element,sku){if(element&&sku){element.addEventListener('click',function(){fireApiCall(sku);});}}
function runSortPageHandlers(){var heartIcons=document.querySelectorAll('.heart.lpIcon-favorite');if(heartIcons.length){heartIcons.forEach(function(icon){var sku=icon.dataset.sku;addClickHandlerForApiCall(icon,sku);});}}
function runProductPageHandlers(sku){var pdpHeartIcon=document.getElementById('pdAddToPortfolioNormal');var multiProductPdpHeartIcon=document.getElementById('pdAddToPortfolioMultiProduct');if(!sku){sku=document.getElementById('pdProdSku');sku=sku?sku.getAttribute('content'):null;}
if(!sku){return;}
if(pdpHeartIcon){addClickHandlerForApiCall(pdpHeartIcon,sku);}
if(multiProductPdpHeartIcon){addClickHandlerForApiCall(multiProductPdpHeartIcon,sku);}}
function runSfpPageHandlers(){var sku=document.querySelector('.qlTitleSku');sku=sku?sku.textContent:null;runProductPageHandlers(sku);runSortPageHandlers();}
if(window.utag&&window.utag_data){switch(utag_data.page_type){case'sort':runSortPageHandlers();break;case'product':runProductPageHandlers();break;case'product_quick_view':runSfpPageHandlers();break;default:break;}}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){function setCookie(cookieName,cookieValue,expiresDays,domain,path,isSecure,isSessionCookie){var cookieDomain=window.lp.globals.cookieDomain;var expires='';var now=new Date();isSecure=isSecure||true;path=path||'/';if(expiresDays){now.setTime(now.getTime()+expiresDays*86400000);expires='; expires='+now.toUTCString();}
if(isSessionCookie){expires='';}
document.cookie=encodeURIComponent(cookieName)+'='+encodeURIComponent(cookieValue)+';'+
expires+'; domain='+(domain||cookieDomain)+'; path='+path+(isSecure?'; secure':'');return getCookie(cookieName);}
function deleteCookie(cookieName,domain){var cookieDomain=domain||window.lp.globals.cookieDomain;setCookie(cookieName,'','Thu, 01 Jan 1970 00:00:01 GMT',cookieDomain);}
function getCookie(cookieName){var result=new RegExp('(?:^|; )'+encodeURIComponent(cookieName)+'=([^;]*)').exec(document.cookie);return result?result[1]:null;}
function fireApiCall(apiEventObject){if(apiEventObject&&window.DY&&window.DY.API){window.DY.API('event',apiEventObject);}}
function runMain(){var DY_COOKIE_NAME='sha256em';var dyEmailCookie=getCookie(DY_COOKIE_NAME);var dyEventObject={name:'',properties:{dyType:'',hashedEmail:''}};if(dyEmailCookie){if(window.location.href.match(/AccountCreated/)){dyEventObject.name='Signup';dyEventObject.properties.dyType='signup-v1';dyEventObject.properties.hashedEmail=dyEmailCookie;}else{dyEventObject.name='Login';dyEventObject.properties.dyType='login-v1';dyEventObject.properties.hashedEmail=dyEmailCookie;}
fireApiCall(dyEventObject);deleteCookie(DY_COOKIE_NAME);}}
runMain();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var installCheckboxElement=document.querySelector('input.add-installation__checkbox');var agreeButtonElement=document.querySelector('.add-installation__agreeBtn');var howItWorksLinkElement=document.querySelector('.add-installation__howItWorks');var installationClickObjects=[{element:installCheckboxElement,action:'Installation-Select'},{element:agreeButtonElement,action:'Installation-Agreement'},{element:howItWorksLinkElement,action:'Installation-How-it-works'},];var checkboxLoadAction='Installation-Load';var skuElement=document.getElementById('pdProdSku');var sku=skuElement?skuElement.getAttribute('content'):null;function fireTracking(action){if(!action||!sku){return;}
if(window.utag&&window.utag.link){window.utag.link({"event_category":"PDP","event_action":action,"event_label":sku,});}}
function installationMain(){if(installCheckboxElement){fireTracking(checkboxLoadAction);}
installationClickObjects.map(function(obj){if(obj.element){obj.element.addEventListener('click',function(){fireTracking(obj.action)})}})}
installationMain();})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='sort'.toLowerCase()){var IS_MOBILE=window.utag_data.is_mobile==='1';var PATH=window.location.pathname;var CATEGORY='Sort-Filter-Menu';function track(action){if(action&&window.utag&&window.utag.link){window.utag.link({event_category:CATEGORY,event_label:PATH,event_action:action});}}
function trackMobileFilter(){var filterToggle=document.querySelector('.toggleSortMenu');if(filterToggle){filterToggle.addEventListener('click',function(){track('Open-Filters');});}}
function trackDesktopMoreFilters(){var moreFiltersBtn=document.getElementById('divMoreFilters');if(moreFiltersBtn){moreFiltersBtn.addEventListener('click',function(){track('Open-More-Filters');});}}
IS_MOBILE?trackMobileFilter():trackDesktopMoreFilters();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['is_employee']=='0'&&utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase())){(function(DY,utag,utagData){var STORAGE_KEY='dy_lp_pdp_visit';try{if(!DY||!DY.API||!utag||!utagData){return;}
DY.API('event',{name:'PDP Visit',properties:{value:1,category:utagData.product_category,style:utagData.product_style,},});if(!window.localStorage.getItem(STORAGE_KEY)){DY.API('event',{name:'PDP Visit-Session',properties:{value:1,category:utagData.product_category,style:utagData.product_style,},});window.localStorage.setItem(STORAGE_KEY,'1');}}catch(e){console.error('TEAL-956 error',e.message);}}(window.DY,window.utag,window.utag_data));}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='checkout'.toLowerCase()&&utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_employee']!='1'&&utag.data['is_kiosk']!='1')){(function(){var canExecuteDYBilling=window.DY&&window.DY.API&&window.utag&&window.utag_data;if(canExecuteDYBilling){window.DY.API('event',{name:'Billing Visit',properties:{value:1,},});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='cart'.toLowerCase()){(function(){function fireTrackingEvent(){if(window.utag&&window.utag.link){window.utag.link({'event_category':'Cart','event_action':'Load-Add Bulbs',});}}
function desktop(){var addBulbsButton=document.getElementById('cartAddRecommendedBulbs');var buttonWrapper;var buttonObserver;if(addBulbsButton){fireTrackingEvent();}else{buttonWrapper=document.querySelector('#cartInterface .helpContainer');buttonObserver=new MutationObserver(function(mutations,observer){mutations.forEach(function(mutation){var button=mutation.target.querySelector('#cartAddRecommendedBulbs');if(button){fireTrackingEvent();observer.disconnect();}});});if(buttonWrapper){buttonObserver.observe(buttonWrapper,{childList:true,attributes:false,subtree:false,});}}}
function mobile(){var buttonWrapper=document.getElementById('cartAddRecommendedBulbsContainer');var showButton=buttonWrapper?!buttonWrapper.classList.contains('hidden'):false;if(showButton){fireTrackingEvent();}}
(window.utag_data.is_mobile==='1'?mobile():desktop());}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile']=='0'&&utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase())){(function(){var EVENT_CATEGORY='PDP';var PRODUCT_SKU=window.utag_data.product_sku.length?window.utag_data.product_sku[0]:'';var pdAskStoreAssociateLink=document.getElementById('pdAskStoreAssociate');var zipCodeSubmitBtn=document.querySelector('#askStoreAssociateContainer .zipCodeSearchBtn');function sendAnalytics(tracking){if(!tracking||typeof tracking!=='object'){return;}
if(window.utag&&window.utag.link){window.utag.link(tracking);}}
function handleAskAssociateLinkClick(){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'Click-Ask-Associate','event_label':PRODUCT_SKU,});}
function handleSearchSubmit(){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'Click-Ask-Change-Zip','event_label':PRODUCT_SKU,});}
if(!PRODUCT_SKU){return;}
if(pdAskStoreAssociateLink){pdAskStoreAssociateLink.addEventListener('click',handleAskAssociateLinkClick);}
if(zipCodeSubmitBtn){zipCodeSubmitBtn.addEventListener('click',handleSearchSubmit);}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='home'.toLowerCase()&&utag.data['website_mode'].toString().toLowerCase()=='professional'.toLowerCase()&&utag.data['is_mobile']=='1')||(utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['website_mode'].toString().toLowerCase()=='professional'.toLowerCase()&&utag.data['is_mobile']=='1')){(function(){function sendAnalytics(tracking){if(!tracking||typeof tracking!=='object'){return;}
if(tracking&&window.utag&&window.utag.link){window.utag.link(tracking);}}
function getEventLabel(pageType){switch(pageType){case'home':return'Homepage';case'product':return'PDP';default:return'';}}
function getParentSelector(pageType){switch(pageType){case'home':return'.proMessaging';case'product':return'.callProMessage';default:return'';}}
function handleContactClick(event,category,label){var hrefType=event.currentTarget.href.split(':')[0];var tracking={'event_category':category,'event_label':label,};switch(hrefType){case'sms':tracking['event_action']='SMS-Pro-Rep';break;case'tel':tracking['event_action']='Call-Pro-Rep';break;case'mailto':tracking['event_action']='Email-Pro-Rep';break;default:break;}
if(tracking['event_action']&&tracking['event_label']){sendAnalytics(tracking);}}
function initTracking(){var PAGE_TYPE=window.utag_data.page_type.toLowerCase();var EVENT_CATEGORY='Pros';var selectorString=getParentSelector(PAGE_TYPE);var proMessagingBlock=selectorString?document.querySelector(selectorString):null;var proBoldChatButton=proMessagingBlock?proMessagingBlock.querySelector('.boldChatButtonContainer'):null;var proContactLinks=proMessagingBlock?proMessagingBlock.querySelectorAll('a'):null;if(proMessagingBlock){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'Load-Pros-Contact','event_label':getEventLabel(PAGE_TYPE),});if(proBoldChatButton){proBoldChatButton.addEventListener('click',function(){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'Request-Chat','event_label':getEventLabel(PAGE_TYPE),});});}
if(proContactLinks.length){proContactLinks.forEach(function(link){link.addEventListener('click',function(e){handleContactClick(e,EVENT_CATEGORY,getEventLabel(PAGE_TYPE));});});}}}
initTracking();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var TRACKING_ERROR_MESSAGE='error - '+window.location.pathname;var trackingDefaults=Object.freeze({'event_category':'Sort','event_action':'Click-Hybrid-Thumbnail',});var trackableElements=document.querySelectorAll('[data-ga-content-click="true"]');function sendAnalytics(trackingObj){if(window.utag&&window.utag.link){window.utag.link(trackingObj);}}
function setTrackingParameter(param,value){if(value===null||typeof value==='undefined'){return trackingDefaults[param];}else if(value===''){return TRACKING_ERROR_MESSAGE;}else{return value;}}
function handleClick(e){var category=e.currentTarget.getAttribute('data-ga-content-category');var action=e.currentTarget.getAttribute('data-ga-content-action');var label=e.currentTarget.getAttribute('data-ga-content-label');var tracking={};tracking['event_category']=setTrackingParameter('event_category',category);tracking['event_action']=setTrackingParameter('event_action',action);tracking['event_label']=label?(label+' - '+window.location.pathname):TRACKING_ERROR_MESSAGE;sendAnalytics(tracking);}
if(trackableElements.length){trackableElements.forEach(function(element){element.addEventListener('click',handleClick);});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='wishlist'.toLowerCase()&&utag.data['is_mobile']=='1')){(function(){var EVENT_CATEGORY='Wish List';var openOptions=document.getElementById('wlOptionsOpen');var wishlistBody=document.getElementById('wishlistBody');function sendAnalytics(trackingObj,isIframe){if(window.utag&&window.utag.link){if(trackingObj&&typeof trackingObj==='object'){window.utag.link(trackingObj);}}}
function trackOptionSelect(label){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'Click-List Option','event_label':label,});}
function handleOptionSelect(e){var option=e.currentTarget;var optionText=option.textContent.trim().toLowerCase();switch(optionText){case'open':trackOptionSelect('Open');break;case'new':trackOptionSelect('New');break;case'rename':trackOptionSelect('Rename');break;case'email':trackOptionSelect('Email');break;case'delete':trackOptionSelect('Delete');break;case'help':trackOptionSelect('Help');break;default:break;}}
function trackItemRemove(){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'Remove-From-List',});}
function handleMenuOpen(){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'Open-Options',});}
function handleMenuClose(){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'Close-Options',});}
function trackOptionsMenu(){var menuObserver=new MutationObserver(function(mutations,observer){var wishlistMenu=document.getElementById('wishlistMobileMenu');var closeMenu;var wishlistOptions;if(document.body.contains(wishlistMenu)){closeMenu=wishlistMenu.querySelector('.lpmmCloseMenu');wishlistOptions=wishlistMenu.querySelectorAll('.wishlistOptionsList a');if(closeMenu){closeMenu.addEventListener('click',handleMenuClose);closeMenu.addEventListener('click',handleMenuClose);}
if(wishlistOptions.length){wishlistOptions.forEach(function(option){option.removeEventListener('click',handleOptionSelect);option.addEventListener('click',handleOptionSelect);});}}});menuObserver.observe(document.body,{childList:true,subtree:false,attributes:false,});}
try{if(openOptions){openOptions.addEventListener('click',handleMenuOpen);}
trackOptionsMenu();if(wishlistBody){wishlistBody.addEventListener('click',function(e){if(e.target.classList.contains('removeWlItem')){trackItemRemove();}
if(e.target.classList.contains('wlAddToCartButton')){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'click-Add to Cart',});}
if(e.target.classList.contains('wlAddAllToCartButton')){sendAnalytics({'event_category':EVENT_CATEGORY,'event_action':'click-Add All to Cart',});}});}}catch(err){console.error('Extension code error - ',err.message);}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(utag,utagData){var IS_MOBILE=utagData.is_mobile==='1';var imgSearchBtn=document.querySelector('.photoSearchSubmit');function sendAnalytics(trackingObj){if(utag.link){utag.link(trackingObj);}}
function trackImgSearchBtnClick(category){if(!category){return;}
sendAnalytics({'event_category':category,'event_action':'Click-Image Search','event_label':window.location.href,});}
if(imgSearchBtn){imgSearchBtn.addEventListener('click',function(){trackImgSearchBtnClick('Image Search');trackImgSearchBtnClick('Nav-Top');});}}(window.utag,window.utag_data));}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(utagData,utag){var IS_MOBILE=utagData.is_mobile==='1';var desktopImageSearchBtn=document.querySelector('.photoSearchSubmit');function observeDesktopModal(){var modalObserver=new MutationObserver(function(mutations,observer){var modal=document.querySelector('.lpModal--photoSearch');if(modal){slyceTracking(modal,{cleanupOnClose:true,isMobile:false,}).init();observer.disconnect();}});modalObserver.observe(document.body,{childList:true,subtree:false,});}
function slyceTracking(targetElement,settings){var tryAgainBtn;var photoSubmitInputs;var errorMessage;var closeBtn;var errorMessageObserver;var modalBackdrop;var isModalCloseTracked=false;function handleClose(){if(!isModalCloseTracked){sendAnalytics({'event_action':'Click-Close',});}
if(settings.cleanupOnClose){unsubscribeFromEvents();}}
function handleCloseBackdrop(){sendAnalytics({'event_action':'Click-Close','event_label':'AwayClick',});isModalCloseTracked=true;}
function onElementAttributeChange(element,attribute,callback){var observer;if(!element){return;}
observer=new MutationObserver(function(){callback(element.getAttribute(attribute));});observer.observe(element,{attributes:true,childList:false,subtree:false,});return observer;}
function sendAnalytics(tracking){var defaults;if(!utag||!utag.link){console.error('Slyce tracking error - window.utag object is not available.');return;}
defaults={'event_category':'Image Search',};if(!tracking['event_category']){tracking['event_category']=defaults['event_category'];}
utag.link(tracking);}
function handleError(errorCode){if(errorCode){if(/timed out/i.test(errorCode)){sendAnalytics({'event_action':'Error-Connection',});}else if(/workflow error/i.test(errorCode)){sendAnalytics({'event_action':'Error-Web Socket',});}else if(/invalid image/i.test(errorCode)){sendAnalytics({'event_action':'Error-File not supported',});}else{sendAnalytics({'event_action':'Error-Image Not Found',});}}}
function handlePhotoInputClick(e){var label=e.currentTarget.parentNode;var action=label.textContent.trim().toLowerCase();switch(action){case'take a photo':return sendAnalytics({'event_action':'Click-Take Photo',});case'use existing photo':return sendAnalytics({'event_action':'Click-Use Existing Photo',});case'try again':return sendAnalytics({'event_action':'Click-Try again',});case'start':return sendAnalytics({'event_action':'Click-Start',});default:return;}}
function unsubscribeFromEvents(){if(tryAgainBtn){tryAgainBtn.removeEventListener('click',handlePhotoInputClick);}
photoSubmitInputs.forEach(function(input){input.removeEventListener('click',handlePhotoInputClick);});if(closeBtn){closeBtn.removeEventListener('click',handleClose);}
if(modalBackdrop){modalBackdrop.removeEventListener('click',handleCloseBackdrop);}
if(errorMessageObserver&&errorMessageObserver.disconnect){errorMessageObserver.disconnect();}}
function subscribeToEvents(){if(tryAgainBtn){tryAgainBtn.addEventListener('click',handlePhotoInputClick);}
photoSubmitInputs.forEach(function(input){input.addEventListener('click',handlePhotoInputClick);});if(errorMessage){errorMessageObserver=onElementAttributeChange(errorMessage,'data-error-code',handleError);}
if(closeBtn){closeBtn.addEventListener('click',handleClose);}
if(modalBackdrop){modalBackdrop.addEventListener('click',handleCloseBackdrop);}}
function init(){if(!targetElement){return;}
tryAgainBtn=targetElement.querySelector('.photoSearchContainer .errorScreen .inputFilePhoto--tryAgain');photoSubmitInputs=targetElement.querySelectorAll('.photoSearchContainer .takePhotoScreen .inputFilePhoto');errorMessage=targetElement.querySelector('.photoSearchContainer .errorScreen .errorMessage');closeBtn=settings.isMobile?targetElement.querySelector('.lpmmCloseMenu'):targetElement.querySelector('#lpModalClose');modalBackdrop=settings.isMobile?null:document.getElementById('lpModalBackdrop');subscribeToEvents();}
return Object.freeze({init:init,});}
if(IS_MOBILE){slyceTracking(document.getElementById('photoSearchModal'),{isMobile:true,}).init();}else if(desktopImageSearchBtn){desktopImageSearchBtn.addEventListener('click',observeDesktopModal);}}(window.utag_data,window.utag));}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['is_mobile']=='1'){(function(){var collapsibles=document.querySelectorAll('#globalMenu .lpCollapsible');var regularHeaderLinks=document.querySelectorAll('#globalMenu .weighted a');var findStoreLink=document.querySelector('#globalMenu .globalMenuNavStore');var wishlistLink=document.querySelector('#globalMenu .portfolioCountWrapper');var signIn=document.querySelector('#globalMenu .globalMenuSignInButton');var signOut=document.getElementById('hdrSignOut');var roomInspirationLink=[].slice.call(regularHeaderLinks).find(function(header){return header.textContent.trim()==='Room Inspiration';});var shopByTrendLink=[].slice.call(regularHeaderLinks).find(function(header){return header.textContent.trim()==='Shop By Trend';});var ideasAndAdviceLink=[].slice.call(regularHeaderLinks).find(function(header){return header.textContent.trim()==='Ideas & Advice';});function setTracking(trackingObj){var trackingDefaults={event_category:'Nav-Top'};return Object.assign({},trackingDefaults,trackingObj);}
function sendAnalytics(tracking){if(window.utag&&window.utag.link){window.utag.link(setTracking(tracking));}}
function handleSaleSubmenuClick(e){var linkText=e.currentTarget.textContent.trim().toLowerCase();switch(linkText){case'sale':return sendAnalytics({event_action:'click-Sale',event_label:'Sale'});case'daily sales':return sendAnalytics({event_action:'click-Sale',event_label:'Daily Sales'});case'clearance':return sendAnalytics({event_action:'click-Sale',event_label:'Clearance'});case'open box':if(linkURL.match('m.lampsplusopenbox')){return sendAnalytics({event_action:'click-Open-Box'});}
return sendAnalytics({event_action:'click-Sale',event_label:'Open Box'});case'instant coupon':return sendAnalytics({event_action:'click-Sale',event_label:'Instant Coupon'});default:return;}}
function handleShopbyStyleSubmenuClick(e){sendAnalytics({event_action:'Click-Shop-by',event_label:'Style-'+e.currentTarget.textContent.trim()});}
function handleCategorySubmenuClick(link,category){sendAnalytics({event_action:'click-Category-Navigation',event_label:category+'-'+link.textContent.trim()});}
collapsibles.forEach(function(collapsible){var submenuLinks=collapsible.querySelectorAll('.lpCollapsible__submenu a');var header=collapsible.querySelector('.lpCollapsible__header');var headerText=header?header.textContent.trim():'';var isSale=headerText.match(/on sale/i);var isShopByStyle=headerText.match(/shop by style/i);if(!headerText){return;}
if(isSale){submenuLinks.forEach(function(link){link.addEventListener('click',handleSaleSubmenuClick);});}else if(isShopByStyle){submenuLinks.forEach(function(link){link.addEventListener('click',handleShopbyStyleSubmenuClick);});}else{submenuLinks.forEach(function(link){link.addEventListener('click',function(){handleCategorySubmenuClick(link,headerText);});});}});if(roomInspirationLink){roomInspirationLink.addEventListener('click',function(){sendAnalytics({event_action:'click-Shop-by',event_label:'Room'});});}
if(shopByTrendLink){shopByTrendLink.addEventListener('click',function(){sendAnalytics({event_action:'click-Shop-by',event_label:'Trend'});});}
if(ideasAndAdviceLink){ideasAndAdviceLink.addEventListener('click',function(){sendAnalytics({event_action:'click-Shop-by',event_label:'Advice'});});}
if(findStoreLink){findStoreLink.addEventListener('click',function(){sendAnalytics({event_action:'click-Stores',event_label:'View All'});});}
if(wishlistLink){wishlistLink.addEventListener('click',function(){sendAnalytics({event_action:'click-WishList'});});}
if(signIn){signIn.addEventListener('click',function(){sendAnalytics({event_action:'click-Sign In',event_label:'Sign In'});});}
if(signOut){signOut.addEventListener('click',function(){sendAnalytics({event_action:'click-Sign Out',event_label:'Sign Out'});});}})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile'].toString().toLowerCase().indexOf('1'.toLowerCase())>-1&&utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase())||(utag.data['is_mobile'].toString().toLowerCase().indexOf('1'.toLowerCase())>-1&&utag.data['page_type'].toString().toLowerCase()=='all'.toLowerCase())){(function(){function fireDyEvent(product_price,product_name){window.utag.link({'event_type':'qv_wishlist_add','product_price':product_price||window.utag_data.product_price,'product_name':product_name||window.utag_data.product_name,'order_currency_code':window.utag_data.order_currency_code||'USD',});}
function runProdInfo(){var multiProductSaveBtn=document.getElementById('pdAddToPortfolioMultiProduct');var standardSaveButtons=document.querySelectorAll('#divProductDetail .addToWishList');if(multiProductSaveBtn){multiProductSaveBtn.addEventListener('click',function(){fireDyEvent();});return;}
if(!standardSaveButtons.length){return;}
standardSaveButtons.forEach(function(btn){btn.addEventListener('click',function(){fireDyEvent();});});}
function runSelectMultiple(){var addSelectedBtn=document.querySelector('.addSelectedToWishlist');function collectDataAndFireEvent(){var productPrice;var productName;var productContainers=document.querySelectorAll('.sortResultContainer');var firstSelectedProduct=[].slice.call(productContainers).find(function(container){var selectBtn=container.querySelector('.selectProduct');return selectBtn&&selectBtn.textContent.trim().toLowerCase()==='selected';});if(!firstSelectedProduct){return;}
productPrice=firstSelectedProduct.querySelector('.productPrice');productName=firstSelectedProduct.querySelector('.productTitle');if(!(productPrice&&productName)){return;}
productPrice=productPrice.textContent.trim().slice(1);productName=productName.textContent;fireDyEvent(productPrice,productName);}
if(!addSelectedBtn){return;}
if(addSelectedBtn){addSelectedBtn.addEventListener('click',collectDataAndFireEvent);}}
if(!(window.utag&&window.utag.link&&window.utag_data)){console.error('Tealium Error - extension #578: a required utag global was not found!');return;}
runProdInfo();runSelectMultiple();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['dom.url'].toString().toLowerCase().indexOf('gift-cards'.toLowerCase())>-1){(function(utag){var viewBalanceBtn;if(!utag||!utag.link){console.error('TEAL-457 error - missing required dependencies: utag or utag.link');return;}
viewBalanceBtn=document.querySelector('.btnViewBalance');if(viewBalanceBtn){viewBalanceBtn.addEventListener('click',function(){utag.link({'event_category':'PDP','event_action':'GC-View-Balance',});});}}(window.utag));}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='cart'.toLowerCase()){(function(utag,utagData){var isMobile=utagData['is_mobile']==='1';var productItems=document.getElementById('productItems');var giftCardEditLinks=productItems?productItems.querySelectorAll('.jsEditGiftCard'):[];var editLinkObserver;if(!productItems){return;}
function handleGiftCardUpdate(){utag.link({'event_action':'GC-Update','event_label':'Modal','event_category':'Cart',});}
function handleEditClickFromCart(){utag.link({'event_action':'GC-Edit','event_label':'Cart','event_category':'Cart',});if(!isMobile){observeDesktopModal();}}
function observeMobileOverlay(){var editGiftCardOverlay=document.querySelector('.jsEditGiftCardOverlayContent');var editGiftCardOverlayObserver;if(!editGiftCardOverlay){return;}
editGiftCardOverlayObserver=new MutationObserver(function(mutations,observer){var saveButton=editGiftCardOverlay.querySelector('.saveGiftCard');if(saveButton){saveButton.removeEventListener('click',handleGiftCardUpdate);saveButton.addEventListener('click',handleGiftCardUpdate);}});editGiftCardOverlayObserver.observe(editGiftCardOverlay,{childList:true,subtree:true,});}
function observeDesktopModal(){var modalObserver=new MutationObserver(function(mutations,observer){var editModal=document.getElementById('editGiftCardModal');var saveButton;if(editModal){saveButton=editModal.querySelector('.saveGiftCard');if(saveButton){saveButton.removeEventListener('click',handleGiftCardUpdate);saveButton.addEventListener('click',handleGiftCardUpdate);observer.disconnect();}}});modalObserver.observe(document.body,{childList:true,subtree:false,});}
editLinkObserver=new MutationObserver(function(mutations){var links=productItems.querySelectorAll('.jsEditGiftCard');if(links.length){links.forEach(function(link){link.removeEventListener('click',handleEditClickFromCart);link.addEventListener('click',handleEditClickFromCart);});}});giftCardEditLinks.forEach(function(link){link.addEventListener('click',handleEditClickFromCart);});editLinkObserver.observe(productItems,{childList:true,subtree:true,});if(isMobile){observeMobileOverlay();}}(window.utag,window.utag_data));}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='checkout'.toLowerCase()){(function(utag){var isDesktop=window.utag_data.is_mobile==='0';var paymentOptionsElement;var multipleShippingDetailsContainer;if(!utag||!utag.link){console.error('TEAL-484 error - window.utag is undefined');return;}
paymentOptionsElement=document.getElementById('paymentTypeOptions');multipleShippingDetailsContainer=document.querySelector('.jsMultipleShippingDetailsContainer');if(!paymentOptionsElement){return;}
function mergeTracking(params){return Object.assign({},{'event_category':'Checkout','event_label':'Billing',},params);}
function sendAnalytics(trackingObj){var tracking=mergeTracking(trackingObj);if(tracking['event_action']){window.utag.link(tracking);}}
function runObserver(subscribeFn){var observer=new MutationObserver(subscribeFn);return function(elementToObserve,settings){observer.observe(elementToObserve,settings);};}
function observeSuccess(){var giftCardList=document.querySelector('.giftCardList');var numberOfCardsInList=giftCardList.childElementCount;runObserver(function(){if(giftCardList.childElementCount>numberOfCardsInList){sendAnalytics({'event_action':'GC-Apply-Success',});}
numberOfCardsInList=giftCardList.childElementCount;})(giftCardList,{childList:true,});}
function observeError(){var giftCardError=document.querySelector('.giftCardInput .error');runObserver(function(){if(giftCardError.textContent.trim()!==''){sendAnalytics({'event_action':'GC-Apply-Fail',});}})(giftCardError,{characterData:true,childList:true,});}
function trackClicks(e){var target=e.target;if(target.classList.contains('jsHaveGiftCard')){sendAnalytics({'event_action':'GC-Click-Have-A-GC',});}else if(target.classList.contains('jsRemoveGiftCard')){sendAnalytics({'event_action':'GC-Remove',});}}
function trackOrderDetailsExpand(header){header.dataset.trackingOpen=!header.dataset.trackingOpen?'true':header.dataset.trackingOpen==='true'?'false':'true';if(header.dataset.trackingOpen==='true'){sendAnalytics({'event_action':'Open-Order-Details',});}}
paymentOptionsElement.addEventListener('click',trackClicks);if(isDesktop&&multipleShippingDetailsContainer){multipleShippingDetailsContainer.addEventListener('click',function(e){if(e.target.classList.contains('jsShippingDetailsHeader')){trackOrderDetailsExpand(e.target);}});}
runObserver(function(mutations,observer){var giftCardError=paymentOptionsElement.querySelector('.giftCardInput .error');var giftCardList=paymentOptionsElement.querySelector('.giftCardList');if(giftCardError&&giftCardList){observeError();observeSuccess();observer.disconnect();}})(paymentOptionsElement,{childList:true,subtree:true,});}(window.utag));}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='cart'.toLowerCase()){(function(){var IS_MOBILE=window.utag_data.is_mobile==='1';function sendAnalytics(trackingParameters){var defaults={'event_category':'Cart',};var tracking=Object.assign({},defaults,trackingParameters);if(!tracking.event_action){return console.error('Tracking error - event action is required.');}
window.utag.link(tracking);}
function onEmailCartClick(){sendAnalytics({'event_action':'click-Email-Cart',});}
function trackEmailClicks(isMobile){var cartInterface=document.getElementById('cartInterface');if(cartInterface&&isMobile){cartInterface.querySelectorAll('a[href*="cart/emailcart"]').forEach(function(link){link.addEventListener('click',onEmailCartClick);});}else if(cartInterface&&!isMobile){cartInterface.addEventListener('click',function(e){var isCartEmailLink=e.target.classList.contains('jsEmail');if(isCartEmailLink){onEmailCartClick();}});}}
trackEmailClicks(IS_MOBILE);}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['dom.url'].toString().toLowerCase().indexOf('/cart/emailcart'.toLowerCase())>-1){(function(){var emailForm=document.querySelector('form[action*="emailcart"]');function sendAnalytics(trackingParameters){var defaults={'event_category':'Cart',};var tracking=Object.assign({},defaults,trackingParameters);if(!tracking.event_action){return console.error('Tracking error - event action is required.');}
window.utag.link(tracking);}
if(emailForm){emailForm.addEventListener('submit',function(){var errorInputs=emailForm.querySelectorAll('input.error');if(!errorInputs.length){sendAnalytics({'event_action':'submit-Email-Cart','event_label':'Success',});}else{sendAnalytics({'event_action':'submit-Email-Cart','event_label':'Error - '+[].slice.call(errorInputs).map(function(input){return input.id;}).join(', '),});}});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='sort'.toLowerCase()){(function(){var priceFilterTracking=(function(){var minField=document.getElementById('txtMinPrice');var maxField=document.getElementById('txtMaxPrice');var filterForm=document.querySelector('.priceFilterForm');function onSubmit(){var min=parseFloat(minField.value.trim())||'';var max=parseFloat(maxField.value.trim())||'';var eventLabel='';if(min&&max){eventLabel=(min>max||max<min)?'$'+max+' - $'+min:'$'+min+' - $'+max;}else if(min){eventLabel='$'+min+' and up';}else if(max){eventLabel='Under $'+max;}else{eventLabel='$'+min+' - $'+max;}
window.utag.link({'event_category':'Sort-Filter-Menu','event_action':'click-Price-Custom','event_label':eventLabel,});}
return function(){if(!minField||!maxField||!filterForm){return;}
filterForm.addEventListener('submit',onSubmit);};}());priceFilterTracking();}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((/.*lampsplus.com\/stores\/.+\/.+/.test(utag.data['dom.url'])&&utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']=='0'&&utag.data['is_employee']=='0')){(function(){if(!window.DY){return;}
window.DY.API('event',{name:'Store Page',properties:{value:1,},});}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']!='1'&&utag.data['is_employee']!='1'&&utag.data['dom.url'].toString().toLowerCase().indexOf('lampsplus.com/partners'.toLowerCase())>-1)||(utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']!='1'&&utag.data['is_employee']!='1'&&utag.data['dom.url'].toString().toLowerCase().indexOf('lampsplus.com/account/sign-in/?message=AccountCreated'.toLowerCase())>-1)){(function(){var CLIENT_ID='d5dd780ee0';var isPartnersPage=/\/partners\//ig.test(window.location.pathname);var isAccountCreatedPage=/\/account\/sign-in\//ig.test(window.location.pathname)&&window.location.search.indexOf('message=AccountCreated')>-1;(function(){if(window.voyage)return;window.voyage={q:[]};var fns=['init','track'];for(var i=0;i<fns.length;i++){(function(fn){window.voyage[fn]=function(){this.q.push([fn,arguments]);};})(fns[i]);}})();window.voyage.init(CLIENT_ID,{popup:true});function initPartnersTracking(){var targetElements;targetElements=[].slice.call(document.querySelectorAll('.featureContainer .calloutBtn')).filter(function(el){return/sign up|join now|email us/i.test(el.textContent.trim());});targetElements.forEach(function(el){el.addEventListener('click',function(e){window.voyage.track('Purchase',{amountCents:1});});});}
if(isPartnersPage){initPartnersTracking();}else if(isAccountCreatedPage){window.voyage.track('Purchase',{amountCents:1});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']=='0'&&utag.data['is_employee']=='0'&&utag.data['page_type'].toString().toLowerCase()=='home'.toLowerCase())||(utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']=='0'&&utag.data['is_employee']=='0'&&utag.data['page_type'].toString().toLowerCase()=='sort'.toLowerCase())||(utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']=='0'&&utag.data['is_employee']=='0'&&utag.data['page_type'].toString().toLowerCase()=='landing'.toLowerCase()&&typeof utag.data['product_category']!='undefined'&&typeof utag.data['product_category']!='undefined'&&utag.data['product_category']!='')||(utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']=='0'&&utag.data['is_employee']=='0'&&utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase())){(function(){var pixelImg=document.createElement('img');function addSyncPixels(){var cacheBust;var syncImg;var i;for(i=1;i<=3;i+=1){cacheBust=Math.floor(Date.now()-i);syncImg=document.createElement('img');syncImg.alt='';syncImg.style.display='none';syncImg.width=1;syncImg.height=1;syncImg.src='https://s-vop.sundaysky.com/t/v1/img?a=lampsplus&cb='+cacheBust+'&s='+i;document.body.appendChild(syncImg);}}
function getPixelQuery(){var utagData=window.utag_data;var pixelQuery=['a=lampsplus','ap=1','pb=f','sp='+encodeURIComponent(window.location.href),'cb='+Date.now(),'m=uui','udt[segment]=[visitor]'];if(utagData.page_type){pixelQuery.push('udt[ptype]='+utagData.page_type);}
if(utagData.customer_rewards_number){pixelQuery.push('udt[userid]='+utagData.customer_rewards_number);}
if(utagData.search_keyword){pixelQuery.push('udt[kw]='+utagData.search_keyword);}
if(utagData.product_sku&&utagData.product_sku.length>0){pixelQuery.push('udt[sku]='+'['+utagData.product_sku.join(',')+']');}
if(utagData.product_category&&utagData.product_category.length>0){pixelQuery.push('udt[cat]='+'['+utagData.product_category.join(',')+']');}
return pixelQuery.join('&');}
addSyncPixels();pixelImg.style.display='none';pixelImg.alt='';pixelImg.width=1;pixelImg.height=1;pixelImg.src='https://s-vop.sundaysky.com/t/v1/img?'+getPixelQuery();document.body.appendChild(pixelImg);}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']=='0'&&utag.data['is_employee']=='0'&&utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase())||(utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']=='0'&&utag.data['is_employee']=='0'&&utag.data['page_type'].toString().toLowerCase()=='product_quick_view'.toLowerCase())){(function(){var pageType=window.utag_data.page_type;var addToCartProduct;var addToCartPLA;if(pageType.toLowerCase()==='product'){addToCartProduct=['#pdAddToCart','#pdAddToCartSticky'];addToCartProduct.forEach(function(selector){var atcButton=document.querySelector(selector);if(atcButton){atcButton.addEventListener('click',firePixel);}});}else if(pageType.toLowerCase()==='product_quick_view'){addToCartPLA=document.getElementById('pdAddToCart');if(addToCartPLA){addToCartPLA.addEventListener('click',firePixel);}}
function insideIframe(){try{return window.self!==window.top;}catch(e){return true;}}
function firePixel(){var doc=insideIframe()?window.parent.document:document;var pixelImg=doc.createElement('img');pixelImg.style.display='none';pixelImg.alt='';pixelImg.width=1;pixelImg.height=1;pixelImg.src='https://s-vop.sundaysky.com/t/v1/img?'+getPixelQuery();addSyncPixels();doc.body.appendChild(pixelImg);}
function addSyncPixels(){var doc=insideIframe()?window.parent.document:document;var cacheBust;var syncImg;var i;for(i=1;i<=3;i+=1){cacheBust=Math.floor(Date.now()-i);syncImg=document.createElement('img');syncImg.alt='';syncImg.style.display='none';syncImg.width=1;syncImg.height=1;syncImg.src='https://s-vop.sundaysky.com/t/v1/img?a=lampsplus&cb='+cacheBust+'&s='+i;doc.body.appendChild(syncImg);}}
function getPixelQuery(){var url=insideIframe()?window.parent.location.href:window.location.href;var utagData=window.utag_data;var pixelQuery=['a=lampsplus','ap=1','pb=f','sp='+encodeURIComponent(url),'cb='+Date.now(),'m=atc','udt[segment]=[visitor,atc]'];if(utagData.page_type){pixelQuery.push('udt[ptype]='+utagData.page_type);}
if(utagData.customer_rewards_number){pixelQuery.push('udt[userid]='+utagData.customer_rewards_number);}
if(utagData.search_keyword){pixelQuery.push('udt[kw]='+utagData.search_keyword);}
if(utagData.product_sku&&utagData.product_sku.length>0){pixelQuery.push('udt[sku]='+'['+utagData.product_sku.join(',')+']');}
if(utagData.product_category&&utagData.product_category.length>0){pixelQuery.push('udt[cat]='+'['+utagData.product_category.join(',')+']');}
return pixelQuery.join('&');}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']=='0'&&utag.data['is_employee']=='0'&&utag.data['page_type'].toString().toLowerCase()=='cart'.toLowerCase())){(function(){var pixelImg=document.createElement('img');function addSyncPixels(){var cacheBust;var syncImg;var i;for(i=1;i<=3;i+=1){cacheBust=Math.floor(Date.now()-i);syncImg=document.createElement('img');syncImg.alt='';syncImg.style.display='none';syncImg.width=1;syncImg.height=1;syncImg.src='https://s-vop.sundaysky.com/t/v1/img?a=lampsplus&cb='+cacheBust+'&s='+i;document.body.appendChild(syncImg);}}
function getPixelQuery(){var utagData=window.utag_data;var pixelQuery=['a=lampsplus','ap=1','pb=f','sp='+encodeURIComponent(window.location.href),'cb='+Date.now(),'m=cart','udt[segment]=[visitor, cart]'];if(utagData.page_type){pixelQuery.push('udt[ptype]='+utagData.page_type);}
if(utagData.customer_rewards_number){pixelQuery.push('udt[userid]='+utagData.customer_rewards_number);}
if(utagData.search_keyword){pixelQuery.push('udt[kw]='+utagData.search_keyword);}
if(utagData.product_sku&&utagData.product_sku.length>0){pixelQuery.push('udt[sku]='+'['+utagData.product_sku.join(',')+']');}
if(utagData.product_category&&utagData.product_category.length>0){pixelQuery.push('udt[cat]='+'['+utagData.product_category.join(',')+']');}
return pixelQuery.join('&');}
addSyncPixels();pixelImg.style.display='none';pixelImg.alt='';pixelImg.width=1;pixelImg.height=1;pixelImg.src='https://s-vop.sundaysky.com/t/v1/img?'+getPixelQuery();document.body.appendChild(pixelImg);}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['website_mode'].toString().toLowerCase()!='hospitality'.toLowerCase()&&utag.data['is_kiosk']=='0'&&utag.data['is_employee']=='0'&&utag.data['page_type'].toString().toLowerCase()=='confirmation'.toLowerCase())){(function(){var pixelImg=document.createElement('img');function addSyncPixels(){var cacheBust;var syncImg;var i;for(i=1;i<=3;i+=1){cacheBust=Math.floor(Date.now()-i);syncImg=document.createElement('img');syncImg.alt='';syncImg.style.display='none';syncImg.width=1;syncImg.height=1;syncImg.src='https://s-vop.sundaysky.com/t/v1/img?a=lampsplus&cb='+cacheBust+'&s='+i;document.body.appendChild(syncImg);}}
function getPixelQuery(){var utagData=window.utag_data;var pixelQuery=['a=lampsplus','ap=1','pb=f','sp='+encodeURIComponent(window.location.href),'cb='+Date.now(),'m=conv','udt[segment]=[visitor,buyer]'];if(utagData.order_id){pixelQuery.push('el='+utagData.order_id);}
if(utagData.order_item_total){pixelQuery.push('ev='+utagData.order_item_total);}
if(utagData.page_type){pixelQuery.push('udt[ptype]='+utagData.page_type);}
if(utagData.customer_rewards_number){pixelQuery.push('udt[userid]='+utagData.customer_rewards_number);}
if(utagData.search_keyword){pixelQuery.push('udt[kw]='+utagData.search_keyword);}
if(utagData.product_sku&&utagData.product_sku.length>0){pixelQuery.push('udt[sku]='+'['+utagData.product_sku.join(',')+']');}
if(utagData.product_category&&utagData.product_category.length>0){pixelQuery.push('udt[cat]='+'['+utagData.product_category.join(',')+']');}
return pixelQuery.join('&');}
addSyncPixels();pixelImg.style.display='none';pixelImg.alt='';pixelImg.width=1;pixelImg.height=1;pixelImg.src='https://s-vop.sundaysky.com/t/v1/img?'+getPixelQuery();document.body.appendChild(pixelImg);}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['is_mobile']=='0')){(function(utag,utagData){function sendAnalytics(trackingParams){var trackingDefaults={event_category:'PDP'};var tracking=Object.assign({},trackingDefaults,trackingParams);if(!tracking.event_action){throw new Error('Event Action is missing in tracking parameters');}
utag.link(tracking);}
function onWidgetLoad(widgetSelector,callbackFn,isColorCustomizer){var widget=widgetSelector?document.querySelector(widgetSelector):null;var pdpColorCustomizer;if(!callbackFn||typeof callbackFn!=='function'){return;}
if(!widget&&!isColorCustomizer){return;}else if(!widget&&isColorCustomizer){pdpColorCustomizer=document.querySelector('.pdpColorCustomizer');if(!pdpColorCustomizer){return;}
return new MutationObserver(function(mutations,observer){mutations.forEach(function(mutation){var ccWidget;if(mutation.type==='childList'){ccWidget=pdpColorCustomizer.querySelector(widgetSelector);if(ccWidget){callbackFn(ccWidget);observer.disconnect();}}});}).observe(pdpColorCustomizer,{childList:true});}
if(callbackFn&&typeof callbackFn==='function'){callbackFn(widget);}}
function trackColorCustomizerWidget(widget,eventAction,listItemSelector){sendAnalytics({event_action:'Load-'+eventAction});widget.querySelectorAll(listItemSelector).forEach(function(item){item.addEventListener('click',function(e){var colorID=e.currentTarget.dataset.color;if(colorID){sendAnalytics({event_action:'Select-'+eventAction,event_label:colorID});}});});return new MutationObserver(function(mutations){mutations.forEach(function(mutation){if(mutation.type==='attributes'&&mutation.attributeName==='class'){if(mutation.target.classList.contains('up')&&mutation.oldValue.indexOf('down')>-1){sendAnalytics({event_action:'Open-'+eventAction});}}});}).observe(widget.querySelector('.top .caret'),{attributes:true,attributeFilter:['class'],attributeOldValue:true,subtree:false,childList:false});}
function trackShadeAndBaseColorWidget(widget,eventAction,listItemSelector){sendAnalytics({event_action:'Load-'+eventAction});widget.querySelectorAll(listItemSelector).forEach(function(item){item.addEventListener('click',function(e){var href=e.currentTarget.href;if(href){sendAnalytics({event_action:'Select-'+eventAction,event_label:href});}});});}
onWidgetLoad('#pdScrollableOtherOptions',function(widget){sendAnalytics({event_action:'Load-'+utagData.product_category[0]+'-More Options'});widget.querySelectorAll('.scrollable .items a').forEach(function(item){item.addEventListener('click',function(e){var sku=e.currentTarget.querySelector('img').dataset.sku;if(sku){sendAnalytics({event_action:'Select-'+utagData.product_category[0]+'-More Options',event_label:sku});}});});return new MutationObserver(function(mutations){mutations.forEach(function(mutation){if(mutation.type==='attributes'&&mutation.attributeName==='class'){if(!mutation.target.classList.contains('collapsed')){sendAnalytics({event_action:'Open-'+utagData.product_category[0]+'-More Options'});}}});}).observe(widget,{attributes:true,attributeFilter:['class'],subtree:false,childList:false});});onWidgetLoad('#pdScrollableShadeOptions',function(widget){trackShadeAndBaseColorWidget(widget,'ColorPlus-Shade-Options','.pdOtherOptionsThumb');});onWidgetLoad('#pdScrollableBaseOptions',function(widget){trackShadeAndBaseColorWidget(widget,'ColorPlus-Base-Color-Options','.pdOtherOptionsThumb');});onWidgetLoad('#workStationBaseAccordion',function(widget){sendAnalytics({event_action:'Load-Popular-Accessories'});widget
.querySelectorAll('.scrollable .pdWorkStationBasesThumb')
.forEach(function(item){item.addEventListener('click',function(e){var sku=e.currentTarget.dataset.id;if(sku){sendAnalytics({event_action:'Select-Popular-Accessories',event_label:sku});}});});return new MutationObserver(function(mutations){mutations.forEach(function(mutation){if(mutation.type==='attributes'&&mutation.attributeName==='class'){if(!mutation.target.classList.contains('collapsed')){sendAnalytics({event_action:'Open-Popular-Accessories'});}}});}).observe(widget,{attributes:true,attributeFilter:['class'],subtree:false,childList:false});});onWidgetLoad('#popularColors',function(widget){trackColorCustomizerWidget(widget,'Giclee-Popular-Colors','.pdGicleeShadeOptionsThumb');},true);onWidgetLoad('#customizeColors',function(widget){trackColorCustomizerWidget(widget,'Giclee-Customize-Colors','.color');},true);onWidgetLoad('#moreOptions',function(widget){trackColorCustomizerWidget(widget,'Giclee-Other-Patterns','.pdGicleeShadeOptionsThumb');},true);})(window.utag,window.utag_data);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='shipping'.toLowerCase()){(function(){var isMobile=window.utag_data.is_mobile==='1';var editOrderLink=document.querySelector('.editOrder');if(editOrderLink){editOrderLink.addEventListener('click',handleEditOrderClick);}
document.addEventListener('click',function(e){if(e.target.id==='showCountryField'){handleIntlShippingClick();}else if(e.target.id==='proceedPayment'){handlePaymentBottomClick();}else if(!isMobile&&e.target.id==='proceedPayment2'){handlePaymentSummaryClick();}});function handlePaymentBottomClick(){sendAnalytics({'event_action':'click-Shipping-Proceed-To-Payment','event_label':'Bottom'});}
function handlePaymentSummaryClick(){sendAnalytics({'event_action':'click-Shipping-Proceed-To-Payment','event_label':'Order Summary'});}
function handleIntlShippingClick(){sendAnalytics({'event_action':'click-Shipping-Address-Outside-US'});}
function handleEditOrderClick(){sendAnalytics({'event_action':'click-Shipping-Edit-Cart'});}
function sendAnalytics(trackingObj){var trackingDefaults={'event_category':'Checkout'};var tracking=Object.assign({},trackingDefaults,trackingObj);if(!tracking['event_action']){return;}
window.utag.link(tracking);}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='cart'.toLowerCase()||utag.data['page_type'].toString().toLowerCase()=='checkout'.toLowerCase()){(function(){var sendAnalyticsData=function(e){var eventData=e.detail;var analyticsData={'event_category':eventData['event_category'],'event_label':eventData['event_label'],'event_action':eventData['event_action']};if(eventData['event_value']){analyticsData['event_value']=eventData['event_value'];}
window.utag&&window.utag.link(analyticsData);};document.addEventListener('tracking:cart',sendAnalyticsData);}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='product_quick_view'.toLowerCase()){(function(){var windowGlobal=insideIframe()?window.parent:window;var isMobile=windowGlobal.utag_data.is_mobile==='1';var viewDetailLink=isMobile?document.querySelector('#moreDetails'):document.querySelector('#qlViewDetails');var productTitle=document.querySelector('.qlTitleWrapper h1 > a');var productImageDesktop=document.querySelector('#staticImage');var productImageMobile=document.querySelector('.plaImage');var relatedLinks=document.querySelectorAll('.categoryNavList a');function sendAnalytics(trackObj){var defaults={event_category:'PLA',event_label:window.utag_data.product_sku[0]};var tracking=Object.assign({},defaults,trackObj);if(!tracking.event_action){return;}
windowGlobal.utag.link(tracking);}
function insideIframe(){try{return window.self!==window.top;}catch(e){return true;}}
if(viewDetailLink){viewDetailLink.addEventListener('click',function(){sendAnalytics({event_action:'Click-View Details'});});}
if(!isMobile&&productTitle){productTitle.addEventListener('click',function(){sendAnalytics({event_action:'Click-Product Title'});});}
if(!isMobile&&productImageDesktop){productImageDesktop.addEventListener('click',function(){sendAnalytics({event_action:'Click-Product Image'});});}
if(isMobile&&productImageMobile){productImageMobile.addEventListener('click',function(e){if(e.target===e.currentTarget){return;}
if(e.target.tagName==='IMG'){sendAnalytics({event_action:'Click-Product Image'});}});}
if(!isMobile){relatedLinks.forEach(function(link){link.addEventListener('click',function(e){var linkName=e.currentTarget.textContent.trim();sendAnalytics({event_action:'	Click-Related-'+linkName});});});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['is_mobile']=='1')){(function(utag,utagData){var accordionItems;function sendAnalytics(trackingParams){var trackingDefaults={event_category:'PDP'};var tracking=Object.assign({},trackingDefaults,trackingParams);if(!tracking.event_action){throw new Error('Event Action is missing in tracking parameters');}
utag.link(tracking);}
function onWidgetLoad(widgetSelector,callbackFn){var widget=widgetSelector?document.querySelector(widgetSelector):null;callbackFn(widget);}
function trackShadeAndBaseColorWidget(widget,eventAction){if(!widget){return;}
sendAnalytics({event_action:'Load-'+eventAction});trackWidgetItemClicks(widget,function(e){var href=e.currentTarget.href;if(href){sendAnalytics({event_action:'Select-'+eventAction,event_label:href});}});}
function trackAccordionOpen(target,onOpenCallback){if(!target||!onOpenCallback){return;}
return new MutationObserver(function(mutations){var mutation=mutations[0];if(mutation.type==='attributes'&&mutation.attributeName==='class'){if(!mutation.target.classList.contains('collapsed')){onOpenCallback();}}}).observe(target,{childList:false,subtree:false,attributes:true,attributeFilter:['class']});}
function trackWidgetItemClicks(widget,onClickFunc){if(!widget){return;}
widget.querySelectorAll('a').forEach(function(item){item.addEventListener('click',onClickFunc);});}
function getTextFromAccHeader(element){var elementChildrenRaw=element.childNodes;var textNodes=[].slice.call(elementChildrenRaw).filter(function(node){return node.nodeType===3;});return textNodes.map(function(node){return node.textContent.trim();}).join(' ');}
onWidgetLoad('#pdAccordion [data-widget-id="other-options"]',function(widget){if(!widget){return;}
sendAnalytics({event_action:'Load-'+utagData.product_category[0]+'-Other Options'});trackAccordionOpen(widget,function(){sendAnalytics({event_action:'Open-'+utagData.product_category[0]+'-Other Options'});});trackWidgetItemClicks(widget,function(e){var sku=e.currentTarget.querySelector('img').dataset.sku;if(sku){sendAnalytics({event_action:'Select-'+utagData.product_category[0]+'-Other Options',event_label:sku});}});});onWidgetLoad('[data-capture-section="SliderShadeOptions"]',function(widget){trackShadeAndBaseColorWidget(widget,'ColorPlus-Shade-Options');});onWidgetLoad('[data-capture-section="SliderBaseOptions"]',function(widget){trackShadeAndBaseColorWidget(widget,'ColorPlus-Base-Color-Options');});onWidgetLoad('#pdAccordion [data-widget-id="workStation-Bases"]',function(widget){if(!widget){return;}
sendAnalytics({event_action:'Load-Popular-Accessories'});trackAccordionOpen(widget,function(){sendAnalytics({event_action:'Open-Popular-Accessories'});});widget.querySelectorAll('.pdWorkStationBaseContainer').forEach(function(container){new MutationObserver(function(mutations){var mutation=mutations[0];var type=mutation.type;var target=mutation.target;var sku;if(type==='attributes'&&target.classList.contains('active')){sku=target.dataset.sku;if(sku){sendAnalytics({event_action:'Select-Popular-Accessories',event_label:sku});}}}).observe(container,{subtree:false,childList:false,attributes:true,attributeFilter:['class']});});});accordionItems=[]
.slice.call(document.getElementById('pdAccordion').children)
.filter(function(element){return!element.dataset.widgetId;});accordionItems
.forEach(function(accElement){trackAccordionOpen(accElement,function(){var accHeader=accElement.querySelector('.lpmcHeader');var accName=accHeader?getTextFromAccHeader(accHeader):null;if(!accName){return;}
sendAnalytics({event_action:'OpenCollapsible-'+accName,event_label:window.utag_data.product_sku});});});})(window.utag,window.utag_data);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['is_mobile']=='1'&&utag.data['dom.url'].toString().toLowerCase().indexOf('products/onsale_view-on-sale-items/'.toLowerCase())>-1)||(utag.data['is_mobile']=='1'&&utag.data['dom.url'].toString().toLowerCase().indexOf('products/ds_daily-savings/'.toLowerCase())>-1)||(utag.data['is_mobile']=='1'&&utag.data['dom.url'].toString().toLowerCase().indexOf('products/clearance_view-clearance-items/'.toLowerCase())>-1)){(function(){document.querySelectorAll('.ribbon-menu-container a').forEach(function(link){link.addEventListener('click',function(e){window.utag.link({event_category:'Sort',event_action:'Click-SaleMenuOption',event_label:e.currentTarget.textContent.trim()});});});}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='sort'.toLowerCase()){(function(){document.querySelectorAll('.sortMoreLikeThisBtn').forEach(function(btn){btn.addEventListener('click',function(e){var parent=e.currentTarget.closest('.sortResultContainer');var sku=parent?parent.dataset.sku:null;if(!sku){return;}
window.utag.link({event_category:'Sort',event_action:'Click-More-Like-This',event_label:sku});},{once:true});});}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()){(function(){var PRODUCT_SKU=window.utag_data.product_sku;var buyNewLink=document.querySelector('.buyItNew');var openBoxLink=document.querySelector('#openBoxPdpLink');function sendAnalytics(trackObj){var tracking=Object.assign({},{event_category:'Open Box'},trackObj);if(!tracking.event_action){return;}
window.utag.link(tracking);}
if(buyNewLink){sendAnalytics({event_action:'Load-Buy It New',event_label:PRODUCT_SKU});buyNewLink.addEventListener('click',function(){sendAnalytics({event_action:'Click-Buy It New',event_label:PRODUCT_SKU});});}
if(openBoxLink){sendAnalytics({event_action:'Load-Open Box Available',event_label:PRODUCT_SKU,event_category:'PDP'});openBoxLink.addEventListener('click',function(){sendAnalytics({event_action:'Click-Open Box Available',event_label:PRODUCT_SKU,event_category:'PDP'});});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['is_mobile']=='1'){(function(){var bodyElement=document.body;function fireDYEvent(){if(!window.DY||!window.DY.API){return;}
window.DY.API('event',{name:'Open Mobile Menu',properties:{value:1}});}
new MutationObserver(function(mutations,observer){var isMenuOpen=bodyElement.classList.contains('lpmmMenuOpen');if(isMenuOpen){fireDYEvent();observer.disconnect();}}).observe(bodyElement,{attributes:true,attributeFilter:['class'],childList:false,subtree:false});}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['page_type'].toString().toLowerCase()=='product'.toLowerCase()&&utag.data['is_mobile']=='0')){(function(){var pdpEmailItem=document.getElementById('pdEmailItem');function fireDYEvent(){if(!window.DY||!window.DY.API){return;}
window.DY.API('event',{name:'PDP Email Click',properties:{value:1}});}
if(pdpEmailItem){pdpEmailItem.addEventListener('click',fireDYEvent,{once:true});}}());}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};}})
if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}
//tealium universal tag - utag.8 ut4.0.202007092212, Copyright 2020 Tealium.com Inc. All Rights Reserved.
window.criteo_q=window.criteo_q||[];try{(function(id,loader){var u={"id":id};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){b.hFlag=0;b.onreadystatechange=function(){if((this.readyState==='complete'||this.readyState==='loaded')&&!b.hFlag){b.hFlag=1;o.cb();}};b.onload=function(){if(!b.hFlag){b.hFlag=1;o.cb();}};}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.hasOwn=function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a);};u.isEmptyObject=function(o,a){for(a in o){if(u.hasOwn(o,a)){return false;}}return true;};u.isEmpty=function(o){var t=u.typeOf(o);if(t=="number"){return isNaN(o);}else if(t=="boolean"){return false;}else if(t=="string"){return o.length===0;}else return u.isEmptyObject(o);};u.arrayUnique=function(array){var a=array.concat();for(var i=0;i<a.length;++i){for(var j=i+1;j<a.length;++j){if(a[i]===a[j])a.splice(j--,1);}}return a;};u.ev={'view':1,'link':1};u.scriptRequested=false;u.prep=function(value,alwaysConvert){if(u.typeOf(value)==="string"&&(alwaysConvert||value.indexOf(",")>0)){value=value.replace(/^\s*|\s*$/g,"").split(/\s*,\s*/);}
return value;};u.map_func=function(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){u.map_func(arr,obj[i],item);}else{obj[i]=item;}};u.remove_empty=function(a){var b,t;for(b in utag.loader.GV(a)){t=u.typeOf(a[b]);if(t==="object"){u.remove_empty(a[b]);if(u.isEmptyObject(a[b])){try{delete a[b];}catch(e){a[b]=undefined;}}}else if(!((a[b]===0||a[b]===false)?!0:(t==="array"&&a[b].length===0)?!1:!!a[b])){try{delete a[b];}catch(e){a[b]=undefined;}}}
return a;};function _addProducts(arr){for(var d=0;d<u.data.product_id.length;d++){arr.push({id:u.data.product_id[d],price:u.data.product_unit_price[d],quantity:u.data.product_quantity[d]});}}
function _eventLogic(t_criteo_q){var g={},i,_event;var ssOrderId=window.sessionStorage.getItem('_ct_order_id');for(i=0;i<u.data.event_list.length;i++){_event=u.data.event_list[i];g=u.data[_event]=(u.data[_event]||{});g.event=_event;switch(_event){case"viewItem":g.product=g.product||u.data["product.id"]||u.data.product_id[0];break;case"viewList":g.product=g.product||u.data["product.id"]||u.data.product_id;g.keywords=g.keywords||u.data.keywords;break;case"viewBasket":if(u.typeOf(g.product)!=="array"){g.product=[];}
_addProducts(g.product);break;case"trackTransaction":if(ssOrderId){if(ssOrderId.trim()===window.utag_data.order_id.trim()){g.id='';}else{g.id=g.id||u.data.transaction_id;window.sessionStorage.setItem('_ct_order_id',g.id);}}else{g.id=g.id||u.data.transaction_id;window.sessionStorage.setItem('_ct_order_id',g.id);}
g.new_customer=g.new_customer||u.data.new_customer;g.deduplication=g.deduplication||u.data.deduplication;if(u.typeOf(g.product)!=="array"){g.product=[];}
if(g.product.length==0){_addProducts(g.product);}
break;default:break;}
if(_event){if(_event!=='trackTransaction'||(_event==='trackTransaction'&&g.id)){t_criteo_q.push(u.remove_empty(g));}}}
if(!u.isEmptyObject(u.data.travel)){g={event:"viewSearch"};for(i in utag.loader.GV(u.data.travel)){g[i]=u.data.travel[i];}
t_criteo_q.push(g);}}
u.map={"criteo_pageview":"event","customer_rewards_number":"setData.customer_id","search_keyword":"keywords","customer_he":"email","product_id":"product_id","product_aggregate_price":"product_unit_price","account_id":"account","event_name:cart_add":"addToCart"};u.extend=[function(a,b,c,d,e,f,g){if(1){d=b['page_type'];if(typeof d=='undefined')return;c=[{'home':'viewHome'},{'sort':'viewList'},{'product':'viewItem'},{'cart':'viewBasket'},{'search':'viewList'},{'wishlist':'viewBasket'},{'confirmation':'trackTransaction'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['criteo_pageview']=c[e][f];m=true};};if(m)break};if(!m)b['criteo_pageview']='';}},function(a,b){try{if(b['page_type'].toString().toLowerCase().indexOf('sort'.toLowerCase())>-1||b['page_type'].toString().toLowerCase().indexOf('search'.toLowerCase())>-1){try{b['_cprod']=utag_data.product_sku.slice(0,3);}catch(e){}}}catch(e){utag.DB(e);}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,h,evt=[];u.data={"base_url":"//static.criteo.net/js/ld/ld.js"||"//static.criteo.net/js/ld/ld.js","account":"1893","event":"viewHome","keywords":"","setData":{},"site_type":(function(){return/iPad/.test(navigator.userAgent)?"t":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent)?"m":"d";}()),"email":[],"login":[],"order_id":"","product_id":[],"product_quantity":[],"product_unit_price":[],"event_list":[]};var t_criteo_q=[];for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.map_func(e[f].split("."),u.data,b[d]);}}else{h=d.split(":");if(h.length===2&&b[h[0]]===h[1]){if(u.map[d]){evt=evt.concat(u.map[d].split(","));}}}}
u.data.order_id=u.data.order_id||b._corder||"";if(u.data.product_id.length===0&&b._cprod!==undefined){u.data.product_id=b._cprod.slice(0);}
if(u.data.product_quantity.length===0&&b._cquan!==undefined){u.data.product_quantity=b._cquan.slice(0);}
if(u.data.product_unit_price.length===0&&b._cprice!==undefined){u.data.product_unit_price=b._cprice.slice(0);}
u.data.transaction_id=u.data.transaction_id||u.data.order_id;u.data.product_id=u.data["product.id"]||u.data.product_id;u.data.product_unit_price=u.data["product.price"]||u.data.product_unit_price;u.data.product_quantity=u.data["product.quantity"]||u.data.product_quantity;if(!u.isEmpty(u.data.account)){t_criteo_q.push({"event":"setAccount","account":u.prep(u.data.account,false)});}else{utag.DB("error:8:Criteo Account ID Missing");return;}
if(!u.isEmpty(u.data.site_type)){t_criteo_q.push({"event":"setSiteType","type":u.data.site_type});}
u.data.email=u.data.email||u.data.hashed_email||"";if(!u.isEmpty(u.data.email)){t_criteo_q.push({"event":"setEmail","email":u.prep(u.data.email,true)});}
u.data.login=u.data.login||u.data.hashed_login||"";if(!u.isEmpty(u.data.login)){t_criteo_q.push({"event":"setLogin","login":u.prep(u.data.login,true)});}
for(d in utag.loader.GV(u.data.setData)){c={"event":"setData"};c[d]=u.data.setData[d];t_criteo_q.push(c);}
if(u.data.event&&u.data.event!=="None"&&u.typeOf(u.data.event)!=="array"){u.data.event_list=u.data.event.split(/\s*,\s*/);}
u.data.event_list=u.data.event_list.concat(evt);u.data.event_list=u.arrayUnique(u.data.event_list);_eventLogic(t_criteo_q);criteo_q.push(t_criteo_q);if(!u.scriptRequested){u.scriptRequested=true;u.loader({"type":"script","src":u.data.base_url,"loc":"script","id":'utag_8'});}
}};utag.o[loader].loader.LOAD(id);}('8','lampsplus.main'));}catch(error){utag.DB(error);}

//tealium universal tag - utag.16 ut4.0.202007092212, Copyright 2020 Tealium.com Inc. All Rights Reserved.
var br_data;try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
if(utag.ut.loader===undefined){u.loader=function(o){var b,c,l,a=document;if(o.type==="iframe"){b=a.createElement("iframe");o.attrs=o.attrs||{"height":"1","width":"1","style":"display:none"};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l]);}b.setAttribute("src",o.src);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";for(l in utag.loader.GV(o.attrs)){b[l]=o.attrs[l];}b.src=o.src;}if(o.id){b.id=o.id};if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.ev={"view":1,"link":1};u.initialized=false;u.scriptrequested=false;u.queue=[];u.map={"search_keyword":"search_term","product_sku":"prod_id","br_page_type":"ptype","breadcrumb":"cat","first_product_cat_id":"cat_id","br_action":"action","br_group":"group","customer_reward_number":"customer_id"};u.extend=[function(a,b,c,d,e,f,g){if(1){d=b['page_type'];if(typeof d=='undefined')return;c=[{'home':'homepage'},{'sort':'category'},{'product':'product'},{'landing':'category'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['br_page_type']=c[e][f];m=true};};if(m)break};if(!m)b['br_page_type']='other';}},function(a,b){try{if(typeof b['search_keyword']!='undefined'&&b['search_keyword']!=''){b['br_page_type']='search'}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['product_category_id']!='undefined'&&b['product_category_id']!=''){try{b['first_product_cat_id']=utag_data.product_category_id.slice(0,1)}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){if(a==='link'&&typeof utag.data.page_type!=='undefined'&&utag.data.page_type.toLowerCase()==="addtocart"){return false;}},function(a,b){if(b['event_name']&&b['event_name']=='cart_add')
{BrTrk.getTracker().logEvent('cart','click-add',{'sku':utag_data.product_sku[0],'prod_name':utag.data.product_name[0]});}},function(a,b){var sortBreadCrumb=document.querySelector('.sortBreadCrumb');var productBreadCrumb=document.querySelector('.breadCrumb');if(sortBreadCrumb){var breadCrumbItems=sortBreadCrumb.innerText;var breadCrumbArray=breadCrumbItems.split("|");for(i=0;i<breadCrumbArray.length;i++)
{breadCrumbArray[i]=breadCrumbArray[i].trim();}
b.breadcrumb=breadCrumbArray.join("|");}
if(productBreadCrumb){var breadCrumbItems=productBreadCrumb.innerText;var breadCrumbArray=breadCrumbItems.split("|");for(i=0;i<breadCrumbArray.length;i++)
{breadCrumbArray[i]=breadCrumbArray[i].trim();}
b.breadcrumb=breadCrumbArray.join("|");}
if(utag.data.page_type==="landing"){var breadCrumbItems=utag.data["dom.title"];if(breadCrumbItems.indexOf("-")>-1){breadCrumbItems=breadCrumbItems.replace(/-/,"|")}
var breadCrumbArray=breadCrumbItems.split("|")
for(i=0;i<breadCrumbArray.length;i++)
{breadCrumbArray[i]=breadCrumbArray[i].trim();}
b.breadcrumb=breadCrumbArray.join("|");}},function(a,b){try{if(b['dom.title']=='Product Quick Look'){b['br_group']='product';b['br_action']='quickview'}}catch(e){utag.DB(e);}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f;u.data={"base_url":"//cdn"+((location.protocol==="https:")?"s.brsrvr":".brcdn")+".com/v1/br-trk-##utag_account##.js","ptype":"other","acct_id":"5281","opt_params":{},"opt_value":{},"br_data":{},"deferred":false,"tms":"tlm","product_id":[],"product_name":[],"product_sku":[],"product_category":[],"product_quantity":[],"product_unit_price":[]};br_data={};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){if(e[f].indexOf("opt_params.")===0){u.data.opt_params[e[f].substr(11)]=b[d];}else if(e[f].indexOf("opt_value.")===0){u.data.opt_value[e[f].substr(10)]=b[d];}else if(e[f].indexOf("br_data.")===0){u.data.br_data[e[f].substr(8)]=b[d];br_data[e[f].substr(8)]=b[d];}
else{u.data[e[f]]=b[d];}}}}
if(u.data.deferred==="true"){u.data.deferred=true;}else if(u.data.deferred==="false"){u.data.deferred=false;}
u.data.order_id=u.data.order_id||b._corder||"";u.data.order_subtotal=u.data.basket_value||u.data.order_subtotal||b._csubtotal||"";u.data.customer_id=u.data.customer_id||b._ccustid||"";if(u.data.product_id.length===0&&b._cprod!==undefined){u.data.product_id=b._cprod.slice(0);}else if(u.data.prod_id){if(u.typeOf(u.data.prod_id)==="array"){u.data.product_id=u.data.prod_id.slice(0);}else{u.data.product_id=u.data.prod_id.split(",");}}
if(u.data.product_name.length===0&&b._cprodname!==undefined){u.data.product_name=b._cprodname.slice(0);}else if(u.data.prod_name){if(u.typeOf(u.data.prod_name)==="array"){u.data.product_name=u.data.prod_name.slice(0);}else{u.data.product_name=u.data.prod_name.split(".");}}
if(u.data.product_sku.length===0&&b._csku!==undefined){u.data.product_sku=b._csku.slice(0);}else if(u.data.sku){if(u.typeOf(u.data.sku)==="array"){u.data.product_sku=u.data.sku.slice(0);}else{u.data.product_sku=u.data.sku.split(".");}}
if(u.data.product_category.length===0&&b._ccat!==undefined){u.data.product_category=b._csku.slice(0);}else if(u.data.cat){if(u.typeOf(u.data.cat)==="array"){u.data.product_category=u.data.cat.slice(0);}else{u.data.product_category=u.data.cat.split(".");}}
if(u.data.product_quantity.length===0&&b._cquan!==undefined){u.data.product_quantity=b._cquan.slice(0);}else if(u.data.quantity){if(u.typeOf(u.data.quantity)==="array"){u.data.product_quantity=u.data.quantity.slice(0);}else{u.data.product_quantity=u.data.quantity.split(".");}}
if(u.data.product_unit_price.length===0&&b._cprice!==undefined){u.data.product_unit_price=b._cprice.slice(0);}else if(u.data.price){if(u.typeOf(u.data.price)==="array"){u.data.product_price=u.data.price.slice(0);}else{u.data.product_price=u.data.price.split(".");}}
u.data.acct_id=u.data.acct_id||u.data.account;if(a==="view"){br_data.acct_id=br_data.acct_id||u.data.acct_id;br_data.ptype=br_data.ptype||u.data.ptype;br_data.cat=br_data.cat||u.data.product_category;br_data.cat_id=br_data.cat_id||u.data.cat_id;br_data.prod_id=br_data.prod_id||u.data.product_id;br_data.prod_name=br_data.prod_name||u.data.product_name;br_data.sku=br_data.sku||u.data.product_sku;br_data.search_term=br_data.search_term||u.data.search_term;br_data.basket_value=br_data.basket_value||u.data.order_subtotal;br_data.order_id=br_data.order_id||u.data.order_id;br_data.user_id=br_data.user_id||u.data.customer_id;br_data.prod_ver=br_data.prod_ver||u.data.prod_ver;br_data.domain_key=br_data.domain_key||u.data.domain_key;br_data.tms=br_data.tms||u.data.tms;br_data.sid=br_data.sid||u.data.sid;br_data.q=br_data.q||u.data.q;br_data.aq=br_data.aq||u.data.aq;if(u.data.order_id){br_data.ptype="other";br_data.basket={items:[]};br_data.is_conversion="1";for(d=0;d<br_data.prod_id.length;d++){br_data.basket.items.push({"prod_id":u.data.product_id[d],"sku":u.data.product_sku[d],"name":u.data.product_name[d],"quantity":u.data.product_quantity[d],"price":u.data.product_unit_price[d],"mod":(u.data.mod?u.data.mod[d]:"")});}}else{br_data.is_conversion="0";}}
u.loader_cb=function(a,b,c){u.initialized=true;if(a=='link'){if(u.data.action=='cart_add'||u.data.action=='click-add'){u.data.group="cart";u.data.action="click-add";u.data.opt_params.prod_id=u.data.product_id[0];u.data.opt_params.sku=u.data.product_sku[0];}
else if(u.data.action=='quick_view'||u.data.action=='quickview'){u.data.group="product";u.data.action="quickview";u.data.opt_params.prod_id=u.data.product_id[0];u.data.opt_params.prod_name=u.data.product_name[0];u.data.opt_params.sku=u.data.product_sku[0];}
if(u.data.action&&u.data.group){BrTrk.getTracker().logEvent(u.data.group,u.data.action,u.data.opt_params,u.data.opt_value,u.data.deferred);}}};for(var key in br_data){if(br_data[key]===undefined||br_data[key]===""||br_data[key].length==0){delete br_data[key];}}
u.callBack=function(){var data={};while(data=u.queue.shift()){u.data=data.data;u.loader_cb(data.a,data.b,data.c);}};if(u.initialized){u.loader_cb(a,b,c);}else{u.queue.push({"data":u.data,"a":a,"b":b,"c":c});if(!u.scriptrequested){u.scriptrequested=true;u.data.base_url=u.data.base_url.replace('##utag_account##',u.data.acct_id);u.loader({"type":"script","src":u.data.base_url,"cb":u.callBack,"loc":"script","id":'utag_16'});}}
}};utag.o[loader].loader.LOAD(id);}("16","lampsplus.main"));}catch(error){utag.DB(error);}

//tealium universal tag - utag.28 ut4.0.202007092212, Copyright 2020 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={"id":id};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
if(utag.ut.loader===undefined){u.loader=function(o){var b,c,l,a=document;if(o.type==="iframe"){b=a.createElement("iframe");o.attrs=o.attrs||{"height":"1","width":"1","style":"display:none"};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l]);}b.setAttribute("src",o.src);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";for(l in utag.loader.GV(o.attrs)){b[l]=o.attrs[l];}b.src=o.src;}if(o.id){b.id=o.id};if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
if(utag.ut.merge===undefined){u.merge=function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d];}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined"){a[d]=b[d];}}}};}else{u.merge=utag.ut.merge;}
u.ev={"view":1,"link":1};u.initialized=false;u.scriptrequested=false;u.queue=[];u.event_lookup={"ViewContent":{obj:"vc","map":["value","currency","content_name","content_ids","content_category"]},"Search":{obj:"search","map":["value","currency","content_category","content_ids"]},"AddToCart":{obj:"cart","map":["value","currency","content_name","content_ids"]},"AddToWishlist":{obj:"wish","map":["value","currency","content_name","content_ids"]},"InitiateCheckout":{obj:"cout","map":["value","currency","content_name","content_ids","num_items"]},"AddPaymentInfo":{obj:"payment","map":["value","currency","content_category","content_ids"]},"Purchase":{obj:"purch","map":["value","currency","content_name","content_ids","num_items"]},"Lead":{obj:"lead","map":["value","currency","content_name","content_category"]},"CompleteRegistration":{obj:"reg","map":["value","currency","content_name"]},"Conversion":{obj:"cnv","map":["value","currency"]},"Custom":{obj:"cust","map":[]},"PageView":{obj:"page","map":[]}};u.std_params={"value":function(g,event){if(g.value===undefined||g.value===""){if(event==="ViewContent"||event==="AddToCart"){g.value=u.data.ecom.product_unit_price;}else{g.value=u.data.ecom.order_subtotal;}}
g.value=u.val(g.value);},"currency":function(g){if(!g.currency){g.currency=u.data.ecom.order_currency;}},"content_name":function(g){if(!g.content_name){g.content_name=u.data.ecom.product_name;}
g.content_name=u.val(g.content_name);},"content_ids":function(g){if(!g.content_ids){g.content_ids=u.data.ecom.product_id;}
if(u.typeOf(g.content_ids)!=="array"){g.content_ids=g.content_ids.split(/\s*,\s*/);}},"content_category":function(g){if(!g.content_category){g.content_category=u.data.ecom.product_category;}
g.content_category=u.val(g.content_category);},"num_items":function(g){if(!g.num_items&&u.data.calc_items==="true"){g.num_items=u.calc_items(u.data.ecom.product_quantity);}}};u.map_func=function(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){u.map_func(arr,obj[i],item);}else{obj[i]=item;}};u.val=function(value){return u.typeOf(value)==="array"?value[0]:value;};u.remove_empty=function(a){var b,t;for(b in utag.loader.GV(a)){t=u.typeOf(a[b]);if(t==="object"){u.remove_empty(a[b]);if(u.isEmptyObject(a[b])){try{delete a[b];}catch(e){a[b]=undefined;}}}else if(!((a[b]===0||a[b]===false)?!0:(t==="array"&&a[b].length===0)?!1:!!a[b])){try{delete a[b];}catch(e){a[b]=undefined;}}}
return a;};u.calc_items=function(quan){var q,i=0;for(q=0;q<quan.length;q++){i+=parseInt(quan[q]);}
return i;};u.hasOwn=function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a);};u.isEmptyObject=function(o,a){for(a in o){if(u.hasOwn(o,a)){return false;}}return true;};u.process_AM_data=function(_data){var am_data={},item,val;for(item in utag.loader.GV(_data)){val=_data[item];val=val.replace(/\s/g,"").toLowerCase();if(item==="ph"){val=val.replace(/[^\d]/g,"");}else if(item==="ge"){if(val!=="m"&&val!=="f"){utag.DB("["+u.id+"] ge in wrong format. Removed from init call");continue;}}else if(item==="db"){if(val.length!==8){utag.DB("["+u.id+"] db is not the correct length. Please check format. Removed from init call");continue;}}else if(item==="zp"){val=val.replace(/[^\d]/g,"");if(val.length>5){utag.DB("["+u.id+"] zp is too long. Removed from init call");continue;}}
am_data[item]=val;}
return u.isEmptyObject(am_data)?undefined:am_data;};u.map={"page_type:product":"ViewContent","page_type:shipping":"InitiateCheckout","page_type:sort":"Sort","page_type:landing":"LandingPage","event_type:search":"Search","event_type:qv_wishlist_add":"AddToWishlist","content_type":"vc.content_type,cart.content_type,wish.content_type,search.content_type,purch.content_type","page_name:Product Quick Look":"ViewContent","event_name:cart_add":"AddToCart","order_currency_code":"order_currency","product_price":"wish.value"};u.extend=[function(a,b){try{if((typeof b['search_keyword']!='undefined'&&b['search_keyword']!=''&&b['is_actual_search']=='1')){b['event_type']='search'}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['product_sku']!='undefined'&&b['product_sku']!=''){b['content_type']='product'}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['order_currency_code']!='undefined'&&b['order_currency_code']==''){b['order_currency_code']='USD'}}catch(e){utag.DB(e);}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,g,h,evt=[];u.data={"qsp_delim":"&","kvp_delim":"=","base_url":"https://connect.facebook.net/en_US/fbevents.js","cust_pixel":"950059668395394","conv_pixel":"","page_view":"true","calc_items":"true","default_event":"None","adv_match":"false","custom_data":{},"custom_event":"","product_id":[],"product_name":[],"product_category":[],"product_unit_price":[],"product_quantity":[],"evt_list":[],"ecom":{}};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.map_func(e[f].split("."),u.data,b[d]);}}else{h=d.split(":");if(h.length===2&&b[h[0]]===h[1]){if(u.map[d]){evt=evt.concat(u.map[d].split(","));}}}}
if(u.data.evt_list&&u.typeOf(u.data.evt_list)!=="array"){u.data.evt_list=u.data.evt_list.split(/\s*,\s*/);}
if(u.data.default_event!=="None"&&u.data.default_event!==""){u.data.evt_list.push(u.data.default_event);}
u.data.evt_list=u.data.evt_list.concat(evt);g=u.data.ecom;g.order_id=u.data.order_id||b._corder||"";g.order_subtotal=u.data.order_subtotal||b._csubtotal||"";g.order_currency=u.data.order_currency||b._ccurrency||"";if(u.data.product_name.length===0&&b._cprodname!==undefined){g.product_name=b._cprodname.slice(0);}else{g.product_name=u.data.product_name;}
if(u.data.product_id.length===0&&b._cprod!==undefined){g.product_id=b._cprod.slice(0);}else{g.product_id=u.data.product_id;}
if(u.data.product_category.length===0&&b._ccat!==undefined){g.product_category=b._ccat.slice(0);}else{g.product_category=u.data.product_category;}
if(u.data.product_unit_price.length===0&&b._cprice!==undefined){g.product_unit_price=b._cprice.slice(0);}else{g.product_unit_price=u.data.product_unit_price;}
if(u.data.product_quantity.length===0&&b._cquan!==undefined){g.product_quantity=b._cquan.slice(0);}else{g.product_quantity=u.data.product_quantity;}
u.loader_cb=function(){var g={},i,j,_event,_track="track",p;if(u.data.evt_list.toString().indexOf("Purchase")===-1&&u.data.ecom.order_id){u.data.evt_list.push("Purchase");}
if(u.data.ecom.order_id){for(i=0;i<u.data.evt_list.length;i++){if(u.data.evt_list[i]==="Purchase"){p=true;}}
if(!p){u.data.evt_list.push("Purchase");}}
for(i=0;i<u.data.evt_list.length;i++){_event=u.data.evt_list[i];f=u.event_lookup[_event];c=f?f.map:[];f=f?f.obj:_event;g=u.data[f]=u.data[f]||{};for(j=0;j<c.length;j++){u.std_params[c[j]](g,_event);}
if(_event==="ViewContent"||_event==="AddToCart"){}else if(_event==="Lead"){if(!g.content_category){g.content_category='Quote';}}else if(_event==="Search"){if(!g.content_category){g.content_category='Product Search';}}else if(_event==="Conversion"&&u.data.conv_pixel){_event=u.data.conv_pixel;}else if(_event&&!u.event_lookup[_event]){_track="trackCustom";g=u.data[_event];}
if(g.value!==undefined){if(u.typeOf(g.value)==="array"){for(j=0;j<g.value.length;j++){g.value[j]=parseFloat(g.value[j])||0.00;}}else{g.value=parseFloat(g.value)||0.00;}}
if(_event){fbq(_track,_event,u.remove_empty(g));}}};u.callBack=function(){var data={};u.initialized=true;while(data=u.queue.shift()){u.data=data.data;u.loader_cb();}};if(u.initialized){u.loader_cb();}else{u.queue.push({"data":u.data});if(!u.scriptrequested){u.scriptrequested=true;u.loader_config={"type":"script","src":u.data.base_url,"cb":u.callBack,"loc":"script","id":"utag_28"};!function(f,b,self,config,e){if(f.fbq)return;self.loader(config);e=f.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments);};if(!f._fbq)f._fbq=e;e.push=e;e.loaded=!0;e.version='2.0';e.queue=[];e.agent='tmtealium';}(window,document,this,u.loader_config);if(u.data.cust_pixel){u.data.cust_pixel=u.data.cust_pixel.split(/\s*,\s*/);for(var i=0;i<u.data.cust_pixel.length;i++){u.data.cust_pixel[i]=u.data.cust_pixel[i].replace(/^\s*/,"").replace(/\s*$/,"");var amObj;if(u.data.adv_match===true||u.data.adv_match==="true"){amObj=u.process_AM_data(u.remove_empty(u.data.am));}
fbq('init',u.data.cust_pixel[i],amObj);}
if(u.data.page_view==="true"){fbq('track','PageView',u.data.page);}}}}
}};utag.o[loader].loader.LOAD(id);}("28","lampsplus.main"));}catch(error){utag.DB(error);}

//tealium universal tag - utag.29 ut4.0.202007092213, Copyright 2020 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={"id":id};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
if(utag.ut.loader===undefined){u.loader=function(o){var b,c,l,a=document;if(o.type==="iframe"){b=a.createElement("iframe");o.attrs=o.attrs||{"height":"1","width":"1","style":"display:none"};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l]);}b.setAttribute("src",o.src);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";for(l in utag.loader.GV(o.attrs)){b[l]=o.attrs[l];}b.src=o.src;}if(o.id){b.id=o.id};if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
if(utag.ut.merge===undefined){u.merge=function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d];}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined"){a[d]=b[d];}}}};}else{u.merge=utag.ut.merge;}
u.ev={"view":1,"link":1};u.initialized=false;u.scriptrequested=false;u.queue=[];u.event_lookup={"ViewContent":{obj:"vc","map":["value","currency","content_name","content_ids","content_category"]},"Search":{obj:"search","map":["value","currency","content_category","content_ids"]},"AddToCart":{obj:"cart","map":["value","currency","content_name","content_ids"]},"AddToWishlist":{obj:"wish","map":["value","currency","content_name","content_ids"]},"InitiateCheckout":{obj:"cout","map":["value","currency","content_name","content_ids","num_items"]},"AddPaymentInfo":{obj:"payment","map":["value","currency","content_category","content_ids"]},"Purchase":{obj:"purch","map":["value","currency","content_name","content_ids","num_items"]},"Lead":{obj:"lead","map":["value","currency","content_name","content_category"]},"CompleteRegistration":{obj:"reg","map":["value","currency","content_name"]},"Conversion":{obj:"cnv","map":["value","currency"]},"Custom":{obj:"cust","map":[]},"PageView":{obj:"page","map":[]}};u.std_params={"value":function(g,event){if(g.value===undefined||g.value===""){if(event==="ViewContent"||event==="AddToCart"){g.value=u.data.ecom.product_unit_price;}else{g.value=u.data.ecom.order_subtotal;}}
g.value=u.val(g.value);},"currency":function(g){if(!g.currency){g.currency=u.data.ecom.order_currency;}},"content_name":function(g){if(!g.content_name){g.content_name=u.data.ecom.product_name;}
g.content_name=u.val(g.content_name);},"content_ids":function(g){if(!g.content_ids){g.content_ids=u.data.ecom.product_id;}
if(u.typeOf(g.content_ids)!=="array"){g.content_ids=g.content_ids.split(/\s*,\s*/);}},"content_category":function(g){if(!g.content_category){g.content_category=u.data.ecom.product_category;}
g.content_category=u.val(g.content_category);},"num_items":function(g){if(!g.num_items&&u.data.calc_items==="true"){g.num_items=u.calc_items(u.data.ecom.product_quantity);}}};u.map_func=function(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){u.map_func(arr,obj[i],item);}else{obj[i]=item;}};u.val=function(value){return u.typeOf(value)==="array"?value[0]:value;};u.remove_empty=function(a){var b,t;for(b in utag.loader.GV(a)){t=u.typeOf(a[b]);if(t==="object"){u.remove_empty(a[b]);if(u.isEmptyObject(a[b])){try{delete a[b];}catch(e){a[b]=undefined;}}}else if(!((a[b]===0||a[b]===false)?!0:(t==="array"&&a[b].length===0)?!1:!!a[b])){try{delete a[b];}catch(e){a[b]=undefined;}}}
return a;};u.calc_items=function(quan){var q,i=0;for(q=0;q<quan.length;q++){i+=parseInt(quan[q]);}
return i;};u.hasOwn=function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a);};u.isEmptyObject=function(o,a){for(a in o){if(u.hasOwn(o,a)){return false;}}return true;};u.process_AM_data=function(_data){var am_data={},item,val;for(item in utag.loader.GV(_data)){val=_data[item];val=val.replace(/\s/g,"").toLowerCase();if(item==="ph"){val=val.replace(/[^\d]/g,"");}else if(item==="ge"){if(val!=="m"&&val!=="f"){utag.DB("["+u.id+"] ge in wrong format. Removed from init call");continue;}}else if(item==="db"){if(val.length!==8){utag.DB("["+u.id+"] db is not the correct length. Please check format. Removed from init call");continue;}}else if(item==="zp"){val=val.replace(/[^\d]/g,"");if(val.length>5){utag.DB("["+u.id+"] zp is too long. Removed from init call");continue;}}
am_data[item]=val;}
return u.isEmptyObject(am_data)?undefined:am_data;};u.map={"content_type":"purch.content_type","page_type:confirmation":"Purchase","order_currency_code":"order_currency"};u.extend=[function(a,b){try{if(typeof b['product_sku']!='undefined'&&b['product_sku']!=''){b['content_type']='product'}}catch(e){utag.DB(e);}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,g,h,evt=[];u.data={"qsp_delim":"&","kvp_delim":"=","base_url":"https://connect.facebook.net/en_US/fbevents.js","cust_pixel":"950059668395394","conv_pixel":"","page_view":"true","calc_items":"true","default_event":"None","adv_match":"false","custom_data":{},"custom_event":"","product_id":[],"product_name":[],"product_category":[],"product_unit_price":[],"product_quantity":[],"evt_list":[],"ecom":{}};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.map_func(e[f].split("."),u.data,b[d]);}}else{h=d.split(":");if(h.length===2&&b[h[0]]===h[1]){if(u.map[d]){evt=evt.concat(u.map[d].split(","));}}}}
if(u.data.evt_list&&u.typeOf(u.data.evt_list)!=="array"){u.data.evt_list=u.data.evt_list.split(/\s*,\s*/);}
if(u.data.default_event!=="None"&&u.data.default_event!==""){u.data.evt_list.push(u.data.default_event);}
u.data.evt_list=u.data.evt_list.concat(evt);g=u.data.ecom;g.order_id=u.data.order_id||b._corder||"";g.order_subtotal=u.data.order_subtotal||b._csubtotal||"";g.order_currency=u.data.order_currency||b._ccurrency||"";if(u.data.product_name.length===0&&b._cprodname!==undefined){g.product_name=b._cprodname.slice(0);}else{g.product_name=u.data.product_name;}
if(u.data.product_id.length===0&&b._cprod!==undefined){g.product_id=b._cprod.slice(0);}else{g.product_id=u.data.product_id;}
if(u.data.product_category.length===0&&b._ccat!==undefined){g.product_category=b._ccat.slice(0);}else{g.product_category=u.data.product_category;}
if(u.data.product_unit_price.length===0&&b._cprice!==undefined){g.product_unit_price=b._cprice.slice(0);}else{g.product_unit_price=u.data.product_unit_price;}
if(u.data.product_quantity.length===0&&b._cquan!==undefined){g.product_quantity=b._cquan.slice(0);}else{g.product_quantity=u.data.product_quantity;}
u.loader_cb=function(){var g={},i,j,_event,_track="track",p;if(u.data.evt_list.toString().indexOf("Purchase")===-1&&u.data.ecom.order_id){u.data.evt_list.push("Purchase");}
if(u.data.ecom.order_id){for(i=0;i<u.data.evt_list.length;i++){if(u.data.evt_list[i]==="Purchase"){p=true;}}
if(!p){u.data.evt_list.push("Purchase");}}
for(i=0;i<u.data.evt_list.length;i++){_event=u.data.evt_list[i];f=u.event_lookup[_event];c=f?f.map:[];f=f?f.obj:_event;g=u.data[f]=u.data[f]||{};for(j=0;j<c.length;j++){u.std_params[c[j]](g,_event);}
if(_event==="ViewContent"||_event==="AddToCart"){}else if(_event==="Lead"){if(!g.content_category){g.content_category='Quote';}}else if(_event==="Search"){if(!g.content_category){g.content_category='Product Search';}}else if(_event==="Conversion"&&u.data.conv_pixel){_event=u.data.conv_pixel;}else if(_event&&!u.event_lookup[_event]){_track="trackCustom";g=u.data[_event];}
if(g.value!==undefined){if(u.typeOf(g.value)==="array"){for(j=0;j<g.value.length;j++){g.value[j]=parseFloat(g.value[j])||0.00;}}else{g.value=parseFloat(g.value)||0.00;}}
if(_event){fbq(_track,_event,u.remove_empty(g));}}};u.callBack=function(){var data={};u.initialized=true;while(data=u.queue.shift()){u.data=data.data;u.loader_cb();}};if(u.initialized){u.loader_cb();}else{u.queue.push({"data":u.data});if(!u.scriptrequested){u.scriptrequested=true;u.loader_config={"type":"script","src":u.data.base_url,"cb":u.callBack,"loc":"script","id":"utag_29"};!function(f,b,self,config,e){if(f.fbq)return;self.loader(config);e=f.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments);};if(!f._fbq)f._fbq=e;e.push=e;e.loaded=!0;e.version='2.0';e.queue=[];e.agent='tmtealium';}(window,document,this,u.loader_config);if(u.data.cust_pixel){u.data.cust_pixel=u.data.cust_pixel.split(/\s*,\s*/);for(var i=0;i<u.data.cust_pixel.length;i++){u.data.cust_pixel[i]=u.data.cust_pixel[i].replace(/^\s*/,"").replace(/\s*$/,"");var amObj;if(u.data.adv_match===true||u.data.adv_match==="true"){amObj=u.process_AM_data(u.remove_empty(u.data.am));}
fbq('init',u.data.cust_pixel[i],amObj);}
if(u.data.page_view==="true"){fbq('track','PageView',u.data.page);}}}}
}};utag.o[loader].loader.LOAD(id);}("29","lampsplus.main"));}catch(error){utag.DB(error);}

//tealium universal tag - utag.32 ut4.0.202007092213, Copyright 2020 Tealium.com Inc. All Rights Reserved.
var uetq=uetq||[];try{(function(id,loader){var u={"id":id};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
var match=/ut\d\.(\d*)\..*/.exec(utag.cfg.v);if(utag.ut.loader===undefined||!match||parseInt(match[1])<41){u.loader=function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){b=m;}else{b=a.createElement("iframe");}o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}if(o.id){b.id=o.id;}for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l]);}b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){this.onreadystatechange=null;o.cb();}};}}if(o.type!="img"&&!m){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}}};}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.ev={"view":1,"link":1};u.initialized=false;u.map={"product_sku":"prodid","bing_page_type":"pagetype"};u.extend=[function(a,b,c,d,e,f,g){if(1){d=b['page_type'];if(typeof d=='undefined')return;c=[{'home':'home'},{'sort':'category'},{'confirmation':'purchase'},{'product':'product'},{'cart':'cart'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){g=new RegExp(f,'i');if(g.test(d)){b['bing_page_type']=c[e][f];m=true};};if(m)break};if(!m)b['bing_page_type']='other';}}];u.loader_cb=function(){if(!u.initialized){var o={ti:u.data.tagid};o.q=uetq;uetq=new UET(o);uetq.push("pageLoad");}
u.initialized=true;var g={};u.data.gv=u.data.gv||u.data.order_subtotal;u.data.gc=u.data.gc||u.data.order_currency;if(u.data.ec){g.ec=u.data.ec;}
if(u.data.ea){g.ea=u.data.ea;}
if(u.data.el){g.el=u.data.el;}
if(u.data.ev){g.ev=u.data.ev;}
if(u.data.gc){g.gc=u.data.gc;}
if(u.data.pagetype){g.pagetype=u.data.pagetype;}
if(u.data.prodid){g.prodid=u.data.prodid;}
if(u.data.gv){var gv=parseFloat(u.data.gv,10);if(isNaN(gv)===false){g.gv=gv;}}
if(!utag.ut.isEmptyObject(g)){uetq.push(g);}};u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){utag.DB("send:32");utag.DB(b);var c,d,e,f;u.data={"base_url":"//bat.bing.com/bat.js","tagid":"4007591","ec":"","ea":"","el":"","ev":"","gv":"","gc":"","pagetype":"","prodid":""};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};utag.DB("send:32:EXTENSIONS");utag.DB(b);for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
utag.DB("send:32:MAPPINGS");utag.DB(u.data);u.data.order_subtotal=u.data.order_subtotal||b._csubtotal||"";u.data.order_currency=u.data.order_currency||b._ccurrency||"";if(!u.initialized){u.loader({"type":"script","src":u.data.base_url,"cb":u.loader_cb,"loc":"script","id":"utag_32","attrs":{}});}else{u.loader_cb();}
utag.DB("send:32:COMPLETE");}};utag.o[loader].loader.LOAD(id);}("32","lampsplus.main"));}catch(error){utag.DB(error);}

//tealium universal tag - utag.33 ut4.0.202007092212, Copyright 2020 Tealium.com Inc. All Rights Reserved.
var dotq=dotq||[];try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
if(utag.ut.loader===undefined){u.loader=function(o){var b,c,l,a=document;if(o.type==="iframe"){b=a.createElement("iframe");o.attrs=o.attrs||{"height":"1","width":"1","style":"display:none"};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l]);}b.setAttribute("src",o.src);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";for(l in utag.loader.GV(o.attrs)){b[l]=o.attrs[l];}b.src=o.src;}if(o.id){b.id=o.id};if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.ev={"view":1};u.initialized=false;u.scriptrequested=false;u.queue=[];u.map={};u.extend=[];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,g;u.data={"base_url":"https://s.yimg.com/wi/ytc.js","projectId":"10000","pixelId":"439155","coloId":"SP","qstrings":{},"tagid":"","et":"custom","ec":"","ea":"","el":"","ev":"","gv":""};for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
u.data.order_subtotal=u.data.order_subtotal||b._csubtotal||"";u.loader_cb=function(){u.initialized=true;var utag_data=window.utag_data;var mappingOverride=utag_data&&utag_data.page_type==='confirmation'&&utag_data.website_mode.toLowerCase()!=='hospitality';if(mappingOverride){u.data.qstrings.ec='conversion';u.data.qstrings.et='custom';if(utag_data.order_subtotal&&!isNaN(utag_data.order_subtotal)){u.data.qstrings.gv=parseFloat(utag_data.order_subtotal,10);}}else{if(u.data.et){u.data.qstrings.et=u.data.et;}
if(u.data.ec){u.data.qstrings.ec=u.data.ec;}
if(u.data.ea){u.data.qstrings.ea=u.data.ea;}
if(u.data.el){u.data.qstrings.el=u.data.el;}
if(u.data.ev){u.data.qstrings.ev=u.data.ev;}
u.data.gv=u.data.gv||u.data.order_subtotal||"";if(u.data.gv){var gv=parseFloat(u.data.gv,10);if(isNaN(gv)===false)
u.data.qstrings.gv=gv;}}
dotq.push({"projectId":u.data.projectId,"properties":{"pixelId":u.data.pixelId,"qstrings":u.data.qstrings}});YAHOO.ywa.I13N.fireBeacon([{"projectId":u.data.projectId,"properties":{"pixelId":u.data.pixelId,"qstrings":u.data.qstrings}}]);};u.callBack=function(){var data={};while(data=u.queue.shift()){u.data=data.data;u.loader_cb();}};if(u.initialized){u.loader_cb();}else{u.queue.push({"data":u.data});if(!u.scriptrequested){u.scriptrequested=true;u.loader({"type":"script","src":u.data.base_url,"cb":u.callBack,"loc":"script","id":"utag_33"});}}
}};utag.o[loader].loader.LOAD(id);}("33","lampsplus.main"));}catch(error){utag.DB(error);}

//tealium universal tag - utag.36 ut4.0.202007092212, Copyright 2020 Tealium.com Inc. All Rights Reserved.
window.GoogleAnalyticsObject=""||"ga";window[window.GoogleAnalyticsObject]=window[window.GoogleAnalyticsObject]||function(){(window[window.GoogleAnalyticsObject].q=window[window.GoogleAnalyticsObject].q||[]).push(arguments);};try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){b.hFlag=0;b.onreadystatechange=function(){if((this.readyState==='complete'||this.readyState==='loaded')&&!b.hFlag){b.hFlag=1;o.cb();}};b.onload=function(){if(!b.hFlag){b.hFlag=1;o.cb();}};}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.ev={'view':1,'link':1};u.o=window[window.GoogleAnalyticsObject];u.required={};u.created=false;u.all=function(e,o,v,a,b,c){for(var i=0;i<u.data.account.length;i++){var t=(u.data.name[i]?u.data.name[i]+".":"");if(o==="event"){u.o(t+e,o,v,a,b,c)}else if(v){u.o(t+e,o,v)}else{u.o(t+e,o);}}};u.setHitData=function(g,a,b,f){var obj=u.data[a];for(var d in utag.loader.GV(obj)){if(b&&d.indexOf("enh_"+b+"-")!==0&&d.indexOf("enh_all-")!==0){continue;}
var idx=d.split("-")[1],val=obj[d];if(u.typeOf(val)!=="array"){g[idx]=val;}else{g[idx]=val[f];}}};u.addEvent=function(v){if(typeof v.eventCategory=="undefined"||typeof v.eventAction=="undefined"){utag.DB("GA event Category or Action is not set");return;}
if(isNaN(parseInt(v.eventValue))){utag.DB("GA event Value is not a number");v.eventValue=null;}else{v.eventValue=parseInt(v.eventValue)||null;}
u.data.ga_events.push(v);};u.addproduct=function(event_type,len,imp){var g={},i,j,k=[];if(imp===true){k=(u.data.enh_impression_id.length?u.data.enh_impression_id:u.data.enh_impression_name);for(i=0;i<k.length;i++){g={};g.id=(u.data.enh_impression_id[i]?u.data.enh_impression_id[i]:"");g.name=(u.data.enh_impression_name[i]?u.data.enh_impression_name[i]:"");g.brand=(u.data.enh_impression_brand[i]?u.data.enh_impression_brand[i]:"");g.variant=(u.data.enh_impression_variant[i]?u.data.enh_impression_variant[i]:"");g.category=(u.data.enh_impression_category[i]?u.data.enh_impression_category[i]:"");g.list=(u.data.enh_impression_list[i]?u.data.enh_impression_list[i]:"");g.price=(u.data.enh_impression_price[i]?u.data.enh_impression_price[i]:"");g.position=(u.data.enh_impression_position[i]?u.data.enh_impression_position[i]:"");u.setHitData(g,"enhecom_events",event_type,i);u.all('ec:addImpression',g);}}else{for(i=0;i<len;i++){g={};if(u.data.autofill_params==="true"){for(j=0;j<u.data.product_id.length;j++){u.data.product_name[j]=u.data.product_name[j]||u.data.product_id[j];u.data.product_unit_price[j]=u.data.product_unit_price[j]||"1.00";u.data.product_quantity[j]=u.data.product_quantity[j]||"1";}}
g.id=u.data.product_id[i];g.name=(u.data.product_name[i]?u.data.product_name[i]:"");g.brand=(u.data.product_brand[i]?u.data.product_brand[i]:"");g.variant=(u.data.product_variant[i]?u.data.product_variant[i]:"");g.category=(u.data.product_category[i]?u.data.product_category[i]:"");g.price=(u.data.product_unit_price[i]?u.data.product_unit_price[i]:"");g.quantity=(u.data.product_quantity[i]?u.data.product_quantity[i]:"");g.coupon=(u.data.product_discount[i]?u.data.product_discount[i]:"");g.position=(u.data.product_position[i]?u.data.product_position[i]:"");u.setHitData(g,"enhecom_events",event_type,i);u.all('ec:addProduct',g);}}};u.addpromo=function(action,event){var f,g;for(f=0;f<u.data.enh_promo_id.length;f++){g={};g.id=u.data.enh_promo_id[f];g.name=(u.data.enh_promo_name[f]?u.data.enh_promo_name[f]:u.data.enh_promo_id[f]);g.creative=(u.data.enh_promo_creative[f]?u.data.enh_promo_creative[f]:"");g.position=(u.data.enh_promo_position[f]?u.data.enh_promo_position[f]:"");u.all('ec:addPromo',g);}
if(action==="promo_click"&&event==="link"){u.all('ec:setAction',u.data.enh_action);if(u.data.autosend_events==="true"){u.all('send','event','Internal Promotions','click',(g.name?g.name:g.id),{'hitCallback':u.data.enh_event_cb});}}};u.createTracker=function(){var i,tn,start;if(u.typeOf(u.data.account)==="string"){u.data.account=u.data.account.replace(/\s/g,"").split(",");}
if(u.typeOf(u.data.name)==="string"&&u.data.name!==""){u.data.name=u.data.name.replace(/\s/g,"").split(",");}
if(!u.data.name||u.data.name.length!==u.data.account.length){start=u.data.name.length!==u.data.account.length?u.data.name.length:0;tn=utag.tagsettings.gua.trackernames;u.data.name=u.data.name||[];for(i=start;i<u.data.account.length;i++){u.data.name.push("tealium_"+(i+tn));}
utag.tagsettings.gua.trackernames=tn+i;}};u.initTracker=function(){var c,f;if(!u.created){u.created=true;for(f=0;f<u.data.account.length;f++){c={};if(u.data.siteSpeedSampleRate){c.siteSpeedSampleRate=parseInt(u.data.siteSpeedSampleRate);}
if(u.data.sampleRate){c.sampleRate=parseFloat(u.data.sampleRate);}
c.cookieDomain=u.data.cookieDomain;if(u.data.cookieExpires||u.data.cookieExpires==="0"){c.cookieExpires=parseInt(u.data.cookieExpires);}
if(u.data.legacyCookieDomain){c.legacyCookieDomain=u.data.legacyCookieDomain;}
if(u.data.legacyHistoryImport==="false"||u.data.legacyHistoryImport===false){c.legacyHistoryImport=u.data.legacyHistoryImport;}
c.allowLinker=u.data.allowLinker;if(typeof u.data.name[f]!=="undefined"&&u.data.name[f]!==""){c.name=u.data.name[f];}
if(u.data.clientId){c.clientId=u.data.clientId;}
u.o("create",u.data.account[f],c);u.o(c.name+'.set','customTask',function(model){model.set('dimension23',model.get('clientId'));});}
if(u.data.global_event_cb){u.all('set','hitCallback',u.data.global_event_cb);}
if(u.data.optimizely==="true"){window.optimizely=window.optimizely||[];window.optimizely.push(['activateUniversalAnalytics']);}}};u.setGlobalProperties=function(data,reset,custom_property){var map={"uid":{"name":"&uid","type":"exists","reset":true},"page":{"name":"page","type":"exists","reset":true},"title":{"name":"title","type":"exists","reset":true},"location":{"name":"location","type":"exists","reset":false},"campaignId":{"name":"campaignId","type":"exists","reset":true},"campaignName":{"name":"campaignName","type":"exists","reset":true},"campaignSource":{"name":"campaignSource","type":"exists","reset":true},"campaignMedium":{"name":"campaignMedium","type":"exists","reset":true},"campaignContent":{"name":"campaignContent","type":"exists","reset":true},"campaignKeyword":{"name":"campaignKeyword","type":"exists","reset":true},"dataSource":{"name":"dataSource","type":"exists","reset":true}},prop;if(custom_property&&reset){u.all("set",custom_property,"");}
for(prop in utag.loader.GV(map)){if(reset&&map[prop].reset){u.all("set",map[prop].name,"");}else{if(map[prop].type==="bool"){if(data[prop]==true||data[prop]==="true"){u.all("set",map[prop].name,true);}}
else if(map[prop].type==="exists"){if(data[prop]){u.all("set",map[prop].name,data[prop]);}}}}};window.utag.tagsettings=window.utag.tagsettings||{};window.utag.tagsettings.gua=window.utag.tagsettings.gua||{};window.utag.tagsettings.gua.trackernames=window.utag.tagsettings.gua.trackernames||0;u.map={"event_category":"eventCategory","event_action":"eventAction","event_label":"eventLabel,dimension27","tracking_id":"account","user_type":"dimension1","qp.cm_lm":"uid,dimension12","customer_rewards_number":"set.userId,dimension12","url_location_rewrite":"location","search_provider":"dimension2","website_mode":"dimension3","view":"dimension4","site_version":"dimension5","order_manual_discount":"dimension6","product_sort_page":"enh_all-dimension8","product_position":"enh_all-dimension9","product_gross_margin":"enh_all-dimension10,enh_all-metric1","qp.sourceid":"dimension11","ga_tracking_id":"tid","product_name":"product_name","product_price":"product_unit_price","product_category":"product_category,dimension24","product_islpproduct":"enh_all-dimension7","product_sku":"product_id","page_type:product":"detail","page_type:shipping":"checkout","page_type:checkout":"checkout","page_type":"dimension21","product_impression_sku":"enh_impression_id","product_impression_name":"enh_impression_name","product_impression_price":"enh_impression_price","event_name:product_click":"product_click","event_name:cart_add":"add","event_name:cart_remove":"remove","event_name:product_checkout_step_1":"checkout","checkout_step":"enh_checkout_step","google_param_src":"campaignSource","google_param_mdm":"campaignMedium","google_param_cmp":"campaignName","google_param_cnt":"campaignContent","google_param_trm":"campaignKeyword","ga_events_array":"ga_events","event_value":"eventValue","timing_category":"timingCategory","timing_var":"timingVar","timing_value":"timingValue","timing_label":"timingLabel","gua_non_interaction":"nonInteraction","product_style":"enh_all-dimension22","product_impression_list":"enh_impression_list,product_action_list","product_impression_position":"enh_impression_position,product_position","product_impression_category":"enh_impression_category","search_results":"dimension28","list_type":"link-dimension26,pageview-dimension26","shipping_time":"dimension32","ga_cd31":"dimension31","bopus_store_number":"dimension33","filter_id":"enh_all-dimension35","test_id":"enh_all-dimension16","mm_id":"enh_all-dimension17","formula_id":"enh_all-dimension18","pin_id":"enh_all-dimension19","test_start_date":"enh_all-dimension20","testcomposition_id":"enh_all-dimension25","vendor_widget":"enh_all-dimension36","widget_name":"enh_all-dimension37","room_category":"dimension30","order_payment_type":"dimension29"};u.extend=[function(a,b){try{if(1){var href=window.location.href;var pathname=window.location.pathname;function convertUrlsForGoogleAnalytics(str,path){if(path.indexOf('/contact-us')===0){return str.replace(/&?(firstname|lastname|emailaddress)=[^&]*/g,'');}
if(path.indexOf('/products/s_')===0){return str.replace(/products\/s_/g,'search?q=').replace(/-/g,'%20').replace(/\/([^\/]+)_([^\/]+)(\/$)?/g,'&$1=$2').replace(/\/\?s/g,'&page');}
return str;}
b.url_location_rewrite=convertUrlsForGoogleAnalytics(href,pathname);}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['page_type']!='undefined'&&b['page_type'].toString().toLowerCase()=='confirmation'.toLowerCase())){b['event_category']='ecommerce';b['event_action']='transaction';b['event_label']=b['order_id']}}catch(e){utag.DB(e);}},function(a,b,c,d,e,f,g){if(1){d=b['ut.env'];if(typeof d=='undefined')return;c=[{'prod':'UA-1043949-17'},{'qa':'UA-1043949-19'},{'dev':'UA-1043949-19'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['ga_tracking_id']=c[e][f];m=true};};if(m)break};}},function(a,b){try{if(1){document.getElementById('requestAnAppointment').addEventListener('click',function(){var storeElement=parent.document.querySelector('#divStoreInfo h1:first-child span');var storeName=storeElement?storeElement.innerText.trim():'';var input=document.getElementById('phoneNumberAppointment');if(input&&input.value.length>9){window.utag.link({'event_category':'Store-Details-Desktop','event_action':'submit-Appointment','event_label':storeName});}});}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var query=window.location.search.substring(1);var vars=query?query.split('&'):[];if(vars.length>0){vars.forEach(function(el){getQueryVariable(el);});}
function getQueryVariable(variable){var name=variable.split('=')[0];var value=variable.split('=')[1];b["google_param_"+name]=value;}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['page_type']=='home'){b.ga_events_array=[];for(var entry in window.lp.performanceMetrics){var trackingObject={'timingCategory':'Performance Metrics','timingVar':window.lp.performanceMetrics[entry].name,'timingValue':window.lp.performanceMetrics[entry].startTime}
b.ga_events_array.push(trackingObject);}
window.lp.performanceMetrics.sent=true;document.addEventListener('tracking-fmp',function(event){var trackingObject={timing_category:event.detail['timing_category'],timing_var:event.detail['timing_var'],timing_value:event.detail['timing_value']};window.utag.link(trackingObject);});}}catch(e){utag.DB(e)}},function(a,b){try{if(b['page_type']=='home'){document.addEventListener('tracking-tti',function(e){var trackingObject={'timing_category':e.detail['timing_category'],'timing_var':e.detail['timing_var'],'timing_value':e.detail['timing_value']};window.utag.link(trackingObject);});}}catch(e){utag.DB(e)}},function(a,b){try{if(b['event_name']=='namogoo_y_n'){b['event_category']='Namogoo Event';b['event_action']='Namogoo Fired';b['event_label']=b['event_value'];b['event_value']='1'}}catch(e){utag.DB(e);}},function(a,b){try{if(1){(function(){var DESKTOP_TITLE_SELECTOR='.stockCheck .stockCheckTitle';var DESKTOP_BODY_SELECTOR='.stockCheck .stockCheckBody';var MOBILE_PDP_SELECTOR='#pdInfo .shipsInMessage';var MOBILE_PLA_SELECTOR='#pnlProductPrice .shipsTodayQL';function getMobileStockInfo(){var pdpShippingElement=document.querySelector(MOBILE_PDP_SELECTOR);var plaShippingElement=document.querySelector(MOBILE_PLA_SELECTOR);var returnString="";if(pdpShippingElement){returnString=pdpShippingElement.textContent
.trim()
.toLowerCase()
.replace(/\s{2}/g," ");return returnString;}
if(plaShippingElement){returnString=plaShippingElement.textContent
.trim()
.toLowerCase()
.replace(/\s{2}/g," ");return returnString;}
return returnString;}
function getDesktopStockCheckInfo(){var returnString="";var shippingTitleElement=document.querySelector(DESKTOP_TITLE_SELECTOR);var shippingBodyElement=document.querySelector(DESKTOP_BODY_SELECTOR);if(shippingTitleElement&&shippingBodyElement){returnString=shippingTitleElement.textContent.trim().toLowerCase();if(returnString==='in stock'){returnString+=" - ";}else{returnString+=" ";}
returnString+=shippingBodyElement.textContent.trim().toLowerCase();}
return returnString;}
if(a==='view'){if(window.utag_data&&window.utag_data.is_mobile==="1"){b.shipping_time=getMobileStockInfo();}else{b.shipping_time=getDesktopStockCheckInfo();}}})();}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){if(a&&b){if(a==="view"){b.ga_cd31=atob(b.ga_cd31);}}}());}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){if(a&&b&&window.lp&&window.lp.globals){var bopusStoreNumber=window.lp.globals.bopusStoreNumber;if(a==='view'&&bopusStoreNumber){b.bopus_store_number=bopusStoreNumber;}}}())}}catch(e){utag.DB(e)}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){u.o=window[window.GoogleAnalyticsObject];b.ga_events=b.ga_events||[];var c,d,e,f,g,h,tn,prop;if(u.data&&u.data.name){tn=u.data.name;}
u.data={"qsp_delim":"&","kvp_delim":"=","base_url":"","a":a,"cookieDomain":""||utag.loader.lh(),"name":tn||"","account":"","anonymizeIp":"false","allowLinker":"false","crossDomainTrack":"","enhancedLinkAttribution":"false","enhancedecommerce":"true","displayfeatures":"true","screenView":"false","optimizely":"false","init_before_extensions":"false","autofill_params":"false","autosend_events":"false"||"true","clear_global_vars":"false","enh_action":"","enh_event_cb":"","enh_checkout_step":"","enh_checkout_option":"","product_action_list":"","product_variant":[],"enh_impression_id":[],"enh_impression_name":[],"enh_impression_price":[],"enh_impression_category":[],"enh_impression_brand":[],"enh_impression_variant":[],"enh_impression_list":[],"enh_impression_position":[],"enh_promo_id":[],"enh_promo_name":[],"enh_promo_creative":[],"enh_promo_position":[],"id":"","product_id":[],"product_name":[],"product_brand":[],"product_category":[],"product_quantity":[],"product_unit_price":[],"product_discount":[],"product_position":[],"ga_events":[],"sessionControl":"","set":{}};if(u.data.init_before_extensions==="true"){u.createTracker();u.initTracker();}
for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){if(e[f].indexOf("a.")===0){u.data["a"][e[f].substring(2)]=b[d];}else if(e[f].indexOf("set.")===0){u.data.set[e[f].substring(4)]=b[d];}else{u.data[e[f]]=b[d];}}}else{h=d.split(":");if(h.length===2&&b[h[0]]===h[1]){if(u.map[d]){u.data.enh_action=u.map[d];}}}}
u.data.account=u.data.tid||u.data.account;if(u.typeOf(u.data.ga_events)==="array"&&u.typeOf(b.ga_events)==="array"){if(u.data.ga_events.length===0&&b.ga_events.length>0){u.data.ga_events=b.ga_events;}else if(u.data.ga_events.length>0&&b.ga_events.length>0){u.data.ga_events=u.data.ga_events.concat(b.ga_events);}}
u.data.order_id=u.data.order_id||b._corder||"";u.data.order_total=u.data.order_total||b._ctotal||"";u.data.order_shipping=u.data.order_shipping||b._cship||"";u.data.order_tax=u.data.order_tax||b._ctax||"";u.data.order_store=u.data.order_store||b._cstore||"";u.data.order_currency=u.data.order_currency||b._ccurrency||"";u.data.order_coupon_code=u.data.order_coupon_code||b._cpromo||"";if(u.data.product_id.length===0&&b._cprod!==undefined){u.data.product_id=b._cprod.slice(0);}
if(u.data.product_name.length===0&&b._cprodname!==undefined){u.data.product_name=b._cprodname.slice(0);}
if(u.data.product_brand.length===0&&b._cbrand!==undefined){u.data.product_brand=b._cbrand.slice(0);}
if(u.data.product_category.length===0&&b._ccat!==undefined){u.data.product_category=b._ccat.slice(0);}
if(u.data.product_quantity.length===0&&b._cquan!==undefined){u.data.product_quantity=b._cquan.slice(0);}
if(u.data.product_unit_price.length===0&&b._cprice!==undefined){u.data.product_unit_price=b._cprice.slice(0);}
if(u.data.product_discount.length===0&&b._cpdisc!==undefined){u.data.product_discount=b._cpdisc.slice(0);}
if(u.data.init_before_extensions!=="true"){u.createTracker();u.initTracker();}
if(u.data.enhancedecommerce==="true"&&!u.required["ec"]){u.required["ec"]=!0;u.all("require","ec");}
u.data.app_id=u.data.app_id||u.data.appId||b.app_id;u.data.app_name=u.data.app_name||u.data.appName||b.app_name;u.data.app_version=u.data.app_version||u.data.appVersion||b.app_version;u.data.app_rdns=u.data.app_rdns||u.data.appInstallerId||b.app_rdns;u.data.screen_title=u.data.screen_title||u.data.screenName||b.screen_title;if(u.data.app_id||u.data.app_name){g={};g.appName=u.data.app_name;g.appId=u.data.app_id||"";g.appVersion=u.data.app_version;g.appInstallerId=u.data.app_rdns;u.all("set",g);}
u.data.exception_reason=u.data.exception_reason||b.exception_reason;if(u.data.exception_reason){g={};g.exDescription=u.data.exception_reason;g.exFatal=true;u.all("send","exception",g);}
if(u.data.allowLinker==="true"||u.data.allowLinker===true){if(!u.required["linker"]){u.all("require","linker");u.required["linker"]=!0;}
if(u.data.crossDomainTrack){if(u.typeOf(u.data.crossDomainTrack)==="string"){u.data.crossDomainTrack=u.data.crossDomainTrack.replace(/\s/g,'').split(',');}
u.all("linker:autoLink",u.data.crossDomainTrack);}}
if(u.data.clear_global_vars==="true"){u.setGlobalProperties(u.data,true);for(prop in utag.loader.GV(u.data.set)){u.setGlobalProperties(u.data,true,prop);}}
u.setGlobalProperties(u.data,false);if(u.data.anonymizeIp==="true"||u.data.anonymizeIp===true){u.all("set",'anonymizeIp',true);}
if(u.data.uid){u.all("set","&uid",u.data.uid);}
if(u.data.page){u.all("set","page",u.data.page);}
if(u.data.title){u.all("set","title",u.data.title);}
if(u.data.location){u.all("set","location",u.data.location);}
if(u.data.campaignId){u.all("set","campaignId",u.data.campaignId);}
if(u.data.campaignName){u.all("set","campaignName",u.data.campaignName);}
if(u.data.campaignSource){u.all("set","campaignSource",u.data.campaignSource);}
if(u.data.campaignMedium){u.all("set","campaignMedium",u.data.campaignMedium);}
if(u.data.campaignContent){u.all("set","campaignContent",u.data.campaignContent);}
if(u.data.campaignKeyword){u.all("set","campaignKeyword",u.data.campaignKeyword);}
if(u.data.displayfeatures==="true"||u.data.displayfeatures===true){if(!u.required["displayfeatures"]){u.required["displayfeatures"]=!0;u.all("require","displayfeatures");}}else{u.all("set","displayFeaturesTask",null);}
if(u.data.dataSource){u.all("set","dataSource",u.data.dataSource);}
for(prop in utag.loader.GV(u.data.set)){u.all("set",prop,u.data.set[prop]);}
u.data.transaction_events={};u.data.pageview_events={};u.data.link_events={};u.data.enhecom_events={};for(d in utag.loader.GV(u.data)){if(d.indexOf("-")>-1&&(d.indexOf("metric")>-1||d.indexOf("dimension")>-1||d.indexOf("contentGroup")>-1)){if(d.indexOf("transaction-")===0){u.data.transaction_events[d]=u.data[d];}else if(d.indexOf("pageview-")===0){u.data.pageview_events[d]=u.data[d];}else if(d.indexOf("link-")===0){u.data.link_events[d]=u.data[d];}else if(u.data.enhancedecommerce==="true"&&d.indexOf("enh_")===0){u.data.enhecom_events[d]=u.data[d];}}else if(d.indexOf("metric")===0||d.indexOf("dimension")===0||d.indexOf("contentGroup")===0){u.all("set",d,u.data[d]);}}
if(u.data.enhancedLinkAttribution==="true"){if(!u.required["enhancedLinkAttribution"]){u.required["enhancedLinkAttribution"]=!0;u.all("require","linkid","linkid.js");}}
u.data.order_id=(u.data.order_id?u.data.order_id:u.data.id);if(u.data.enhancedecommerce==="true"){u.all("set",'&cu',(u.data.currency?u.data.currency:u.data.order_currency));if(u.data.order_id&&u.data.enh_action==="refund"){if(u.data.order_id instanceof Array&&u.data.order_id.length>0){u.data.order_id=u.data.order_id[0];}
for(f=0;f<u.data.product_id.length;f++){g={};g.id=u.data.product_id[f];g.quantity=(u.data.product_quantity[f]?u.data.product_quantity[f]:"1");u.setHitData(g,"enhecom_events","product_refund",f);u.all('ec:addProduct',g);}
g={};g.id=u.data.order_id;u.setHitData(g,"enhecom_events","refund");u.all('ec:setAction','refund',g);}
else if(u.data.order_id){if(u.data.order_id instanceof Array&&u.data.order_id.length>0){u.data.order_id=u.data.order_id[0];}
u.addproduct("product_purchase",u.data.product_id.length,false);g={};g.id=u.data.order_id;g.affiliation=(u.data.affiliation?u.data.affiliation:u.data.order_store);g.revenue=(u.data.revenue?u.data.revenue:u.data.order_total);g.shipping=(u.data.shipping?u.data.shipping:u.data.order_shipping);g.tax=(u.data.tax?u.data.tax:u.data.order_tax);g.coupon=(u.data.coupon?u.data.coupon:u.data.order_coupon_code);u.setHitData(g,"enhecom_events","purchase");u.all('ec:setAction','purchase',g);}
else if(u.data.enh_action==="product_click"&&u.data.a==="link"){u.addproduct("product_click",1,false);u.all('ec:setAction','click',{list:u.data.product_action_list});if(u.data.autosend_events==="true"){u.all('send','event','UX','click','Results',{'hitCallback':u.data.enh_event_cb});}
}
else if(u.data.enh_action==="detail"){u.addproduct("detail",1,false);g={};if(!u.data.product_action_list){u.all("ec:setAction","detail");}else{u.all("ec:setAction","detail",{'list':u.data.product_action_list});}
}
else if(u.data.enh_action==="add"){u.addproduct("product_add",u.data.product_id.length,false);u.all('ec:setAction','add',{list:u.data.product_action_list});if(u.data.a==="link"&&u.data.autosend_events==="true"){u.all('send','event','UX','click','add to cart',{'hitCallback':u.data.enh_event_cb});}
}
else if(u.data.enh_action==="remove"){u.addproduct("product_remove",u.data.product_id.length,false);u.all('ec:setAction','remove');if(u.data.a==="link"&&u.data.autosend_events==="true"){u.all('send','event','UX','click','remove from cart',{'hitCallback':u.data.enh_event_cb});}
}
else if(u.data.enh_action==="checkout"){u.addproduct("product_checkout",u.data.product_id.length,false);g={};g.step=u.data.enh_checkout_step||"1";g.option=u.data.enh_checkout_option;u.all('ec:setAction',u.data.enh_action,g);}
if(u.data.enh_action==="checkout_option"&&u.data.a==="link"){g={};g.step=u.data.enh_checkout_step||"1";g.option=u.data.enh_checkout_option;u.all('ec:setAction',u.data.enh_action,g);if(u.data.autosend_events==="true"){u.all('send','event','Checkout','Option',{'hitCallback':u.data.enh_event_cb});}
}
if(u.data.enh_impression_id){u.addproduct("product_impression",u.data.enh_impression_id.length,true);}
if(u.data.enh_promo_id){u.addpromo(u.data.enh_action,u.data.a);}
g={};if(u.data.order_id){u.setHitData(g,"transaction_events");}
u.setHitData(g,"pageview_events");if(u.data.sessionControl==="start"||u.data.sessionControl==="end"){g.sessionControl=u.data.sessionControl;}
if(u.data.a==="view"){if(u.data.screenView==="true"||u.data.screenView===true){g.screenName=u.data.screen_title||"";u.all("send","screenview",g);}else{g.hitType="pageview";u.all("send",g);}}
}else if(u.data.a==="view"){g={};u.setHitData(g,"pageview_events");if(u.data.sessionControl==="start"||u.data.sessionControl==="end"){g.sessionControl=u.data.sessionControl;}
if(u.data.screenView==="true"||u.data.screenView===true){g.screenName=u.data.screen_title||"";u.all("send","screenview",g);}else{g.hitType="pageview";u.all("send",g);}
if(u.data.order_id&&!(u.data.order_id instanceof Array)){if(!u.required["ecommerce"]){u.required["ecommerce"]=!0;u.all("require","ecommerce","ecommerce.js");}
g={};u.setHitData(g,"transaction_events");g.id=u.data.order_id;g.affiliation=(u.data.affiliation?u.data.affiliation:u.data.order_store);g.revenue=(u.data.revenue?u.data.revenue:u.data.order_total);g.shipping=(u.data.shipping?u.data.shipping:u.data.order_shipping);g.tax=(u.data.tax?u.data.tax:u.data.order_tax);g.currency=(u.data.currency?u.data.currency:u.data.order_currency);u.all('ecommerce:addTransaction',g);for(f=0;f<u.data.product_id.length;f++){g={};g.id=u.data.order_id;g.sku=u.data.product_id[f];g.name=(u.data.product_name[f]?u.data.product_name[f]:u.data.product_id[f]);g.category=(u.data.product_category[f]?u.data.product_category[f]:"");g.price=(u.data.product_unit_price[f]?u.data.product_unit_price[f]:"1.00");g.quantity=(u.data.product_quantity[f]?u.data.product_quantity[f]:"1");u.setHitData(g,"transaction_events");u.all('ecommerce:addItem',g);}
u.all('ecommerce:send');}else if(u.data.order_id instanceof Array&&u.data.order_id.length>0){if(!u.required["ecommerce"]){u.required["ecommerce"]=!0;u.all("require","ecommerce","ecommerce.js");}
var lastindex=0;for(f=0;f<u.data.order_id.length;f++){if(f===u.data.order_id.length-1||(u.data.order_id[f]!==u.data.order_id[f+1])){g={};u.setHitData(g,"transaction_events");g.id=u.data.order_id[f];g.affiliation=(u.data.affiliation&&typeof u.data.affiliation[f]!=="undefined"?u.data.affiliation[f]:u.data.order_store);g.revenue=(u.data.revenue&&typeof u.data.revenue[f]!=="undefined"?u.data.revenue[f]:u.data.order_total);g.shipping=(u.data.shipping&&typeof u.data.shipping[f]!=="undefined"?u.data.shipping[f]:u.data.order_shipping);g.tax=(u.data.tax&&typeof u.data.tax[f]!=="undefined"?u.data.tax[f]:u.data.order_tax);g.currency=(u.data.currency?u.data.currency:u.data.order_currency);u.all('ecommerce:addTransaction',g);for(e=lastindex;e<f+1;e++){g={};g.id=u.data.order_id[f];g.sku=u.data.product_id[e];g.name=(u.data.product_name[e]?u.data.product_name[e]:u.data.product_id[e]);g.category=(u.data.product_category[e]?u.data.product_category[e]:"");g.price=(u.data.product_unit_price[e]?u.data.product_unit_price[e]:"1.00");g.quantity=(u.data.product_quantity[e]?u.data.product_quantity[e]:"1");u.setHitData(g,"transaction_events");u.all('ecommerce:addItem',g);}
lastindex=f+1;}}
u.all('ecommerce:send');}
}
if(u.data.eventCategory&&u.data.eventAction){g={};u.setHitData(g,"link_events");g.hitType="event";g.eventCategory=u.data.eventCategory;if(u.data.nonInteraction){g.nonInteraction=1;}
g.eventAction=u.data.eventAction;if(u.data.eventLabel){g.eventLabel=u.data.eventLabel;}
if(typeof u.data.eventValue!=="undefined"&&u.data.eventValue!==""){g.eventValue=u.data.eventValue;}
if(u.data.standard_event_cb){g.hitCallback=u.data.standard_event_cb;}
if(u.data.screenView==="true"||u.data.screenView===true){g.screenName=u.data.screen_title||"";}
if(u.data.sessionControl==="start"||u.data.sessionControl==="end"){g.sessionControl=u.data.sessionControl;}
u.all("send",g);u.data.eventCategory=u.data.eventAction=u.data.eventLabel=u.data.eventValue="";}
for(e=0;e<u.data.ga_events.length;e++){g={};u.setHitData(g,"link_events");if(u.data.ga_events[e].timingCategory){g.hitType="timing";g.timingCategory=u.data.ga_events[e].timingCategory;g.timingVar=u.data.ga_events[e].timingVar;g.timingValue=u.data.ga_events[e].timingValue;g.timingLabel=u.data.ga_events[e].timingLabel;}else{g.hitType="event";g.eventCategory=u.data.ga_events[e].eventCategory;g.eventAction=u.data.ga_events[e].eventAction;g.eventLabel=u.data.ga_events[e].eventLabel;g.eventValue=u.data.ga_events[e].eventValue;if(u.data.ga_events[e].nonInteraction){g.nonInteraction=1;}
if(u.data.sessionControl==="start"||u.data.sessionControl==="end"){g.sessionControl=u.data.sessionControl;}}
u.all("send",g);}
if(u.data.socialNetwork&&u.data.socialAction&&u.data.socialTarget){g={};g.hitType="social";g.socialNetwork=u.data.socialNetwork;g.socialAction=u.data.socialAction;g.socialTarget=u.data.socialTarget;u.all("send",g);u.data.socialNetwork=u.data.socialAction=u.data.socialTarget="";}
if(u.data.timingCategory&&u.data.timingVar&&u.data.timingValue){g={};g.hitType="timing";g.timingCategory=u.data.timingCategory;g.timingVar=u.data.timingVar;g.timingValue=u.data.timingValue;g.timingLabel=u.data.timingLabel||"";u.all("send",g);}
if(u.data["ga-disable"]){window["ga-disable-"+u.data["ga-disable"]]=true;}
(function(){var id="tealium-tag-7110";if(document.getElementById(id)){return;}
u.loader({"type":"script","src":"https://www.google-analytics.com/analytics.js","loc":"script","id":id});u.o.l=1*new Date();})();}};utag.o[loader].loader.LOAD(id);}('36','lampsplus.main'));}catch(error){utag.DB(error);}

//tealium universal tag - utag.43 ut4.0.202007092212, Copyright 2020 Tealium.com Inc. All Rights Reserved.
var _bcvma=_bcvma||[];var _bcct=_bcct||[];try{(function(id,loader,u){try{u=utag.o[loader].sender[id]={}}catch(e){u=utag.sender[id]};u.ev={'view':1,'link':1};u.AccountID="138297143032113151";u.InvitationDefID="";u.WebsiteDefID="1753861438288170235";u.ConversionCodeID="";u.base_url="";u.map={"is_pro":"IsPro","is_employee":"IsEmployee"};u.extend=[function(a,b){var pageType=b["page_type"].toLowerCase();var boldChatContainer=document.getElementsByClassName('boldChatButtonContainer');var isProLandingPage=location.pathname.indexOf('/secure/pros/index');if(utag.data['event_action']=='Fed-Ex-Validation'){return false;}
if(boldChatContainer.length>0){for(var i=0;i<boldChatContainer.length;i++){var item=boldChatContainer[i],bccbId="bc-"+Math.random(),customButton=unescape('%3Cdiv id='+bccbId+'%3E%3C/div%3E'),textOverride=item.dataset.textOverride,btnImgUrl=item.dataset.imageUrl;window._bcvma=window._bcvma||[];if(isPro=="0"&&isProLandingPage==-1){_bcvma.push(["addText",{type:"chat",window:"1391114663166131447",available:textOverride?textOverride:"Chat",unavailable:"Chat",id:bccbId}]);}else{_bcvma.push(["addText",{type:"chat",window:"1586810727790839459",available:textOverride?textOverride:"Chat",unavailable:"Chat",id:bccbId}]);}
item.innerHTML=customButton;if(btnImgUrl){item.style.backgroundImage='url('+btnImgUrl+')';}
item.style.backgroundRepeat='no-repeat';item.style.display='inline-block';}}
},function(a,b){window._bcvma=window._bcvma||[];if(isPro=="0"){_bcvma.push(["setParameter","InvitationID","138318736329945041"]);}else{_bcvma.push(["setParameter","InvitationID","2753265019569216216"]);}
_bcvma.push(["pageViewed"]);}];u.send=function(a,b){if(u.ev[a]||typeof u.ev.all!="undefined"){for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};var c,d,e,f;c=[];for(d in utag.loader.GV(u.map)){if(typeof b[d]!=="undefined"&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u[e[f]]=b[d];}}}
_bcvma.push(["setAccountID",u.AccountID]);if(u.WebsiteDefID!=""){_bcvma.push(["setParameter","WebsiteDefID",u.WebsiteDefID]);}
if(u.InvitationDefID!=""){_bcvma.push(["setParameter","InvitationDefID",u.InvitationDefID]);}
_bcvma.push(["setParameter","VisitName",u.VisitName||""]);_bcvma.push(["setParameter","VisitPhone",u.VisitPhone||""]);_bcvma.push(["setParameter","VisitEmail",u.VisitEmail||""]);_bcvma.push(["setParameter","VisitRef",u.VisitRef||""]);_bcvma.push(["setParameter","VisitInfo",u.VisitInfo||""]);_bcvma.push(["setParameter","CustomUrl",u.CustomUrl||""]);_bcvma.push(["setParameter","WindowParameters",u.WindowParameters||""]);_bcvma.push(["pageViewed"]);u.ConversionRef=u.ConversionRef||b._corder;if(u.ConversionRef){_bcct.push({VisitName:u.VisitName||"",VisitPhone:u.VisitPhone||"",VisitEmail:u.VisitEmail||"",VisitRef:u.VisitRef||"",VisitInfo:u.VisitInfo||"",CustomUrl:u.CustomUrl||"",ConversionAmount:u.ConversionAmount||b._csubtotal,ConversionRef:u.ConversionRef||"",ConversionInfo:u.ConversionInfo||"",ConversionCodeID:u.ConversionCodeID});}
var vms=document.createElement("script");vms.type="text/javascript";vms.async=true;vms.src=('https:'==document.location.protocol?'https://':'http://')+"vmss.boldchat.com/aid/"+u.AccountID+"/bc.vms4/vms.js";u.s=document.getElementsByTagName('script')[0];u.s.parentNode.insertBefore(vms,u.s);}}
try{utag.o[loader].loader.LOAD(id)}catch(e){utag.loader.LOAD(id)}})('43','lampsplus.main');}catch(e){}
(function(){ if(typeof utag!='undefined' && !utag_condload){utag.initcatch=true;for(var i in utag.loader.GV(utag.loader.cfg)){var b=utag.loader.cfg[i];if(b.load!=4){utag.initcatch=false;break};if(b.wait==1){utag.initcatch=false;break}};if(utag.initcatch)utag.handler.INIT();} })();